(function(){var t={6700:function(t,e,r){var a={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":6956,"./oc-lnc.js":6956,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":9304,"./th.js":9304,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function s(t){var e=o(t);return r(e)}function o(t){if(!r.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=o,t.exports=s,s.id=6700},2477:function(t,e,r){"use strict";r.d(e,{Z:function(){return aNt}});var a=r(9242),s=r(3396),o=r(7718);function l(t,e,r,a,l,i){const n=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(o.q,{class:"my-application"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})}var i=r(7139);const n="https://codsquad.net/",d="https://api.codsquad.net/",w="1.0.1",c="$";var u={name:"App",data:()=>({theme:"light",version:w}),methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions"]),checkVersion(){const t=localStorage.getItem("app_version");t!=this.version&&(localStorage.setItem("app_version",this.version),location.reload(!0))}},mounted(){this.checkVersion()}},p=r(89);const m=(0,p.Z)(u,[["render",l],["__scopeId","data-v-4a3ad42f"]]);var g=m,h=r(2483);let f={roles:localStorage.getItem("roles")?JSON.parse(localStorage.getItem("roles")):[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):[],isLoggedIn:"true"==localStorage.getItem("isLoggedIn"),permissions:localStorage.getItem("permissions")?JSON.parse(localStorage.getItem("permissions")):[],users:[],agents:[],deliveries:[],fetched:!1,fetchedRoles:!1};var y={name:"user",namespaced:!0,state:f,getters:{fetched:t=>t.fetched,fetchedRoles:t=>t.fetchedRoles,isLoggedIn:t=>t.isLoggedIn,permissions:t=>t.permissions,user:t=>t.user,users:t=>t.users,roles:t=>t.roles,agents:t=>t.agents,deliveries:t=>t.deliveries},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FETCHED_ROLES:(t,e)=>{t.fetchedRoles=e},SET_IS_LOGGED_IN:(t,e)=>{localStorage.setItem("isLoggedIn",e),t.isLoggedIn=e},SET_USER:(t,e)=>{localStorage.setItem("user",JSON.stringify(e)),t.user=e},SET_USERS:(t,e)=>{t.users=e},SET_PERMISSIONS:(t,e)=>{localStorage.setItem("permissions",JSON.stringify(e)),t.permissions=e},SET_ROLES:(t,e)=>{localStorage.setItem("roles",JSON.stringify(e)),t.roles=e},SET_DELIVERIES:(t,e)=>{t.deliveries=e},SET_AGENTS:(t,e)=>{t.agents=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFetchedRoles:({commit:t},e)=>{t("SET_FETCHED_ROLES",e)},setUser:({commit:t},e)=>{t("SET_USER",e)},setUsers:({commit:t},e)=>{t("SET_USERS",e)},setAgents:({commit:t},e)=>{t("SET_AGENTS",e)},setDeliveries:({commit:t},e)=>{t("SET_DELIVERIES",e)},setIsLoggedIn:({commit:t},e)=>{t("SET_IS_LOGGED_IN",e)},setPermissions:({commit:t},e)=>{t("SET_PERMISSIONS",e)},setRoles:({commit:t},e)=>{t("SET_ROLES",e)},logout:({commit:t})=>{t("SET_USER",{}),t("SET_IS_LOGGED_IN",!1),t("SET_PERMISSIONS",[]),t("SET_ROLES",[])}}},x={name:"alert",namespaced:!0,state:{active:!1,alert:{type:"success",title:"Toast",body:"Hello body"}},getters:{alert:t=>t},mutations:{TOGGLE_TOAST:(t,e)=>{t.alert=e,t.active=!0,setTimeout((()=>{t.active=!1}),4500)}},actions:{toggleAlert:({commit:t},e)=>{t("TOGGLE_TOAST",e)}}};r(7658);let b={products:[],fetched:!1};var v={name:"product",namespaced:!0,state:b,getters:{products:t=>t.products,fetched:t=>t.fetched},mutations:{SET_PRODUCTS:(t,e)=>{t.products=e},SET_PRODUCT:(t,e)=>{t.products=t.products.map((t=>t.id===e.id?e:t))},ADD_PRODUCT:(t,e)=>{t.products.push(e)},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setProducts:({commit:t},e)=>{t("SET_PRODUCTS",e)},setProduct:({commit:t},e)=>{t("SET_PRODUCT",e)},addProduct:({commit:t},e)=>{t("ADD_PRODUCT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};r(541);let _={fetched:!1,sales:[],count:0};var k={name:"sale",namespaced:!0,state:_,getters:{sales:t=>t.sales,count:t=>t.count,fetched:t=>t.fetched},mutations:{SET_SALES:(t,e)=>{t.sales=e},SET_COUNT:(t,e)=>{t.count=e},SET_FETCHED:(t,e)=>{t.fetched=e},UPDATE_SALE:(t,e)=>{t.sales=t.sales.map((t=>t.id===e.id?e.sale:t))},ADD_SALE:(t,e)=>{t.sales.unshift(e)},ADD_SALES:(t,e)=>{t.sales=[...e,...t.sales]},UPDATE_CONFIRMATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,console.log("sale updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.affectation=e.affectation,null!=e.affectation?t.delivery="dispatch":t.delivery=null,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,console.log("order updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.sales=t.sales.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))},RESET_SALES:(t,e)=>{t.sales=t.sales.map((t=>(e.includes(t.id)&&(t.agente_id=null,t.upsell=null,t.confirmation=null,t.affectation=null,t.note=null,t.note_d=null,t.delivery=null,t.reported_agente_date=null,t.reported_agente_note=null,t.reported_delivery_date=null,t.reported_delivery_note=null),t)))}},actions:{setSales:({commit:t},e)=>{t("SET_SALES",e)},setCount:({commit:t},e)=>{t("SET_COUNT",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},update:({commit:t},e)=>{t("UPDATE_SALE",e)},add:({commit:t},e)=>{t("ADD_SALE",e)},addSales:({commit:t},e)=>{t("ADD_SALES",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)},resetSales:({commit:t},e)=>{t("RESET_SALES",e)}}};let C={orders:[],order:null,all_orders:[],fetched:!1};var D={name:"order",namespaced:!0,state:C,getters:{fetched:t=>t.fetched,orders:t=>t.orders,order:t=>t.order,allOrders:t=>t.all_orders},mutations:{SET_ORDERS:(t,e)=>{t.orders=e},ADD_ORDER:(t,e)=>{t.orders.unshift(e),t.all_orders.unshift(e)},SET_FETCHED:(t,e)=>{t.fetched=e},SET_ALL_ORDERS:(t,e)=>{t.all_orders=e},SET_ORDER:(t,e)=>{t.order=e},UPDATE_ORDER:(t,e)=>{t.orders=t.orders.map((t=>t.id===e.id?e.order:t)),t.all_orders=t.all_orders.map((t=>t.id===e.id?e.order:t))},UPDATE_CONFIRMATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_CONFIRMATION_WITH_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.confirmation=e.confirmation,t.note=e.note,"confirmer"==e.confirmation&&(t.delivery="dispatch"),console.log("order updated")),t)))},UPDATE_UPSELL:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.upsell=e.upsell,console.log("sale updated")),t)))},UPDATE_AFFECTATION:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.affectation=e.affectation,console.log("sale updated")),t)))},UPDATE_NOTE:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.note=e.note,console.log("sale updated")),t)))},UPDATE_DELIVERY:(t,e)=>{t.orders=t.orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t))),t.all_orders=t.all_orders.map((t=>(t.id==e.id&&(t.delivery=e.delivery,console.log("sale updated")),t)))}},actions:{setOrders:({commit:t},e)=>{t("SET_ORDERS",e)},addOrder:({commit:t},e)=>{t("ADD_ORDER",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setAllOrders:({commit:t},e)=>{t("SET_ALL_ORDERS",e)},setOrder:({commit:t},e)=>{t("SET_ORDER",e)},update:({commit:t},e)=>{t("UPDATE_ORDER",e)},updateConfirmation:({commit:t},e)=>{t("UPDATE_CONFIRMATION",e)},updateConfirmationWithNote:({commit:t},e)=>{t("UPDATE_CONFIRMATION_WITH_NOTE",e)},updateUpsell:({commit:t},e)=>{t("UPDATE_UPSELL",e)},updateAffectation:({commit:t},e)=>{t("UPDATE_AFFECTATION",e)},updateNote:({commit:t},e)=>{t("UPDATE_NOTE",e)},updateDelivery:({commit:t},e)=>{t("UPDATE_DELIVERY",e)}}};let S={fetcehd:!1,inventoryList:[],inventoryState:[],inventoryMovements:[]};var z={name:"inventory",namespaced:!0,state:S,getters:{fetched:t=>t.fetched,inventoryList:t=>t.inventoryList,inventoryState:t=>t.inventoryState,inventoryMovements:t=>t.inventoryMovements},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_INVENTORY_LIST:(t,e)=>{t.inventoryList=e},SET_INVENTORY_STATE:(t,e)=>{t.inventoryState=e},SET_INVENTORY_MOVEMENTS:(t,e)=>{t.inventoryMovements=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setInventoryList:({commit:t},e)=>{t("SET_INVENTORY_LIST",e)},setInventoryState:({commit:t},e)=>{t("SET_INVENTORY_STATE",e)},setInventoryMovements:({commit:t},e)=>{t("SET_INVENTORY_MOVEMENTS",e)}}},U=r(6943);const P=U.Z.create({baseURL:d}),L=U.Z.create({baseURL:d});L.defaults.withCredentials=!0,L.defaults.headers={"Content-Type":"multipart/form-data",Accept:"application/json"},P.defaults.withCredentials=!0,P.defaults.headers={"Content-Type":"application/json",Accept:"application/json"};var q=P,$=r(680),A={getCookie(){let t=$.Z.get("XSRF-TOKEN");return t?new Promise((t=>{t()})):q.get("sanctum/csrf-cookie")}};class W{async statistics(t){return await A.getCookie(),q.post("api/v1/agent/statistics",t)}async paginate(t="/",e){return await A.getCookie(),q.post("api/v1/agent/orders"+t,e)}async counts(){return await A.getCookie(),q.get("api/v1/agent/orders/counts")}async update(t,e){return await A.getCookie(),q.post("api/v1/agent/orders/"+t+"/update",e)}async toConfirm(){return await A.getCookie(),q.get("api/orders/toconfirmate")}async getOrder(){return await A.getCookie(),q.get("api/orders/add")}async create(t){return await A.getCookie(),q.post("api/v1/agent/orders/create",t)}}var E=new W;let T={fetched:!1,totalAvailable:0,totalConfirmed:0,totalNotConfirmed:0};var F={name:"agent",namespaced:!0,state:T,getters:{fetched:t=>t.fetched,state:t=>t},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_TOTAL_CONFIRMED:(t,e)=>{t.totalConfirmed=e},SET_TOTAL_NOT_CONFIRMED:(t,e)=>{t.totalNotConfirmed=e},SET_TOTAL_AVAILABLE:(t,e)=>{t.totalAvailable=e}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setTotalConfirmed:({commit:t},e)=>{t("SET_TOTAL_CONFIRMED",e)},setTotalNotConfirmed:({commit:t},e)=>{t("SET_TOTAL_NOT_CONFIRMED",e)},setTotalAvailable:({commit:t},e)=>{t("SET_TOTAL_AVAILABLE",e)},refreshCounts:t=>{t.commit("SET_FETCHED",!1),console.log(t),E.counts().then((e=>{if("SUCCESS"==e?.data.code){const r=e.data.data;t.commit("SET_TOTAL_CONFIRMED",r.confirmed),t.commit("SET_TOTAL_NOT_CONFIRMED",r.not_confirmed),t.commit("SET_TOTAL_AVAILABLE",r.available),t.commit("SET_FETCHED",!0)}}))}}};const O=localStorage.getItem("cities");let V={fetched:!1,cities:O?JSON.parse(O):[]};var I={name:"city",namespaced:!0,state:V,getters:{cities:t=>t.cities,fetched:t=>t.fetched},mutations:{SET_CITIES:(t,e)=>{localStorage.setItem("cities",JSON.stringify(e)),t.cities=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setCities:({commit:t},e)=>{t("SET_CITIES",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let j={shops:[]};var R={name:"shop",namespaced:!0,state:j,getters:{shops:t=>t.shops},mutations:{SET_SHOPS:(t,e)=>{t.shops=e}},actions:{setShops:({commit:t},e)=>{t("SET_SHOPS",e)}}};let M={fetched:!1,notifications:{productStockAlert:[],reportedSale:[],reportedOrderAgente:[],reportedOrderDelivery:[]}};var N={name:"notification",namespaced:!0,state:M,getters:{notifications:t=>t.notifications,fetched:t=>t.fetched},mutations:{SET_NOTIFICATIONS:(t,e)=>{t.notifications=e},SET_FETCHED:(t,e)=>{t.fetched=e}},actions:{setNotifications:({commit:t},e)=>{t("SET_NOTIFICATIONS",e)},setFetched:({commit:t},e)=>{t("SET_FETCHED",e)}}};let H={fetched:!1,warehouses:[]};var Y={name:"warehouse",namespaced:!0,state:H,getters:{fetched:t=>t.fetched,warehouses:t=>t.warehouses},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_WAREHOUSES:(t,e)=>{t.warehouses=e},ADD_WAREHOUSE:(t,e)=>{t.warehouses.push(e)},DELETE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.filter((t=>t.id!=e))},UPDATE_WAREHOUSE:(t,e)=>{t.warehouses=t.warehouses.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setWarehouses:({commit:t},e)=>{t("SET_WAREHOUSES",e)},addWarehouse:({commit:t},e)=>{t("ADD_WAREHOUSE",e)},update:({commit:t},e)=>{t("UPDATE_WAREHOUSE",e)},delete:({commit:t},e)=>{t("DELETE_WAREHOUSE",e)}}};let Z={fetched:!1,factorisations:[]};var K={name:"factorisation",namespaced:!0,state:Z,getters:{fetched:t=>t.fetched,factorisations:t=>t.factorisations},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_FACTORISATIONS:(t,e)=>{t.factorisations=e},ADD_FACTORISATION:(t,e)=>{t.factorisations.push(e)},DELETE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.filter((t=>t.id!=e))},UPDATE_FACTORISATION:(t,e)=>{t.factorisations=t.factorisations.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setFactorisations:({commit:t},e)=>{t("SET_FACTORISATIONS",e)},addFactorisation:({commit:t},e)=>{t("ADD_FACTORISATION",e)},update:({commit:t},e)=>{t("UPDATE_FACTORISATION",e)},delete:({commit:t},e)=>{t("DELETE_FACTORISATION",e)}}};let B={fetched:!1,sheets:[]};var Q={name:"sheet",namespaced:!0,state:B,getters:{fetched:t=>t.fetched,sheets:t=>t.sheets},mutations:{SET_FETCHED:(t,e)=>{t.fetched=e},SET_SHEETS:(t,e)=>{t.sheets=e},ADD_SHEET:(t,e)=>{t.sheets.push(e)},DELETE_SHEET:(t,e)=>{t.sheets=t.sheets.filter((t=>t.id!=e))},UPDATE_SHEET:(t,e)=>{t.sheets=t.sheets.map((t=>t.id==e.id?{...e}:t))}},actions:{setFetched:({commit:t},e)=>{t("SET_FETCHED",e)},setSheets:({commit:t},e)=>{t("SET_SHEETS",e)},addSheet:({commit:t},e)=>{t("ADD_SHEET",e)},update:({commit:t},e)=>{t("UPDATE_SHEET",e)},delete:({commit:t},e)=>{t("DELETE_SHEET",e)}}};let J={supply_requests:[]};var G={name:"supply-request",namespaced:!0,state:J,getters:{supply_requests:t=>t.supply_requests},mutations:{SET_SUPPLY_REQUESTS:(t,e)=>{t.supply_requests=e},ADD_SUPPLY_REQUEST:(t,e)=>{t.supply_requests.unshift(e)},DELETE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.filter((t=>t.id!=e))},UPDATE_SUPPLY_REQUEST:(t,e)=>{t.supply_requests=t.supply_requests.map((t=>t.id==e.id?e:t))}},actions:{setSupplyRequests:({commit:t},e)=>{t("SET_SUPPLY_REQUESTS",e)},addSupplyRequest:({commit:t},e)=>{t("ADD_SUPPLY_REQUEST",e)},deleteSupplyRequest:({commit:t},e)=>{t("DELETE_SUPPLY_REQUEST",e)},updateSupplyRequest:({commit:t},e)=>{t("UPDATE_SUPPLY_REQUEST",e)}}},X=(0,i.MT)({state:{},getters:{},mutations:{},actions:{},modules:{user:y,product:v,alert:x,sale:k,order:D,inventory:z,city:I,agent:F,shop:R,notification:N,warehouse:Y,factorisation:K,sheet:Q,"supply-request":G}});class tt{async login(t){return await A.getCookie(),q.post("api/auth/login",{email:t.email,password:t.password})}async register(t){return await A.getCookie(),q.post("api/users/new",{email:t.email,password:t.password,phone:t.phone,status:t.status,role:t.role,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,city:t?.city,deliverycity:t?.deliveryCities,having_all:t.having_all})}async update(t,e){return await A.getCookie(),q.post("api/users/update/"+t.id,{email:t.email,password:t.password,phone:t.phone,status:t.status,firstname:t.firstname,lastname:t.lastname,username:t.username,product_id:t.product_id,role:t.role,city:t?.city,deliverycity:t?.deliveryCities,updatePassword:e,having_all:t.having_all})}async updateProfile(t,e){return await A.getCookie(),q.post("api/users/profile",{password:t.password,phone:t.phone,firstname:t.firstname,lastname:t.lastname,updatePassword:e})}async online(){return await A.getCookie(),q.get("api/user")}async profile(){return await A.getCookie(),q.get("api/users/profile")}async logout(){return await A.getCookie(),q.get("api/auth/logout")}async clear(){return await A.getCookie(),q.get("api/auth/clear")}async permession(){return await A.getCookie(),q.get("api/auth/permission")}async roles(){return await A.getCookie(),q.get("api/auth/roles")}async all(){return await A.getCookie(),q.get("api/users")}async updateStatus({id:t,status:e}){return await A.getCookie(),q.post("api/users/status/"+t,{status:e})}async delete(t){return await A.getCookie(),q["delete"]("api/users/delete/"+t)}async getUser(t){return await A.getCookie(),q.get("api/users/"+t)}async createRole({name:t,permissions:e}){return await A.getCookie(),q.post("api/roles/new",{name:t,permissions:e})}async updateRole(t,{name:e,permissions:r}){return await A.getCookie(),q.post("api/roles/update/"+t,{name:e,permissions:r})}async deleteRole(t){return await A.getCookie(),q["delete"]("api/roles/delete/"+t)}async getRole(t){return await A.getCookie(),q.get("api/roles/"+t)}async agents(){return await A.getCookie(),q.get("api/agents")}async deliveries(){return await A.getCookie(),q.get("api/delevries")}async allDeliveries(){return await A.getCookie(),q.get("api/deliveries")}async allSellers(){return await A.getCookie(),q.get("api/sellers")}async cities(){return await A.getCookie(),q.get("api/cities")}}var et=new tt;function rt(t,e,r){if(document.title=t.meta?.title+" | COD Squad",!X.getters["user/isLoggedIn"])return"/login"==t.path||{name:"login"};if(et.online().catch(aNt.$handleApiError),"/login"==t.path)return{name:"404"};const{gate:a}=t.meta,s=X.getters["user/permissions"];return"all"===a||((a||"/404"===t.path)&&!(!s.includes(a)&&"/404"!==t.path)||{name:"404"})}var at=r(2268),st=r(7312),ot=r(3369),lt=r(3289),it=r(165);const nt={class:"tw-min-h-screen tw-overflow-auto tw-bg-slate-50"},dt={class:"tw-grid tw-h-fit tw-overflow-hidden md:tw-grid-cols-2 tw-grid-cols-1"},wt={class:"py-md-5 py-10 pb-0 tw-flex tw-justify-center md:tw-items-center"},ct={class:"px-md-10 tw-w-full"},ut={class:"tw-w-[150px]"},pt=["src"],mt={class:"mt-md-10 mt-15 pt-5 px-md-5 px-lg-16 tw-w-full d-felx justify-center align-center"},gt={class:"pa-5 py-7 tw-border bg-white tw-rounded-lg tw-mx-auto tw-max-w-[450px]"},ht=(0,s._)("h1",{class:"text-h5 font-weight-medium !tw-text-gray-600"},"Login",-1),ft=(0,s._)("p",{class:"text-body-1 mt-2 !tw-text-gray-500"},"Please login to your account",-1),yt={key:0,class:"text-body-2 mt-2 !tw-text-red-500"},xt={class:"mt-5"},bt=(0,s._)("p",{class:"mb-1"},"Email",-1),vt=(0,s._)("p",{class:"mb-1"},"Password",-1),_t={class:"mt-5"},kt=(0,s._)("span",{class:"text-capitalize text-white"},"Login",-1),Ct={class:"bg-primary-color tw-min-h-screen tw-hidden md:tw-flex tw-items-center tw-justify-center"},Dt=["src"];function St(t,e,r,o,l,i){const n=(0,s.up)("Alert");return(0,s.wg)(),(0,s.iD)("div",nt,[(0,s.Wm)(n),(0,s._)("div",dt,[(0,s._)("div",wt,[(0,s.Wm)(ot.K,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",ct,[(0,s._)("div",ut,[(0,s._)("img",{class:"tw-w-full",src:l.localUrl+"assets/img/logo.png"},null,8,pt)]),(0,s._)("div",mt,[(0,s._)("div",gt,[ht,ft,l.error.active?((0,s.wg)(),(0,s.iD)("p",yt,(0,at.zw)(l.error.message),1)):(0,s.kq)("",!0),(0,s._)("div",xt,[(0,s._)("div",null,[bt,(0,s.Wm)(it.hw,{name:"email",onKeyup:e[0]||(e[0]=t=>i.resetError("email")),modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=t=>l.email=t),error:!l.emailStatus.valid,"error-messages":l.emailStatus.valid?"":l.emailStatus.message,autofocus:"",onBlur:e[2]||(e[2]=t=>l.emailFocus=!1),onFocus:e[3]||(e[3]=t=>l.emailFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:l.emailFocus?l.emailStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-email-outline")])),_:1},8,["color"])])),_:1},8,["modelValue","error","error-messages"])]),(0,s._)("div",null,[vt,(0,s.Wm)(it.hw,{name:"password",onKeyup:(0,a.D2)(i.login,["enter"]),modelValue:l.password,"onUpdate:modelValue":e[5]||(e[5]=t=>l.password=t),error:!l.passwordStatus.valid,"error-messages":l.passwordStatus.valid?"":l.passwordStatus.message,type:l.showPassword?"text":"password",onBlur:e[6]||(e[6]=t=>l.passwordFocus=!1),onFocus:e[7]||(e[7]=t=>l.passwordFocus=!0),color:"primary-color",variant:"outlined",class:"tw-w-full",density:"compact"},{"append-inner":(0,s.w5)((()=>[(0,s.Wm)(lt.t,{onClick:e[4]||(e[4]=t=>l.showPassword=!l.showPassword),class:"tw-relative tw-z-50 tw-cursor-pointer",color:l.passwordFocus?l.passwordStatus.valid?"primary-color":"error":"grey-darken-3"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.showPassword?"mdi-eye-off-outline":"mdi-eye-outline"),1)])),_:1},8,["color"])])),_:1},8,["onKeyup","modelValue","error","error-messages","type"])]),(0,s._)("div",_t,[(0,s.Wm)(st.T,{disabled:l.isLoading||!l.cookiesCleared,loading:l.isLoading||!l.cookiesCleared,onClick:i.login,block:"",size:"large",color:"primary-color",variant:"flat",class:"!tw-text-white disabled:!tw-bg-gray-200"},{default:(0,s.w5)((()=>[kt])),_:1},8,["disabled","loading","onClick"])])])])])])])),_:1})]),(0,s._)("div",Ct,[(0,s._)("img",{src:l.localUrl+"assets/img/login.jpg",class:"tw-w-full tw-h-full tw-object-cover",alt:""},null,8,Dt)])])])}function zt(t){var e=/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;return t?new RegExp(e).test(t)?{valid:!0}:{valid:!1,message:"Email is not valid."}:{valid:!1,message:"Email is required."}}function Ut(t){return t?t.length<=4||t.length>=16?{valid:!1,message:"Password length must be between 4 and 16."}:{valid:!0}:{valid:!1,message:"This field is required"}}function Pt(t,e="This field"){return t?{valid:!0}:{valid:!1,message:`${e} is required`}}function Lt(t,e="This field"){return t?isNaN(t)?{valid:!1,message:`${e} must be a valid number`}:{valid:!0}:{valid:!1,message:`${e} is required`}}function qt(t,e){return t?t!==e?{valid:!1,message:"Passwords doesn't match"}:{valid:!0}:{valid:!1,message:"This field is required."}}function $t(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one variant to create a product !"}}function At(t){return t.length?{valid:!0}:{valid:!1,message:"You need at least one permission to create a role !"}}var Wt=r(7771),Et=r(8952);const Tt={key:0,class:"pa-2 tw-absolute !tw-z-[510000]"},Ft={class:"tw-text-sm"};function Ot(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s.Wm)(Et.V,null,{default:(0,s.w5)((()=>[l.state.active?((0,s.wg)(),(0,s.iD)("div",Tt,[(0,s.Wm)(Wt.w,{closable:"",density:"compact",variant:"flat",type:l.state.alert.type,position:"fixed",location:"bottom right",class:"ma-2"},{default:(0,s.w5)((()=>[(0,s._)("div",Ft,(0,at.zw)(l.state.alert.title),1)])),_:1},8,["type"])])):(0,s.kq)("",!0)])),_:1})])}var Vt={computed:{state(){return this.$store.getters["alert/alert"]}}};const It=(0,p.Z)(Vt,[["render",Ot]]);var jt=It,Rt={components:{Alert:jt},data(){return{localUrl:n,isLoading:!1,cookiesCleared:!1,error:{active:!1,message:""},email:"",password:"",emailStatus:{valid:!0,message:""},passwordStatus:{valid:!0,message:""},emailFocus:!1,passwordFocus:!1,showPassword:!1}},methods:{...(0,i.nv)("user",["setIsLoggedIn","setPermissions","setUser"]),validateForm(){return this.emailStatus=zt(this.email),this.passwordStatus=Ut(this.password),this.passwordStatus.valid&&this.emailStatus.valid},login(){this.validateForm()&&(this.isLoading=!0,this.error={active:!1,message:""},et.login({email:this.email,password:this.password}).then((t=>{if("AUTHENTICATION_SUCCESSFUL"==t.data.code){this.setUser(t.data.data.user),this.setIsLoggedIn(!0);const e=t.data.data.user.permissions;this.setPermissions(e),this.$router.push("/")}})).catch((t=>{this.$handleApiError(t),"INVALID_CREDENTIALS"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"NOT_ACTIVE_ERROR"==t.response?.data.code&&(this.error={active:!0,message:t.response.data.message}),"VALIDATION_ERROR"==t.response?.data.code&&(this.emailStatus={valid:!1,message:t.response.data.error["email"][0]},this.passwordStatus={valid:!1,message:t.response.data.error["password"][0]})})).finally((()=>{this.isLoading=!1})),console.log("login..."))},resetError(t){"email"==t&&(this.emailStatus={valid:!0,message:""}),"password"==t&&(this.passwordStatus={valid:!0,message:""})}},mounted(){et.clear().then((()=>{this.cookiesCleared=!0}))}};const Mt=(0,p.Z)(Rt,[["render",St]]);var Nt=Mt,Ht={name:"login",path:"/login",component:Nt,meta:{title:"Login"}},Yt=r(4454),Zt=r(3140);function Kt(t,e,r,a,o,l){const i=(0,s.up)("AppSidebar"),n=(0,s.up)("AppHeader"),d=(0,s.up)("Alert"),w=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoggedIn?((0,s.wg)(),(0,s.j4)(Yt.s,{key:0,"full-height":!0},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{active:o.drawer},null,8,["active"]),(0,s.Wm)(n,{onToggleSidebar:l.toggleSidebar},null,8,["onToggleSidebar"]),(0,s.Wm)(d),(0,s.Wm)(Zt.O,{class:"tw-bg-gray-50 tw-min-h-screen tw-overflow-y-auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(ot.K,{fluid:"",class:"py-6 px-6"},{default:(0,s.w5)((()=>[(0,s.Wm)(w)])),_:1})])),_:1}),o.showScrollUpButton?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>l.scrollToTop&&l.scrollToTop(...t)),class:"tw-fixed tw-shadow tw-text-sm tw-bottom-5 tw-right-3 tw-w-10 tw-h-10 tw-z-10 tw-rounded-full tw-bg-orange-400 tw-text-white"},[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-transfer-up")])),_:1})])):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])}var Bt=r(6439),Qt=r(9156);const Jt={class:"tw-flex tw-items-center tw-gap-2"};function Gt(t,e,r,o,l,i){const n=(0,s.up)("Notification"),d=(0,s.up)("HeaderMenu");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(Bt.L,{color:"white",density:"default",elevation:"0",class:"tw-border-b-0 !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-0 !tw-fixed tw-overflow-visible",absolute:!1},(0,s.Nv)({append:(0,s.w5)((()=>[(0,s._)("div",Jt,[(0,s.Wm)(n),(0,s.Wm)(d)])])),default:(0,s.w5)((()=>[(0,s.Wm)(Qt.g,{variant:"text",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.handleClick()),["stop"]))})])),_:2},[void 0]),1024)])}var Xt=r(652),te=r(4075),ee=r(8694),re=r(8793);const ae={class:"tw-relative"},se=(0,s._)("div",{class:"tw-absolute tw-bottom-0 tw-border-2 tw-border-solid tw-border-white tw-right-0 tw-w-3 tw-h-3 tw-rounded-full tw-bg-green-500"},null,-1),oe={key:0,class:"!tw-duration-100"},le={class:"tw-absolute tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[200px] tw-min-h-[50px]"},ie={class:"pa-2 d-flex tw-items-center tw-gap-2 tw-border-b tw-border-b-neutral-100"},ne={class:"d-flex flex-column justify-center"},de={class:"tw-text-sm tw-text-neutral-800 text-capitalize"},we={class:"tw-text-xs tw-rounded-lg tw-text-green-500 text-capitalize"},ce=(0,s._)("span",{class:"text-capitalize tw-text-neutral-700 tw-text-xs"}," Profile ",-1),ue={class:"d-flex tw-items-center tw-gap-2"},pe=(0,s._)("span",{class:"text-capitalize tw-text-red-700 tw-text-xs"}," Logout ",-1);function me(t,e,r,a,o,l){return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",ae,[(0,s.Wm)(st.T,{onClick:l.toggleMenu,icon:"","max-width":"35","max-height":"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(Xt.V,{size:"32"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),se])),_:1},8,["onClick"]),(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",oe,[(0,s._)("div",le,[(0,s._)("div",ie,[(0,s.Wm)(Xt.V,{size:"35"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{eager:"",src:o.localUrl+"assets/img/profiles/avatar.webp"},null,8,["src"])])),_:1}),(0,s._)("div",ne,[(0,s._)("div",de,(0,at.zw)(l.user.firstname)+" "+(0,at.zw)(l.user.lastname),1),(0,s._)("div",we,(0,at.zw)(l.user.role),1)])]),(0,s.Wm)(te.J),(0,s._)("div",{onClick:e[0]||(e[0]=(...t)=>l.closeMenu&&l.closeMenu(...t)),class:"d-flex tw-items-center tw-gap-2"},[(0,s.Wm)(st.T,{block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:"mr-2 tw-text-neutral-700"},{default:(0,s.w5)((()=>[(0,s.Uk)(" mdi-account-outline ")])),_:1}),ce])),_:1})]),(0,s.Wm)(te.J),(0,s._)("div",ue,[(0,s.Wm)(st.T,{onClick:l.logout,block:"",class:"justify-start",variant:"text",color:"gray",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:(0,at.C_)([{"tw-animate-pulse":o.loginOut},"mr-2 tw-text-red-700"])},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.loginOut?"mdi-power-settings":"mdi-power"),1)])),_:1},8,["class"]),pe])),_:1},8,["onClick"])])])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,l.closeMenu]])}var ge={data(){return{localUrl:n,isActive:!1,loginOut:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},logout(){this.loginOut=!0,et.logout().then((()=>{this.$store.dispatch("user/logout"),this.$router.push("/login")})).finally((()=>{this.loginOut=!1}))}},computed:{user(){return this.$store.getters["user/user"]}}};const he=(0,p.Z)(ge,[["render",me]]);var fe=he;function ye(t,e,r,a,o,l){const i=(0,s.up)("AdminNotification"),n=(0,s.up)("UserNotification");return(0,s.wg)(),(0,s.iD)("div",null,["admin"==l.user.role?((0,s.wg)(),(0,s.j4)(i,{key:0})):(0,s.kq)("",!0),["agente","delivery"].includes(l.user.role)?((0,s.wg)(),(0,s.j4)(n,{key:1})):(0,s.kq)("",!0)])}const xe={class:"tw-relative"},be={key:0,class:"tw-absolute tw-border-2 tw-border-solid tw-border-white tw-top-1 tw-right-1 tw-w-3 tw-h-3 tw-rounded-full tw-bg-red-500"},ve={key:0,class:"!tw-duration-100"},_e={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[230px] tw-min-h-[50px]"},ke=(0,s._)("p",{class:"tw-p-2 tw-text-sm"},"Notifications",-1),Ce={key:0},De={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Se={key:1},ze=(0,s._)("p",{class:""},"Stock Alert",-1),Ue=(0,s._)("p",{class:""},"Delivery Reported",-1),Pe=(0,s._)("p",{class:""},"Confirmation Reported",-1);function Le(t,e,r,a,o,l){const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",xe,[(0,s.Wm)(st.T,{onClick:l.toggleMenu,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{width:"22",height:"22",src:o.localUrl+"assets/img/icons/notification-bing.svg"},null,8,["src"]),l.stockAlert.length||l.reportedDeliveries.length||l.reportedConfirmations.length?((0,s.wg)(),(0,s.iD)("div",be)):(0,s.kq)("",!0)])),_:1},8,["onClick"]),(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",_e,[ke,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ce,[(0,s._)("div",De,[(0,s.Wm)(lt.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Se,[(0,s.Wm)(i,{to:"/notifications/stock",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-outline")])),_:1}),(0,s._)("div",null,[ze,(0,s._)("p",{class:(0,at.C_)([[l.stockAlert.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,at.zw)(l.stockAlert.length)+" "+(0,at.zw)(l.stockAlert.length>1?"products":"product"),3)])])),_:1}),(0,s.Wm)(i,{to:"/sales",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Ue,(0,s._)("p",{class:(0,at.C_)([[l.reportedDeliveries.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,at.zw)(l.reportedDeliveries.length)+" today",3)])])),_:1}),(0,s.Wm)(i,{to:"/sales",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Pe,(0,s._)("p",{class:(0,at.C_)([[l.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,at.zw)(l.reportedConfirmations.length)+" today",3)])])),_:1})])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,l.closeMenu]])}class qe{async all(){return await A.getCookie(),q.get("api/notifications")}async agente(){return await A.getCookie(),q.get("api/notifications/agente")}async delivery(){return await A.getCookie(),q.get("api/notifications/delivery")}}var $e=new qe,Ae={data(){return{localUrl:n,isActive:!1,isLoaded:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},getNotifications(){$e.all().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},computed:{user(){return this.$store.getters["user/user"]},notifications(){return this.$store.getters["notification/notifications"]},stockAlert(){return this.notifications["productStockAlert"]||[]},reportedConfirmations(){return this.notifications["reportedOrderAgente"]||[]},reportedDeliveries(){return this.notifications["reportedOrderDelivery"]||[]}},mounted(){this.getNotifications()}};const We=(0,p.Z)(Ae,[["render",Le]]);var Ee=We;const Te={class:"tw-relative"},Fe={key:0,class:"tw-absolute tw-border-2 tw-border-solid tw-border-white tw-top-1 tw-right-1 tw-w-3 tw-h-3 tw-rounded-full tw-bg-red-500"},Oe={key:0,class:"!tw-duration-100"},Ve={class:"tw-absolute tw-text-sm tw-bg-white tw-border tw-border-solid tw-border-neutral-200 tw-rounded-md tw-bordesr !tw-shadow-lg !tw-shadow-gray-400/10 tw-top-14 tw-right-0 tw-w-[230px] tw-min-h-[50px]"},Ie=(0,s._)("p",{class:"tw-p-2 tw-text-sm"},"Notifications",-1),je={key:0},Re={class:"tw-py-10 tw-flex tw-items-center tw-justify-center"},Me={key:1},Ne=(0,s._)("p",{class:""},"Confirmation Reported",-1),He=(0,s._)("p",{class:""},"Delivery Reported",-1);function Ye(t,e,r,a,o,l){const i=(0,s.up)("router-link");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",Te,[(0,s.Wm)(st.T,{onClick:l.toggleMenu,icon:"",width:"35",height:"35",class:"tw-relative"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee.f,{width:"22",height:"22",src:o.localUrl+"assets/img/icons/notification-bing.svg"},null,8,["src"]),l.reportedDeliveries.length||l.reportedConfirmations.length?((0,s.wg)(),(0,s.iD)("div",Fe)):(0,s.kq)("",!0)])),_:1},8,["onClick"]),(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[o.isActive?((0,s.wg)(),(0,s.iD)("div",Oe,[(0,s._)("div",Ve,[Ie,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",je,[(0,s._)("div",Re,[(0,s.Wm)(lt.t,{size:"large",class:"tw-animate-spin",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Me,["agente"==l.user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,to:"/orders",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[Ne,(0,s._)("p",{class:(0,at.C_)([[l.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,at.zw)(l.reportedConfirmations.length)+" today",3)])])),_:1})):(0,s.kq)("",!0),"delivery"==l.user.role?((0,s.wg)(),(0,s.j4)(i,{key:1,to:"/deliveries",class:"hover:tw-bg-black/5 tw-p-2 tw-border-y tw-flex tw-gap-2 tw-items-start tw-border-neutral-100"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:"tw-mt-1 tw-text-neutral-400",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("div",null,[He,(0,s._)("p",{class:(0,at.C_)([[l.reportedConfirmations.length>0?"tw-text-red-400 ":"tw-text-green-400 "],"tw-text-xs"])},(0,at.zw)(l.reportedConfirmations.length)+" today",3)])])),_:1})):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,l.closeMenu]])}var Ze={data(){return{localUrl:n,isActive:!1,isLoaded:!1}},methods:{toggleMenu(){this.isActive=!this.isActive},closeMenu(){this.isActive=!1},getAgenteNotifications(){$e.agente().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},getDeliveryNotifications(){$e.delivery().then((t=>{"SUCCESS"==t.data.code&&(console.log("success"),this.$store.dispatch("notification/setNotifications",t.data.data),this.$store.dispatch("notification/setFetched",!0))}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},computed:{user(){return this.$store.getters["user/user"]},notifications(){return this.$store.getters["notification/notifications"]},stockAlert(){return this.notifications["productStockAlert"]||[]},reportedConfirmations(){return this.notifications["reportedOrderAgente"]||[]},reportedDeliveries(){return this.notifications["reportedOrderDelivery"]||[]}},mounted(){"agente"==this.user.role&&this.getAgenteNotifications(),"delivery"==this.user.role&&this.getDeliveryNotifications()}};const Ke=(0,p.Z)(Ze,[["render",Ye]]);var Be=Ke,Qe={components:{AdminNotification:Ee,UserNotification:Be},computed:{user(){return this.$store.getters["user/user"]}}};const Je=(0,p.Z)(Qe,[["render",ye]]);var Ge=Je,Xe={emits:["toggleSidebar"],components:{HeaderMenu:fe,Notification:Ge},data(){return{localUrl:n}},computed:{},methods:{handleClick(){this.$emit("toggleSidebar")}}};const tr=(0,p.Z)(Xe,[["render",Gt]]);var er=tr,rr=r(9457),ar=r(2329),sr=r(9657);function or(t,e,r,a,o,l){const i=(0,s.up)("SidebarItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(sr.V,{modelValue:o.drawer,"onUpdate:modelValue":e[0]||(e[0]=t=>o.drawer=t),location:"left",absolute:!1,class:"!tw-top-0 !tw-fixed"},{default:(0,s.w5)((()=>[(0,s.Wm)(rr.l,{class:"tw-py-3"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(ee.f,{width:"140",src:o.localUrl+"assets/img/logo.png"},null,8,["src"])])])),_:1}),(0,s.Wm)(ar.i,{class:"mt-2",nav:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.links,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,link:t},null,8,["link"])))),128))])),_:1})])),_:1},8,["modelValue"])])}const lr=[4,6,7],ir=[{id:1,title:"Dashboard",module:"dashboard",hasChildren:!0,gate:"all",icon:{type:"svg",value:"assets/img/icons/dashboard.svg"},children:[{id:1,title:"Dashboard",subModule:"dashboard/dashboard",gate:"all",to:"/"},{id:2,title:"Dashboard Analytics",subModule:"dashboard/analytics",gate:"show_all_ads",to:"/analytics"}]},{id:2,module:"product",title:"Product",hasChildren:!0,gate:"access_to_products",icon:{type:"svg",value:"assets/img/icons/product.svg"},children:[{id:1,title:"Products List",subModule:"product/list",gate:"show_all_products",to:"/products"},{id:2,title:"New Products List",subModule:"product/newlist",gate:"show_all_products",to:"/newproducts"},{id:3,title:"Add Product",subModule:"product/add",gate:"create_product",to:"/products/add"},{id:4,title:"Supply Requests",subModule:"product/seller/request",gate:"access_to_seller_sales",to:"/products/seller/request"},{id:5,title:"Supply Requests",subModule:"product/admin/request",gate:"access_to_sales",to:"/products/admin/request"}]},{id:3,module:"track",title:"Tracking",hasChildren:!0,gate:"none",icon:{type:"icon",value:"mdi-radar"},children:[{id:1,title:"Deliveries",subModule:"track/delivery",gate:"none",to:"/tracking/delivery"}]},{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Sales list",subModule:"sale/list",gate:"show_all_sales",to:"/sales"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]},{id:10,module:"sellersale",title:"Seller Sales",hasChildren:!0,gate:"access_to_seller_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:1,title:"Seller Sales",subModule:"seller/list",gate:"show_seller_sales",to:"/seller/list"}]},{id:5,module:"factorisation",title:"Factorisation",hasChildren:!0,gate:"access_to_factorisations",icon:{type:"icon",value:"mdi-note-multiple"},children:[{id:1,title:"Factorisation list",subModule:"factorisation/list",gate:"show_all_factorisations",to:"/factorisations"}]},{id:20,module:"ads",title:"Ads",hasChildren:!0,gate:"access_to_ads",icon:{type:"icon",value:"mdi-google-ads"},children:[{id:1,title:"Ads list",subModule:"ads/list",gate:"show_all_factorisations",to:"/ads"}]},{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Order",subModule:"order/show",gate:"show_all_orders",to:"/order"},{id:2,title:"My Orders",subModule:"order/list",gate:"show_all_orders",to:"/orders"},{id:3,title:"Confirmed Orders",subModule:"order/confirmed",gate:"show_all_orders",to:"/orders/confirmed"}]},{id:7,module:"delivery",title:"Orders",hasChildren:!0,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders List",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries"},{id:2,title:"Orders Delivered",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered"}]},{id:8,module:"inventory",title:"Inventory",hasChildren:!0,gate:"access_to_inventory",icon:{type:"icon",value:"mdi-warehouse"},children:[{id:1,title:"Inventory State",gate:"show_all_inventory_states",subModule:"inventory/state",to:"/inventories"},{id:2,title:"Inventory Movements",gate:"show_all_inventory_movements",subModule:"inventory/movements",to:"/inventories/movements"},{id:4,title:"Add Movement",gate:"create_inventory_movement",subModule:"inventory/add",to:"/inventories/add"}]},{id:9,module:"shop",title:"Shop",hasChildren:!0,gate:"access_to_shop",icon:{type:"icon",value:"mdi-store"},children:[{id:1,title:"Shop List",gate:"show_all_shops",subModule:"shop/list",to:"/shops"},{id:2,title:"Add Shop",gate:"create_shop",subModule:"shop/add",to:"/shops/add"}]},{id:10,module:"warehouse",title:"Warehouses",hasChildren:!0,gate:"access_to_warehouse",icon:{type:"icon",value:"mdi-home-group"},children:[{id:1,title:"Warehouses list",subModule:"warehouse/list",gate:"show_all_warehouses",to:"/warehouses"}]},{id:11,title:"Users",module:"user",gate:"access_to_users",hasChildren:!0,icon:{type:"svg",value:"assets/img/icons/users1.svg"},children:[{id:1,title:"Users List",subModule:"user/list",gate:"show_all_users",to:"/users"},{id:2,title:"Add User",subModule:"user/add",gate:"create_user",to:"/users/add"},{id:3,title:"Roles List",subModule:"user/roles",gate:"show_all_roles",to:"/users/roles"},{id:4,title:"Add Role",subModule:"user/addRole",gate:"create_role",to:"/users/addRole"}]},{id:15,title:"Sheets",module:"sheets",to:"/sheets",gate:"access_to_sheets",hasChildren:!1,icon:{type:"icon",value:"mdi-note-text-outline"}},{id:12,title:"Settings",module:"settings",to:"/settings",gate:"access_to_account",hasChildren:!1,icon:{type:"svg",value:"assets/img/icons/settings.svg"}},{id:13,title:"Orders",module:"followup",to:"/followup",hasChildren:!1,gate:"follow_up_orders",icon:{type:"icon",value:"mdi-package-variant-closed"}}];var nr=r(9234),dr=r(2127);const wr={key:0},cr={class:"d-flex align-center"},ur={class:"tw-rounded-md tw-bg-gray-50"},pr={class:"tw-h-full py-2"},mr={key:1},gr={key:2},hr={key:3};function fr(t,e,r,a,o,l){const i=(0,s.up)("SidebarSales"),n=(0,s.up)("SidebarDelivery"),d=(0,s.up)("SidebarAgente");return(0,s.wg)(),(0,s.iD)("div",null,[!t.$can(r.link.gate)&&"all"!=r.link.gate||o.disabled_links.includes(r.link.id)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",wr,[(0,s.Wm)(rr.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.link.hasChildren?"":r.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",cr,["icon"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,icon:r.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==r.link.icon.type?((0,s.wg)(),(0,s.j4)(ee.f,{key:1,src:o.localUrl+r.link.icon.value,"max-width":"18",class:(0,at.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,at.zw)(r.link.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),r.link.hasChildren?((0,s.wg)(),(0,s.j4)(lt.t,{key:2,class:(0,at.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),r.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",ur,[(0,s.Wm)(ar.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(rr.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",pr,[(0,s.Wm)(lt.t,{size:"x-small",class:"mr-2",color:l.isSublinkActive(t)?"primary-color":"secondary-color",icon:l.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,at.C_)(["tw-text-sm",{"text-primary-color":l.isSublinkActive(t)}])},(0,at.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])),4==r.link.id?((0,s.wg)(),(0,s.iD)("div",mr,[(0,s.Wm)(i)])):(0,s.kq)("",!0),7==r.link.id?((0,s.wg)(),(0,s.iD)("div",gr,[(0,s.Wm)(n)])):(0,s.kq)("",!0),8==r.link.id?((0,s.wg)(),(0,s.iD)("div",hr,[(0,s.Wm)(d)])):(0,s.kq)("",!0)])}const yr={key:0},xr={class:"d-flex align-center"},br={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},vr={key:1,class:"tw-text-xs"},_r={class:"tw-rounded-md tw-bg-gray-50"},kr={class:"tw-h-full py-2"};function Cr(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",yr,[(0,s.Wm)(rr.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":o.isActive}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:o.link.hasChildren?"":o.link.to,link:""},{default:(0,s.w5)((()=>[(0,s._)("div",xr,["icon"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,icon:o.link.icon.value,color:o.isActive?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"])):(0,s.kq)("",!0),"svg"==o.link.icon.type?((0,s.wg)(),(0,s.j4)(ee.f,{key:1,src:o.localUrl+o.link.icon.value,"max-width":"18",class:(0,at.C_)([{active:o.isActive},"mr-2 tw-fill-white"]),size:"small"},null,8,["src","class"])):(0,s.kq)("",!0),(0,s.Wm)(dr.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":o.isActive}]),textContent:(0,at.zw)(o.link.title)},null,8,["class","textContent"]),(0,s._)("div",br,[(o.isLoaded,(0,s.kq)("",!0)),(o.isLoaded,(0,s.wg)(),(0,s.iD)("p",vr,(0,at.zw)(l.count),1))]),(0,s.Wm)(nr.C),o.link.hasChildren?((0,s.wg)(),(0,s.j4)(lt.t,{key:2,class:(0,at.C_)(["item-icon",{activeRotate:o.isActive}]),icon:"mdi-chevron-right"},null,8,["class"])):(0,s.kq)("",!0)])])),_:1},8,["class","to"]),o.link.hasChildren?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"!tw-max-h-[1000px] mb-2 mt-n3":o.isActive},"tw-max-h-0 tw-w-auto mx-3 tw-overflow-hidden tw-duration-300"])},[(0,s._)("div",_r,[(0,s.Wm)(ar.i,{density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedChildren,(t=>((0,s.wg)(),(0,s.j4)(rr.l,{key:t.id,link:"",exact:"",active:!1,to:t.to,height:"10",class:"!tw-h-fit !tw-py-0"},{default:(0,s.w5)((()=>[(0,s._)("div",kr,[(0,s.Wm)(lt.t,{size:"x-small",class:"mr-2",color:l.isSublinkActive(t)?"primary-color":"secondary-color",icon:l.isSublinkActive(t)?"mdi-chevron-double-right":"mdi-circle-medium"},null,8,["color","icon"]),(0,s._)("span",{class:(0,at.C_)(["tw-text-sm",{"text-primary-color":l.isSublinkActive(t)}])},(0,at.zw)(t.title),3)])])),_:2},1032,["to"])))),128))])),_:1})])],2)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)}var Dr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:4,module:"sale",title:"Sales",hasChildren:!0,gate:"access_to_sales",icon:{type:"icon",value:"mdi-sale"},children:[{id:4,title:"New Sales list",subModule:"sale/newlist",gate:"show_all_sales",to:"/sales/new"},{id:2,title:"Expidation",subModule:"sale/expidation",gate:"show_all_expidations",to:"/sales/expidation"},{id:3,title:"Shipping",subModule:"sale/shipping",gate:"show_all_expidations",to:"/sales/shipping"},{id:4,title:"Follow Up",subModule:"sale/followup",gate:"show_all_expidations",to:"/sales/followup"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},sales(){return this.$store.getters["sale/sales"]},count(){return this.$store.getters["sale/count"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Sr=(0,p.Z)(Dr,[["render",Cr],["__scopeId","data-v-419eeb7c"]]);var zr=Sr;const Ur={key:0},Pr={class:"d-flex align-center"},Lr={class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},qr={key:1,class:"tw-text-xs"};function $r(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Ur,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(rr.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Pr,[(0,s.Wm)(lt.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,at.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),(0,s._)("div",Lr,[l.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.fetched?((0,s.wg)(),(0,s.iD)("p",qr,(0,at.zw)(1==r.id?l.orders.length-l.deliveredOrders.length:l.deliveredOrders.length),1)):(0,s.kq)("",!0)])])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}class Ar{async delivery(){return await A.getCookie(),q.get("api/dashboard/delivery")}async agente(){return await A.getCookie(),q.get("api/dashboard/agente")}}var Wr=new Ar,Er={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:7,module:"delivery",title:"Orders",hasChildren:!1,gate:"access_to_delivery",icon:{type:"icon",value:"mdi-bike"},children:[{id:1,title:"Orders",subModule:"delivery/list",gate:"show_all_deliveries",to:"/deliveries",icon:"mdi-truck"},{id:2,title:"Delivered Orders",subModule:"delivery/delivered",gate:"show_all_deliveries",to:"/delivered",icon:"mdi-truck-check"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path},getOrders(){return this.isLoaded=!1,Wr.delivery().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("order/setAllOrders",e),this.$store.dispatch("order/setFetched",!0),this.isLoaded=!0}console.log(t)})).catch(this.$handleApiError)}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},orders(){return this.$store.getters["order/allOrders"].filter((t=>"confirmer"==t.confirmation))},deliveredOrders(){return this.orders.filter((t=>"livrer"==t.delivery))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive(),this.$can(this.link.gate)&&this.getOrders()}};const Tr=(0,p.Z)(Er,[["render",$r],["__scopeId","data-v-69fa82e9"]]);var Fr=Tr;const Or={key:0},Vr={class:"d-flex align-center"},Ir={key:0,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},jr={key:1,class:"tw-text-xs"},Rr={key:1,class:"tw-w-fit tw-h-[24px] tw-flex tw-items-center tw-justify-center tw-px-1 tw-bg-orange-500 tw-text-sm tw-text-white tw-rounded tw-ml-2"},Mr={key:1,class:"tw-text-xs"};function Nr(t,e,r,a,o,l){return t.$can(o.link.gate)||"all"==o.link.gate?((0,s.wg)(),(0,s.iD)("div",Or,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.link.children,(r=>((0,s.wg)(),(0,s.j4)(rr.l,{class:(0,at.C_)(["mx-3 mb-2",{"bg-secondary-color":t.$route.path==r.to}]),onClick:e[0]||(e[0]=t=>l.handleClick()),density:"comfortable",active:!1,ripple:!1,to:r.to,link:"",key:r.id},{default:(0,s.w5)((()=>[(0,s._)("div",Vr,[(0,s.Wm)(lt.t,{icon:r.icon,color:t.$route.path==r.to?"white":"grey-darken-2",class:"mr-2",size:"small"},null,8,["icon","color"]),(0,s.Wm)(dr.V,{class:(0,at.C_)(["text-body-2 font-weight-regular",{"text-white":t.$route.path==r.to}]),textContent:(0,at.zw)(r.title)},null,8,["class","textContent"]),(0,s.Wm)(nr.C),1!=r.id?((0,s.wg)(),(0,s.iD)("div",Ir,[l.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.state.fetched?((0,s.wg)(),(0,s.iD)("p",jr,(0,at.zw)(4==r.id?l.state.totalNotConfirmed:l.state.totalConfirmed),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),1==r.id?((0,s.wg)(),(0,s.iD)("div",Rr,[l.state.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"white",class:"tw-animate-spin",size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})),l.state.fetched?((0,s.wg)(),(0,s.iD)("p",Mr,(0,at.zw)(l.state.totalAvailable),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])])),_:2},1032,["class","to"])))),128))])):(0,s.kq)("",!0)}var Hr={props:[],data(){return{localUrl:n,isActive:!1,isLoaded:!1,link:{id:6,module:"order",title:"Orders",hasChildren:!0,gate:"access_to_orders",icon:{type:"icon",value:"mdi-barcode-scan"},children:[{id:1,title:"Add Order",subModule:"agent/orders/add",gate:"show_all_orders",to:"/agent/orders/add",icon:"mdi-plus-box"},{id:4,title:"Orders",subModule:"agent/orders",gate:"show_all_orders",to:"/agent/orders",icon:"mdi-package-variant-closed"},{id:5,title:"Confirmed Orders",subModule:"agent/orders/confirmed",gate:"show_all_orders",to:"/agent/orders/confirmed",icon:"mdi-checkbox-marked"}]}}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))},state(){return this.$store.getters["agent/state"]},orders(){return this.$store.getters["order/allOrders"]},myOrders(){return this.orders.filter((t=>"confirmer"!=t.confirmation))},confirmedOrders(){return this.orders.filter((t=>"confirmer"==t.confirmation))},fetched(){return this.$store.getters["order/fetched"]}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Yr=(0,p.Z)(Hr,[["render",Nr],["__scopeId","data-v-26146d6f"]]);var Zr=Yr,Kr={props:["link"],components:{SidebarSales:zr,SidebarDelivery:Fr,SidebarAgente:Zr},data(){return{localUrl:n,disabled_links:lr,isActive:!1}},methods:{handleClick(){this.$route.path!==this.link.to?this.isActive=!this.isActive:this.isActive=!0},isSublinkActive(t){return this.$route.path==t.to},isLinkActive(){return this.link.hasChildren?this.link.module==this.$route.meta.module:this.link.to===this.$route.path}},computed:{allowedChildren(){return this.link?.children.filter((t=>this.$can(t.gate)||"all"===t.gate))}},watch:{$route(){this.isActive=this.isLinkActive()}},mounted(){this.isActive=this.isLinkActive()}};const Br=(0,p.Z)(Kr,[["render",fr],["__scopeId","data-v-35ca0437"]]);var Qr=Br,Jr={components:{SidebarItem:Qr},props:["active"],data(){return{localUrl:n,drawer:!0,links:ir}},computed:{},watch:{active(){this.drawer=!this.drawer}},methods:{},mounted(){this.$vuetify.display.mdAndDown&&(this.drawer=!1)}};const Gr=(0,p.Z)(Jr,[["render",or]]);var Xr=Gr,ta=r(4410),ea=r.n(ta),ra=r(6027);class aa{async all(){return await A.getCookie(),q.get("api/sheets")}async create(t){await A.getCookie();const e={name:t.name,sheet_id:t.sheet_id,sheet_name:t.sheet_name,auto_fetch:t.auto_fetch};return q.post("api/sheets",e)}async update(t,e){await A.getCookie();const r={name:e.name,sheet_id:e.sheet_id,sheet_name:e.sheet_name,auto_fetch:e.auto_fetch};return q.post("api/sheets/"+t,r)}async delete(t){return await A.getCookie(),q["delete"]("api/sheets/"+t)}async updateAutoFetch(t,e){return await A.getCookie(),q.post("api/sheets/"+t+"/auto-fetch",{autoFetch:e})}async sync(t){return await A.getCookie(),q.get("api/sync/"+t)}async sync_all(){return await A.getCookie(),q.get("api/sync")}async auto(){return await A.getCookie(),q.post("api/sync")}async saveOrders(t){return await A.getCookie(),q.get("api/sync/"+t+"/save")}}var sa=new aa;class oa{async paginate(t="/",e){return await A.getCookie(),q.post("api/v1/products"+t,e)}async create(t){await A.getCookie();const e=new FormData;return e.append("name",t.name),e.append("buying_price",t.buyingPrice),e.append("selling_price",t.sellingPrice),e.append("ref",t.reference),e.append("link_video",t.link_video),e.append("link_store",t.link_store),e.append("transport_mode",t.transport_mode),e.append("expedition_date",t.expedition_date),e.append("country_of_purchase",t.country_of_purchase),e.append("variations",JSON.stringify(t.variants)),e.append("offers",JSON.stringify(t.offers)),e.append("description",t.description),e.append("image",t.image),e.append("deliveries",JSON.stringify(t.selectedDeliveries)),L.post("api/products/new",e)}async update(t,e){await A.getCookie();const r=new FormData;return r.append("name",e.name),r.append("buying_price",e.buyingPrice),r.append("selling_price",e.sellingPrice),r.append("ref",e.reference),r.append("link_video",e.link_video),r.append("link_store",e.link_store),r.append("transport_mode",e.transport_mode),r.append("expedition_date",e.expedition_date),r.append("country_of_purchase",e.country_of_purchase),r.append("variations",JSON.stringify(e.variants)),r.append("offers",JSON.stringify(e.offers)),r.append("description",e.description),r.append("image",e.image),r.append("deliveries",JSON.stringify(e.selectedDeliveries)),L.post("api/products/update/"+t,r)}async updateStatus(t,e){await A.getCookie();const r=new FormData;return r.append("status",e.status),r.append("note",e.note),L.post("api/products/status/update/"+t,r)}async all(){return await A.getCookie(),q.get("api/products")}async allForOrder(t){return await A.getCookie(),q.get("api/products/for-order/"+t)}async getProduct(t){return await A.getCookie(),q.get("api/products/"+t)}async delete(t){return await A.getCookie(),q["delete"]("api/products/delete/"+t)}async stockAlert(){return await A.getCookie(),q.get("api/product/stockAlert")}}var la=new oa;class ia{async all(){return await A.getCookie(),q.get("api/sales")}async delete(t){return await A.getCookie(),q.get("api/sales/delete/"+t)}async update(t,e){return await A.getCookie(),q.post("api/orders/update/"+t,e)}async create(t){return await A.getCookie(),q.post("api/sales/new",t)}async getNewOrders(t){return await A.getCookie(),q.post("api/sales/fresh",{ids:t})}async agenteOrders(){return await A.getCookie(),q.get("api/orders")}async agenteConfirmedOrders(){return await A.getCookie(),q.get("api/orders/confirmer")}async agenteAddOrder(){return await A.getCookie(),q.get("api/orders/add")}async agenteGetOrder(){return await A.getCookie(),q.get("api/orders/toconfirmate")}async agenteUpdateConfirmation(t,e,r={}){return await A.getCookie(),q.post("api/orders/update/confirmation/"+t,{confirmation:e,...r})}async agenteUpdateConfirmationWithNote(t,e,r){return await A.getCookie(),q.post("api/orders/update/confirmationandnote/"+t,{confirmation:e,note:r})}async agenteUpdateUpsell(t,e){return await A.getCookie(),q.post("api/orders/update/upsell/"+t,{upsell:e})}async agenteUpdateAffectaion(t,e){return await A.getCookie(),q.post("api/orders/update/affectation/"+t,{affectation:e})}async agenteUpdateNote(t,e){return await A.getCookie(),q.post("api/orders/update/note/"+t,{note:e})}async deliveryOrders(){return await A.getCookie(),q.get("api/orders/todelivery")}async deliveryDeliveredOrders(){return await A.getCookie(),q.get("api/orders/delivred")}async deliveryUpdateDelivery(t,e,r){return await A.getCookie(),q.post("api/orders/update/delivery/"+t,{delivery:e,...r})}async history(t){return await A.getCookie(),q.get("api/orders/history/show/"+t)}async itemHistory(t){return await A.getCookie(),q.get("api/orders/item/history/show/"+t)}async resetSale(t){return await A.getCookie(),q.post("api/sales/reset",{ids:t})}async scanSale(t){return await A.getCookie(),q.post("api/sales/scan",t)}async availableOrders(){return await A.getCookie(),q.get("api/orders/count")}}var na=new ia,da={components:{AppHeader:er,AppSidebar:Xr,Alert:jt},data(){return{drawer:!1,subscribed:!1,fetching:null,delay:6e4,showScrollUpButton:!1,firstFetch:!1}},computed:{isLoggedIn(){return this.$store.getters["user/isLoggedIn"]},cities(){return this.$store.getters["city/cities"]},user(){return this.$store.getters["user/user"]},sales(){return this.$store.getters["sale/sales"]},salesFetched(){return this.$store.getters["sale/fetched"]}},methods:{toggleSidebar(){this.drawer=!this.drawer},checkScroll(){this.showScrollUpButton=window.scrollY>100},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},async getCities(){if(0==this.cities.length||1!=localStorage.getItem("update_cities"))return et.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e),localStorage.setItem("update_cities",1)}))},subscribe(){console.log(ea());const t=new ra.Z({broadcaster:"pusher",key:"ABCDEFG",wsHost:"127.0.0.1",wsPort:6001,forceTLS:!1,disableStats:!0,cluster:"mt1"});window.Echo=t,t.channel("notification").listenToAll((t=>{console.log(t)})),this.subscribed=!0},sync_sheets(){"admin"==this.user.role?sa.sync_all().then((t=>{if("SUCCESS"==t.data.code){const e=[...t.data.data.orders,...this.sales];this.$store.dispatch("sale/setSales",e),t.data.data.orders.length>0&&this.$alert({type:"info",title:t.data.data.orders.length+" New orders has been added"})}})):sa.auto()},getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},fetchNewOrders(){if(this.salesFetched||!this.firstFetch){const t=this.sales.map((t=>t.id));return na.getNewOrders(t).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders,r=t.data.data.count;this.$store.dispatch("sale/setCount",r),e.length>0&&(this.$store.dispatch("sale/addSales",e),this.$alert({type:"info",title:e.length+" New orders has been added"})),this.firstFetch=!0}}))}},getSales(){return this.isLoaded=!1,na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}},watch:{$route(){"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts")}},mounted(){this.getCities(),"admin"==this.user.role&&this.fetchNewOrders(),this.$can("show_all_products")&&this.getProducts(),"agente"==this.user.role&&this.$store.dispatch("agent/refreshCounts"),this.getUsers(),window.addEventListener("scroll",this.checkScroll)},unmounted(){window.removeEventListener("scroll",this.checkScroll)}};const wa=(0,p.Z)(da,[["render",Kt]]);var ca=wa;const ua={key:0};function pa(t,e,r,a,o,l){return o.exists?((0,s.wg)(),(0,s.iD)("div",ua,[((0,s.wg)(),(0,s.j4)((0,s.LL)(l.dashboard)))])):(0,s.kq)("",!0)}var ma=r(6824),ga=r(8521);const ha={key:0},fa={key:1},ya=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),xa={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},ba={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},va={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},_a=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),ka=["disabled"],Ca={key:0,class:"tw-flex tw-items-center tw-gap-2"},Da={key:1},Sa=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),za={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function Ua(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),d=(0,s.up)("FilterTabs"),w=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ha,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",fa,[ya,(0,s._)("div",xa,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",ba,[(0,s._)("div",va,[_a,(0,s._)("button",{disabled:o.updating,onClick:e[0]||(e[0]=(...t)=>l.updateSales&&l.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[o.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ca,[(0,s.Wm)(lt.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),o.updating?((0,s.wg)(),(0,s.iD)("div",Da,[Sa,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,ka)])]),(0,s._)("div",za,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":l.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var Pa=r(4286);const La={class:"tw-flex tw-items-center"},qa={class:"tw-flex tw-flex-col tw-h-full tw-text-neutral-600"},$a={class:"tw-text-lg tw-font-bold"},Aa={class:"tw-text-sm"};function Wa(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(Pa.C,{class:"tw-rounded-lg tw-border pa-5 py-2",color:"white",height:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",La,[(0,s._)("div",{class:(0,at.C_)([l.bgColor,"pa-3 rounded-circle tw-w-fit tw-mr-3"])},[(0,s.Wm)(lt.t,{color:r.dash.color,size:"large",icon:r.dash.icon},null,8,["color","icon"])],2),(0,s._)("div",qa,[(0,s._)("p",$a,(0,at.zw)(r.dash.value),1),(0,s.Wm)(nr.C),(0,s._)("p",Aa,(0,at.zw)(r.dash.title),1)])])])),_:1})}var Ea={props:["dash"],computed:{bgColor(){const t={orange:"tw-bg-orange-500/10",green:"tw-bg-green-500/10",blue:"tw-bg-blue-500/10",pink:"tw-bg-pink-500/10",red:"tw-bg-red-500/10",yellow:"tw-bg-yellow-500/10"};return t[this.dash.color]}}};const Ta=(0,p.Z)(Ea,[["render",Wa]]);var Fa=Ta;const Oa={key:0,class:""},Va={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Ia=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),ja=[Ia],Ra={key:1,class:"tw-min-h-[50px]"},Ma={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},Na={class:"py-2 px-3 tw-rounded tw-border tw-grid tw-grid-cols-12"},Ha={class:"tw-col-span-12 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},Ya={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs"},Za={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},Ka=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-red-400"},null,-1),Ba={key:1},Qa={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},Ja=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),Ga={key:1,class:"tw-flex tw-items-center tw-gap-2"},Xa=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-yellow-400"},null,-1);function ts(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Oa,[(0,s._)("div",Va,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},ja))),64))])])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ra,[(0,s._)("div",Ma,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",Na,[(0,s._)("div",Ha,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1),(0,s._)("div",Ya,[t.last_action?((0,s.wg)(),(0,s.iD)("div",Ba,[1==l.isOnline(l.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",Qa,[Ja,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",Ga,[Xa,(0,s.Uk)(" "+(0,at.zw)(l.lastSeen(t.last_action)),1)]))])):((0,s.wg)(),(0,s.iD)("div",Za,[Ka,(0,s.Uk)(" Never Connected ")]))])])])))),128))]),(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}var es=r(8777),rs={components:{},data(){return{isLoaded:!1}},computed:{users(){return this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name))}},methods:{getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),console.log(t),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,es.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const as=(0,p.Z)(rs,[["render",ts]]);var ss=as,os=r(1489),ls=r(3144),is=r(9870),ns=r(6161),ds=r(4722);function ws(t,e,r,a,o,l){return(0,s.wg)(),(0,s.j4)(os._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ls.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(is.L,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(ns.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(ds.H,{key:t.id,value:t.id,transition:"fade-transition","reverse-transition":"fade-transition"},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component),{"filtered-sales":r.filteredSales},null,8,["filtered-sales"]))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const cs={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},us={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ps={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ms={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},gs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},hs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ys={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function xs(t,e,r,a,o,l){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cs,[(0,s._)("div",us,[(0,s.Wm)(i,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",ps,[(0,s.Wm)(i,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",ms,[(0,s.Wm)(i,{dash:l.shippedSales},null,8,["dash"])]),(0,s._)("div",gs,[(0,s.Wm)(i,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",hs,[(0,s.Wm)(i,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",fs,[(0,s.Wm)(i,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",ys,[(0,s.Wm)(i,{dash:l.transferSales},null,8,["dash"])])])])}const bs={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},vs={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},_s={class:"tw-text-xl tw-font-bold"},ks={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},Cs={class:"tw-text-sm"},Ds={class:"rounded-circle tw-w-fit tw-mr-3"};function Ss(t,e,r,a,o,l){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Pa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",bs,[(0,s._)("div",vs,[(0,s._)("p",_s,(0,at.zw)(isNaN(r.dash.pourcentage)?"0.00%":r.dash.pourcentage)+" "+(0,at.zw)(r.symbol),1),(0,s._)("span",ks,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",Cs,(0,at.zw)(r.dash.title),1)])]),(0,s._)("div",Ds,[(0,s.Wm)(lt.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var zs={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const Us=(0,p.Z)(zs,[["render",Ss]]);var Ps=Us,Ls={components:{DashItemTwo:Ps},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.sales.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"livrer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.delivery))).length,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"expidier"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-orange",icon:"mdi-truck"}},transferSales(){return{id:8,title:"Transferred",value:this.sales.filter((t=>"transfer"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"transfer"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"purple-darken-1",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length,pourcentage:(100*this.sales.filter((t=>"pas-de-reponse"==t.delivery)).length/this.sales.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},mounted(){na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const qs=(0,p.Z)(Ls,[["render",xs]]);var $s=qs;const As={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2 py-5"},Ws={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Es={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ts={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Fs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Os={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Vs={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Is={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},js={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Rs(t,e,r,a,o,l){const i=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",As,[(0,s._)("div",Ws,[(0,s.Wm)(i,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",Es,[(0,s.Wm)(i,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",Ts,[(0,s.Wm)(i,{dash:l.newSales},null,8,["dash"])]),(0,s._)("div",Fs,[(0,s.Wm)(i,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",Os,[(0,s.Wm)(i,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",Vs,[(0,s.Wm)(i,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",Is,[(0,s.Wm)(i,{dash:l.doubledSales},null,8,["dash"])]),(0,s._)("div",js,[(0,s.Wm)(i,{dash:l.wrongNumberSales},null,8,["dash"])])])])}var Ms={components:{DashItemTwo:Ps},props:["filteredSales"],data(){return{isLoaded:!1}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.filteredSales},totalSales(){return{id:1,title:"Total",pourcentage:100,value:this.sales.length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>!t.confirmation)).length/this.sales.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},toProcess(){return{id:3,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>!!t.confirmation&&!["confirmer","livrer","expidier"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"confirmer"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.sales.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"reporter"==t.confirmation)).length/this.sales.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.sales.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.sales.filter((t=>"annuler"==t.confirmation)).length/this.sales.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},noanswerSales(){return{id:6,title:"No Answer",value:this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.sales.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.sales.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}},doubledSales(){return{id:8,title:"Doubled",pourcentage:(100*this.sales.filter((t=>"double"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"double"==t.confirmation)).length,color:"purple-accent-4",icon:"mdi mdi-selection-multiple"}},wrongNumberSales(){return{id:9,title:"Wrong Number",pourcentage:(100*this.sales.filter((t=>"wrong-number"==t.confirmation)).length/this.sales.length).toFixed(2),value:this.sales.filter((t=>"wrong-number"==t.confirmation)).length,color:"purple-lighten-1",icon:"mdi mdi-phone-remove"}}},mounted(){na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;console.log(t.data),this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Ns=(0,p.Z)(Ms,[["render",Rs]]);var Hs=Ns,Ys={components:{DeliveryTab:$s,ConfirmationTab:Hs},props:["filteredSales"],data(){return{tab:1,tabs:[{id:1,name:"Confirmation",component:"ConfirmationTab"},{id:2,name:"Delivery",component:"DeliveryTab"}]}}};const Zs=(0,p.Z)(Ys,[["render",ws]]);var Ks=Zs;const Bs={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4 py-5"},Qs={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Js={class:"tw-relative"},Gs={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Xs={class:"tw-relative"},to={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},eo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agents",-1),ro={class:"tw-relative"},ao=(0,s._)("option",{value:"all"},"Select",-1),so=["value"],oo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},lo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Deliveries",-1),io={class:"tw-relative"},no=(0,s._)("option",{value:"all"},"Select",-1),wo=["value"],co={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},uo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Cities",-1),po={class:"tw-relative"},mo=(0,s._)("option",{value:"all"},"Select",-1),go=["value"],ho={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},fo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Products",-1),yo={class:"tw-relative"},xo=(0,s._)("option",{value:"all"},"Select",-1),bo=["value"],vo={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_o=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Shops",-1),ko={class:"tw-relative"},Co=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Do={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},So=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Sources",-1),zo={class:"tw-relative"},Uo=(0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[(0,s._)("option",{value:"all"},"Select")],-1),Po={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Lo=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),qo={class:"tw-relative"},$o=(0,s._)("option",{value:"all"},"Select",-1),Ao=(0,s._)("option",{value:"oui"},"Oui",-1),Wo=(0,s._)("option",{value:"non"},"Non",-1),Eo=[$o,Ao,Wo];function To(t,e,r,o,l,i){const n=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",Bs,[(0,s._)("div",Qs,[(0,s._)("div",Js,[(0,s.Wm)(n,{name:"Created Date",filter:l.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>l.dateFilter=t)},null,8,["filter"])])]),(0,s._)("div",Gs,[(0,s._)("div",Xs,[(0,s.Wm)(n,{name:"Dropped Date",filter:l.droppedAtFilter,"onUpdate:filter":e[1]||(e[1]=t=>l.droppedAtFilter=t)},null,8,["filter"])])]),(0,s._)("div",to,[eo,(0,s._)("div",ro,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.agentFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[ao,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,so)))),128))],512),[[a.bM,l.agentFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",oo,[lo,(0,s._)("div",io,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[no,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,wo)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",co,[uo,(0,s._)("div",po,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.cityFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[mo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,go)))),128))],512),[[a.bM,l.cityFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",ho,[fo,(0,s._)("div",yo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[xo,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,bo)))),128))],512),[[a.bM,l.productFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",vo,[_o,(0,s._)("div",ko,[Co,(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Do,[So,(0,s._)("div",zo,[Uo,(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s._)("div",Po,[Lo,(0,s._)("div",qo,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.upsellFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Eo,512),[[a.bM,l.upsellFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0)])}const Fo={class:"tw-text-sm tw-text-neutral-600"},Oo=["onClick"];function Vo(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Fo,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,Oo)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var Io=r(1271),jo=r(2292),Ro=r(1745),Mo=r(4253),No=r(4819),Ho=r(2143),Yo={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,jo.Z)(new Date),(0,Ro.Z)(new Date)]},{label:"Last month",range:[(0,jo.Z)((0,Mo.Z)(new Date,1)),(0,Ro.Z)((0,Mo.Z)(new Date,1))]},{label:"This year",range:[(0,No.Z)(new Date),(0,Ho.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const Zo=(0,p.Z)(Yo,[["render",Vo]]);var Ko=Zo,Bo={components:{DateFilter:Ko},props:["filters"],data(){return{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""],isLoaded:!1,dashItems:[{id:1,title:"Total Chiffres d'affaire",value:1200,icon:"mdi-currency-usd",color:"green"},{id:2,title:"Chiffres d'affaire versé",value:"35000 DH",icon:"mdi mdi-credit-card-check-outline",color:"orange"},{id:3,title:"Chiffres d'affaire non versé",value:600,icon:"mdi mdi-credit-card-remove-outline",color:"red"},{id:4,title:"Chiffres d'affaire en caisse",value:543,icon:"mdi mdi-bank",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},watch:{agentFilter(t){this.$emit("update:filters",{...this.filters,agentFilter:t})},deliveryFilter(t){this.$emit("update:filters",{...this.filters,deliveryFilter:t})},productFilter(t){this.$emit("update:filters",{...this.filters,productFilter:t})},cityFilter(t){this.$emit("update:filters",{...this.filters,cityFilter:t})},upsellFilter(t){this.$emit("update:filters",{...this.filters,upsellFilter:t})},dateFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,dateFilter:t})}},droppedAtFilter:{deep:!0,handler(t){this.$emit("update:filters",{...this.filters,droppedAtFilter:t})}}},computed:{agents(){return this.$store.getters["user/agents"]},deliveries(){return this.$store.getters["user/deliveries"]},products(){return this.$store.getters["product/products"]},cities(){return this.$store.getters["city/cities"]}},mounted(){et.deliveries().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setDeliveries",e),this.isLoaded=!0}})).catch(this.$handleApiError),la.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.products;console.log(t.data),this.$store.dispatch("product/setProducts",e),this.isLoaded=!0}})).catch(this.$handleApiError),et.cities().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("city/setCities",e),this.isLoaded=!0}})).catch(this.$handleApiError),et.agents().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data;console.log(t.data),this.$store.dispatch("user/setAgents",e),this.isLoaded=!0}})).catch(this.$handleApiError)}};const Qo=(0,p.Z)(Bo,[["render",To]]);var Jo=Qo;const Go=t=>{if(!t)return 0;const e=t.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return(parseFloat(t.price?t.price:0)+parseFloat(e)).toFixed(2)},Xo=t=>t?t.split("api/")[1]:null;var tl={components:{DashItem:Fa,UsersTable:ss,TabSwitcher:Ks,FilterTabs:Jo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,o=this.filters.dateFilter[0],l=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((d=>{if("all"!==t&&parseInt(d.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(d.affectation)!=parseInt(e))return!1;if("all"!==s&&d.upsell!=s)return!1;if("all"!==r&&!d.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&d.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const w=new Date(d.created_at),c=w.getDate(),u=w.getMonth(),p=w.getFullYear();if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(d.dropped_at),g=m.getDate(),h=m.getMonth(),f=w.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=Go(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=Go(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=Go(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const el=(0,p.Z)(tl,[["render",Ua]]);var rl=el;const al=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Dashboard")])],-1),sl={key:0},ol={key:1},ll={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},il={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},nl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},dl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},wl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},cl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},ul={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-5"},pl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function ml(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[al,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",sl,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ol,[(0,s._)("div",ll,[(0,s._)("div",il,[(0,s._)("div",nl,[(0,s.Wm)(n,{dash:l.earningsDash,symbol:"DH",numbers:!1},null,8,["dash"])]),(0,s._)("div",dl,[(0,s.Wm)(n,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",wl,[(0,s.Wm)(n,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",cl,[(0,s.Wm)(n,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",ul,[(0,s.Wm)(n,{dash:l.shippedSales},null,8,["dash"])]),(0,s._)("div",pl,[(0,s.Wm)(n,{dash:l.canceledSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var gl={components:{DashItemTwo:Ps},data(){return{isLoaded:!0,orders:[],cities:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},totalSales(){return{id:1,title:"Total Orders",value:this.orders.length,pourcentage:100,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},deliveredSales(){return{id:2,title:"Delivered",value:this.filterByStatus("livrer").length,pourcentage:100*this.filterByStatus("livrer").length/this.orders.length,color:"primary-green",icon:"mdi-account-check-outline"}},toProcess(){return{id:3,title:"Process",value:231,color:"primary-orange",icon:"mdi-reload"}},shippedSales(){return{id:4,title:"Shipped",value:this.filterByStatus("expidier").length,pourcentage:100*this.filterByStatus("expidier").length/this.orders.length,color:"primary-orange",icon:"mdi-truck"}},reportedSales(){return{id:5,title:"Reported",value:this.filterByStatus("reporter").length,pourcentage:100*this.filterByStatus("reporter").length/this.orders.length,color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.filterByStatus("annuler").length,pourcentage:100*this.filterByStatus("annuler").length/this.orders.length,color:"red-accent-3",icon:"mdi mdi-cancel"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:this.earnings,color:"green-darken-4",icon:"mdi-currency-usd"}},earnings(){return this.orders.reduce(((t,e)=>null==e.factorisations||e.factorisations.paid||e.factorisations.close?t:t+e.factorisations.price),0)}},methods:{filterByStatus(t){return this.orders.filter((e=>e.delivery==t))},getOrders(){this.isLoaded=!1,Wr.delivery().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const hl=(0,p.Z)(gl,[["render",ml]]);var fl=hl;const yl=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Dashboard ")])],-1),xl={key:0},bl={key:1},vl={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},_l={class:"tw-grid tw-mb-5 tw-grid-cols-4 md:tw-grid-cols-4 lg:tw-grid-cols-5 tw-gap-2"},kl={class:"lg:tw-col-span-1 md:tw-col-span-1 tw-col-span-4"},Cl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Dl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Sl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},zl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Ul={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"},Pl={class:"lg:tw-col-span-1 md:tw-col-span-2 tw-col-span-4"};function Ll(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("DashItemTwo");return(0,s.wg)(),(0,s.iD)("div",null,[yl,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xl,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",bl,[(0,s._)("div",vl,[(0,s._)("div",_l,[(0,s._)("div",kl,[(0,s.Wm)(n,{dash:l.earningsDash,symbol:o.currency,numbers:!1},null,8,["dash","symbol"])]),(0,s._)("div",Cl,[(0,s.Wm)(n,{dash:l.totalSales},null,8,["dash"])]),(0,s._)("div",Dl,[(0,s.Wm)(n,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",Sl,[(0,s.Wm)(n,{dash:l.reportedSales},null,8,["dash"])]),(0,s._)("div",zl,[(0,s.Wm)(n,{dash:l.noanswerSales},null,8,["dash"])]),(0,s._)("div",Ul,[(0,s.Wm)(n,{dash:l.canceledSales},null,8,["dash"])]),(0,s._)("div",Pl,[(0,s.Wm)(n,{dash:l.upsellSales},null,8,["dash"])])])])])):(0,s.kq)("",!0)])}var ql={components:{DashItemTwo:Ps},data(){return{currency:c,isLoaded:!0,orders:[]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},totalSales(){return{id:1,title:"Total",pourcentage:0===this.orders.length?0:100,value:this.orders.filter((t=>"double"!=t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi mdi-all-inclusive"}},newSales(){return{id:2,title:"New",value:this.orders.filter((t=>!t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>!t.confirmation)).length/this.orders.length).toFixed(2),color:"grey",icon:"mdi mdi-new-box"}},confirmedSales(){return{id:4,title:"Confirmed",value:this.orders.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"confirmer"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-green",icon:"mdi-phone-check"}},reportedSales(){return{id:5,title:"Reported",value:this.orders.filter((t=>"reporter"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"reporter"==t.confirmation)).length/this.orders.length).toFixed(2),color:"primary-blue",icon:"mdi mdi-clock-outline"}},canceledSales(){return{id:6,title:"Canceled",value:this.orders.filter((t=>"annuler"==t.confirmation)).length,pourcentage:(100*this.orders.filter((t=>"annuler"==t.confirmation)).length/this.orders.length).toFixed(2),color:"red-accent-3",icon:"mdi mdi-cancel"}},upsellSales(){return{id:6,title:"Upsell",value:this.orders.filter((t=>"oui"==t.upsell)).length,pourcentage:(100*this.orders.filter((t=>"oui"==t.upsell)).length/this.orders.length).toFixed(2),color:"#2563eb",icon:"mdi mdi-transfer-up"}},earningsDash(){return{id:2,title:"Earnings",pourcentage:.7*this.orders.filter((t=>"oui"==t.upsell&&"livrer"==t.delivery)).length,color:"green-darken-4",icon:"mdi-currency-usd"}},noanswerSales(){return{id:6,title:"No Answer",value:this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length,pourcentage:(100*this.orders.filter((t=>["day-one-call-one","day-one-call-two","day-one-call-three","day-two-call-one","day-two-call-two","day-two-call-three","day-three-call-one","day-three-call-two","day-three-call-three"].includes(t.confirmation))).length/this.orders.length).toFixed(2),color:"yellow-darken-3",icon:"mdi mdi-headphones-off"}}},methods:{filterByStatus(t){return this.orders.filter((e=>e.confirmation==t))},getOrders(){this.isLoaded=!1,Wr.agente().then((t=>{"SUCCESS"==t.data.code&&(this.orders=t.data.data.orders)})).finally((()=>{this.isLoaded=!0}))}},mounted(){this.getOrders()}};const $l=(0,p.Z)(ql,[["render",Ll]]);var Al=$l;const Wl=(0,s._)("div",{class:"tw-w-full tw-rounded-lg tw-py-5 tw-px-5 tw-flex tw-flex-center tw-justify-center"},[(0,s._)("h1",{class:"tw-text-lg"},"Welcome to Dashboard !")],-1),El=[Wl];function Tl(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,El)}var Fl={components:{},data(){return{dashItems:[{id:1,title:"Orders",value:1200,icon:"mdi-package-variant-closed",color:"orange"},{id:2,title:"Total Sales",value:"35000 DH",icon:"mdi-currency-usd",color:"green"},{id:3,title:"Orders Confirmed",value:600,icon:"mdi-phone-check-outline",color:"blue"},{id:4,title:"Orders Delivered",value:543,icon:"mdi-truck-check-outline",color:"pink"}],filledDashItems:[{id:1,title:"Customers",value:2300,color:"primary-orange",icon:"mdi-account-outline"},{id:2,title:"Suppliers",value:300,color:"primary-blue",icon:"mdi-account-check-outline"},{id:3,title:"Purchase Invoice",value:1100,color:"primary-indigo",icon:"mdi-file-document-outline"},{id:4,title:"Agents",value:10,color:"primary-green",icon:"mdi-moped-outline"}]}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role}}};const Ol=(0,p.Z)(Fl,[["render",Tl]]);var Vl=Ol;const Il={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},jl=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Rl=[jl];function Ml(t,e,r,a,o,l){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Il,[o.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Rl))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.dashes,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])])}const Nl={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Hl={class:"tw-flex tw-justify-between"},Yl={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Zl={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},Kl={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Bl={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function Ql(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Nl,[(0,s._)("div",Hl,[(0,s._)("div",null,[(0,s._)("div",Yl,[(0,s._)("p",Zl,(0,at.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Kl,[(0,s._)("span",Bl,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var Jl={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const Gl=(0,p.Z)(Jl,[["render",Ql]]);var Xl=Gl;class ti{async statistics(){return await A.getCookie(),q.post("api/v1/followup/statistics")}async paginate(t="/",e){return await A.getCookie(),q.post("api/v1/followup/orders"+t,e)}async update(t,e){return await A.getCookie(),q.post("api/v1/followup/orders/"+t+"/update",e)}async create(t){return await A.getCookie(),q.post("api/v1/followup/orders/create",t)}}var ei=new ti,ri={components:{DashCard:Xl},data(){return{fetching:!0,dashes:[]}},mounted(){ei.statistics().then((t=>{console.log(t.data.data),this.dashes=t.data.data.statistics,this.fetching=!1}))}};const ai=(0,p.Z)(ri,[["render",Ml]]);var si=ai;const oi={key:0},li={key:1},ii=(0,s._)("div",{class:"mb-2 mt-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Online")])],-1),ni={class:"py-2 px-2 tw-border bg-white tw-w-full tw-rounded"},di={class:"mb-2 mt-2 tw-flex tw-justify-between tw-items-center tw-w-full"},wi={class:"tw-flex tw-items-center tw-justify-between tw-w-full"},ci=(0,s._)("h2",{class:"tw-text-gray-500 tw-text-lg"},"Statistiques",-1),ui=["disabled"],pi={key:0,class:"tw-flex tw-items-center tw-gap-2"},mi={key:1},gi=(0,s._)("svg",{"aria-hidden":"true",role:"status",class:"tw-inline tw-w-4 tw-h-4 tw-mr-3 tw-text-white tw-animate-spin",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"#E5E7EB"}),(0,s._)("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentColor"})],-1),hi={class:"px-5 tw-border bg-white tw-w-full tw-rounded-md"};function fi(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("UsersTable"),d=(0,s.up)("FilterTabs"),w=(0,s.up)("DashItem"),c=(0,s.up)("TabSwitcher");return(0,s.wg)(),(0,s.iD)("div",null,[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",oi,[(0,s.Wm)(i)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",li,[ii,(0,s._)("div",ni,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(n)])),_:1})])),_:1})]),(0,s._)("div",di,[(0,s._)("div",wi,[ci,(0,s._)("button",{disabled:o.updating,onClick:e[0]||(e[0]=(...t)=>l.updateSales&&l.updateSales(...t)),type:"button",class:"tw-text-white tw-w-fit tw-my-2 tw-bg-gradient-to-r tw-from-cyan-500 tw-to-blue-500 hover:tw-bg-gradient-to-bl focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-cyan-300 dark:focus:tw-ring-cyan-800 tw-font-medium tw-rounded-lg tw-text-sm tw-px-5 tw-py-2.5 tw-text-center tw-mr-2 dark:tw-bg-blue-600 dark:hover:tw-bg-blue-700 tw-duration-200 tw-gap-2 tw-pointer-events-auto tw-inline-flex tw-items-center"},[o.updating?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pi,[(0,s.Wm)(lt.t,{class:"tw-text-sm",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s.Uk)(" Refresh ")])),o.updating?((0,s.wg)(),(0,s.iD)("div",mi,[gi,(0,s.Uk)(" loading... ")])):(0,s.kq)("",!0)],8,ui)])]),(0,s._)("div",hi,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t)},null,8,["filters"])])),_:1})])),_:1}),(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffaires},null,8,["dash"])])),_:1}),(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesNonVerse},null,8,["dash"])])),_:1}),(0,s.Wm)(ga.D,{cols:"12",sm:"6",md:"3"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{dash:l.dashChiffreAffairesEnCaisse},null,8,["dash"])])),_:1})])),_:1}),(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{"filtered-sales":l.filteredSales},null,8,["filtered-sales"])])),_:1})])),_:1})])])):(0,s.kq)("",!0)])}var yi={components:{DashItem:Fa,UsersTable:ss,TabSwitcher:Ks,FilterTabs:Jo},data(){return{updating:!1,filters:{deliveryFilter:"all",agentFilter:"all",productFilter:"all",cityFilter:"all",upsellFilter:"all",dateFilter:["",""],droppedAtFilter:["",""]}}},computed:{user(){return this.$store.getters["user/user"]},isAdmin(){return"admin"==this.user.role},sales(){return this.$store.getters["sale/sales"]},isLoaded(){return this.$store.getters["sale/fetched"]},filteredSales(){const t=this.filters.agentFilter,e=this.filters.deliveryFilter,r=this.filters.productFilter,a=this.filters.cityFilter,s=this.filters.upsellFilter,o=this.filters.dateFilter[0],l=this.filters.dateFilter[1],i=this.filters.droppedAtFilter[0],n=this.filters.droppedAtFilter[1];return this.sales.filter((d=>{if("all"!==t&&parseInt(d.agente_id)!=parseInt(t))return!1;if("all"!==e&&parseInt(d.affectation)!=parseInt(e))return!1;if("all"!==s&&d.upsell!=s)return!1;if("all"!==r&&!d.items.some((t=>parseInt(t.product_id)==parseInt(r))))return!1;if("all"!==a&&d.city?.toLocaleLowerCase()!=a?.toLocaleLowerCase())return!1;const w=new Date(d.created_at),c=w.getDate(),u=w.getMonth(),p=w.getFullYear();if(o){const t=o.getDate(),e=o.getMonth(),r=o.getFullYear();if(p<r||p===r&&u<e||p===r&&u===e&&c<t)return!1}if(l){const t=l.getDate(),e=l.getMonth(),r=l.getFullYear();if(p>r||p===r&&u>e||p===r&&u===e&&c>t)return!1}const m=new Date(d.dropped_at),g=m.getDate(),h=m.getMonth(),f=w.getFullYear();if(i){const t=i.getDate(),e=i.getMonth(),r=i.getFullYear();if(f<r||f===r&&h<e||f===r&&h===e&&g<t)return!1}if(n){const t=n.getDate(),e=n.getMonth(),r=n.getFullYear();if(f>r||f===r&&h>e||f===r&&h===e&&g>t)return!1}return!0}))},dashChiffreAffaires(){return{id:1,title:"Total Chiffres d'affaire",value:this.getChiffresDaffaire().toFixed(2),icon:"mdi-currency-usd",color:"green"}},dashChiffreAffairesVerse(){return{id:2,title:"Chiffres d'affaire versé",value:this.getChiffresDaffaireVerse().toFixed(2),icon:"mdi mdi-credit-card-check-outline",color:"orange"}},dashChiffreAffairesNonVerse(){return{id:3,title:"Chiffres d'affaire non versé",value:this.getChiffresDaffaireNonVerse().toFixed(2),icon:"mdi mdi-credit-card-remove-outline",color:"red"}},dashChiffreAffairesEnCaisse(){return{id:4,title:"Chiffres d'affaire en caisse",value:this.getChiffresDaffaireEnCaise().toFixed(2),icon:"mdi mdi-bank",color:"yellow"}},newSales(){return{id:1,title:"New",value:this.sales.filter((t=>!t.confirmation)).length,color:"primary-green",icon:"mdi mdi-new-box"}},toProcess(){return{id:2,title:"Process",value:this.sales.filter((t=>!!t.confirmation&&!["confirmer","livre","expidier"].includes(t.confirmation))).length,color:"primary-orange",icon:"mdi-reload"}},confirmedSales(){return{id:3,title:"Confirmed",value:this.sales.filter((t=>"confirmer"==t.confirmation)).length,color:"deep-purple-accent-2",icon:"mdi-phone-check"}},deliveredSales(){return{id:4,title:"Delivered",value:this.sales.filter((t=>"livre"==t.confirmation)).length,color:"primary-blue",icon:"mdi-account-check-outline"}},shippedSales(){return{id:5,title:"Shipped",value:this.sales.filter((t=>"expidier"==t.confirmation)).length,color:"red",icon:"mdi-truck"}}},methods:{getSales(){na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},updateSales(){this.updating=!0,na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.updating}})).catch(this.$handleApiError).finally((()=>{this.updating=!1}))},getChiffresDaffaire(){let t=0;return this.filteredSales.forEach((e=>{t+=Go(e)})),t},getChiffresDaffaireVerse(){let t=0;return this.filteredSales.forEach((e=>{null!=e.factorisations&&e.factorisations.paid&&(t+=Go(e))})),t},getChiffresDaffaireNonVerse(){let t=0;return this.filteredSales.forEach((e=>{null==e.factorisations||e.factorisations.paid||(t+=Go(e))})),t},getChiffresDaffaireEnCaise(){return this.getChiffresDaffaire()-this.getChiffresDaffaireVerse()}},mounted(){}};const xi=(0,p.Z)(yi,[["render",fi]]);var bi=xi,vi={components:{admin:rl,delivery:fl,agente:Al,default:Vl,seller:bi,"follow-up":si},data(){return{localUrl:n,exists:!1}},computed:{user(){return this.$store.getters["user/user"]},dashboard(){return["admin","seller","delivery","agente","follow-up"].includes(this.user.role)?this.user.role:"default"}},methods:{check(){switch(this.user.role){case"admin":this.$router.push({name:"dashboards/admin"});break;case"agente":this.$router.push({name:"dashboards/agent"});break;case"seller":this.$router.push({name:"dashboards/seller"});break;default:this.exists=!0;break}}},created(){this.check()}};const _i=(0,p.Z)(vi,[["render",pa]]);var ki=_i,Ci=r(3104);const Di=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Settings ")],-1),Si={key:0},zi={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ui={class:"tw-w-full"},Pi=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),Li={class:"tw-w-full"},qi=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),$i={class:"tw-w-full"},Ai=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),Wi={class:"tw-w-full"},Ei=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),Ti={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},Fi=(0,s._)("span",null,"Update Password: ",-1),Oi={class:"tw-w-full"},Vi=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),Ii={class:"tw-w-full"},ji=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),Ri={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Mi=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ni=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Hi(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Di,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Si,[(0,s.Wm)(i)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",zi,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ui,[Pi,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.firstname.message,modelValue:o.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>o.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Li,[qi,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.lastname.message,modelValue:o.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",$i,[Ai,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.email.message,modelValue:o.email,"onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t),readonly:"",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Wi,[Ei,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.phone.message,modelValue:o.phone,"onUpdate:modelValue":e[3]||(e[3]=t=>o.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Ti,[Fi,(0,s.Wm)(Ci.G,{modelValue:o.updatePassword,"onUpdate:modelValue":e[4]||(e[4]=t=>o.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),o.updatePassword?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Oi,[Vi,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.password.message,modelValue:o.password,"onUpdate:modelValue":e[5]||(e[5]=t=>o.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),o.updatePassword?((0,s.wg)(),(0,s.j4)(ga.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ii,[ji,(0,s.Wm)(it.hw,{"error-messages":o.formStatus.confirmPassword.message,modelValue:o.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=t=>o.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Ri,[(0,s.Wm)(st.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Mi])),_:1}),t.$can("update_account")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ni])),_:1},8,["onClick","loading"])):(0,s.kq)("",!0)])])):(0,s.kq)("",!0)])}var Yi={data(){return{serverUrl:d,isFetched:!1,isUserFetched:!1,isLoading:!1,updatePassword:!1,formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:""}},computed:{isFormReady(){return this.isFetched},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,phone:this.phone,password:this.password}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,et.updateProfile(this.user,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=Ut(this.password),this.formStatus["confirmPassword"]=qt(this.password,this.confirmPassword);const t=this.formStatus["firstname"].valid,e=this.formStatus["lastname"].valid,r=this.formStatus["phone"].valid;if(this.updatePassword){const a=this.formStatus["password"].valid,s=this.formStatus["confirmPassword"].valid;return t&&e&&a&&s&&r}return t&&e&&r},async getUser(){return et.profile().then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.email=e.email,this.phone=e.phone,this.isUserFetched=!0}})).catch(this.$handleApiError)}},async mounted(){Promise.allSettled([this.getUser()]).then((()=>this.isFetched=!0),(t=>this.$handleApiError(t)))}};const Zi=(0,p.Z)(Yi,[["render",Hi]]);var Ki=Zi;const Bi=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Notifications")])],-1),Qi={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ji={class:"!tw-capitalize"};function Gi(t,e,r,a,o,l){(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Bi,(0,s.kq)("",!0),((0,s.wg)(),(0,s.iD)("div",Qi,[(0,s.Wm)(os._,{flat:""},{default:(0,s.w5)((()=>[(0,s.Wm)(ls.d,{modelValue:o.tab,"onUpdate:modelValue":e[0]||(e[0]=t=>o.tab=t),color:"primary-color","align-tabs":"start",density:"compact"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(is.L,{class:"!tw-capitalize !tw-text-neutral-600",key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s._)("span",Ji,(0,at.zw)(t.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"]),(0,s.Wm)(ns.Oo,{class:"tw-mt-5",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabs,(t=>((0,s.wg)(),(0,s.j4)(ds.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.component)))])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})]))])}const Xi={key:0};function tn(t,e,r,a,o,l){const i=(0,s.up)("SalesTable");return l.fetched?((0,s.wg)(),(0,s.iD)("div",Xi,[((0,s.wg)(),(0,s.j4)(i,{key:l.sales.length,columns:o.columns,sales:l.sales},null,8,["columns","sales"]))])):(0,s.kq)("",!0)}const en={class:"tw-grid tw-grid-cols-12 tw-mb-5"},rn={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-items-center"},an=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),sn=["value"],on={class:"tw-relative tw-pb-5 tw-overflow-x-auto tw-min-h-[400px] tw-overflow-y-visible sm:tw-rounded-lg"},ln={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},nn={scope:"col",class:"tw-p-4"},dn={class:"tw-flex tw-items-center"},wn=(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox",-1),cn={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},un={class:"tw-w-4 tw-p-4 tw-relative"},pn={class:"tw-flex tw-items-center"},mn=["onChange","checked"],gn=(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox",-1),hn={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},fn={class:"tw-px-6 tw-py-4 tw-relative"},yn={key:0},xn={class:"tw-px-6 tw-py-4"},bn=["title"],vn={class:"tw-px-6 tw-py-4 tw-relative"},_n={class:"tw-pb-2"},kn={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Cn={key:0},Dn={key:1},Sn={class:"tw-absolute tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-text-xs"},zn={key:0,class:"tw-bg-emerald-500/10 tw-text-emerald-500 tw-px-2 tw-rounded-t"},Un={key:1,class:"tw-bg-blue-500/10 tw-text-blue-500 tw-px-2 tw-rounded-t"},Pn={class:"tw-px-6 tw-py-4"},Ln={class:"tw-px-6 tw-py-4 tw-relative"},qn={class:"tw-flex tw-items-center tw-justify-center"},$n={class:"tw-flex tw-gap-1"},An={key:0},Wn={class:"tw-px-6 tw-py-4"},En={class:"tw-px-6 tw-py-4 tw-relative"},Tn={class:"tw-flex tw-items-center tw-justify-center"},Fn={class:"tw-flex tw-gap-1"},On={key:0},Vn={class:"tw-px-6 tw-py-4"},In={class:"tw-px-6 tw-py-4"},jn={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Rn={class:"tw-col-span-12 md:tw-col-span-12 d-flex tw-justify-end tw-flex-wrap align-center"},Mn={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Nn={class:"tw-flex tw-flex-wrap tw-gap-2"},Hn={class:"tw-text-white"};function Yn(t,e,r,o,l,i){const n=(0,s.up)("SaleConfirmation"),d=(0,s.up)("SaleAffectation"),w=(0,s.up)("SaleDelivery"),c=(0,s.up)("SaleActions");return(0,s.wg)(),(0,s.iD)("div",{key:i.items.length},[(0,s._)("div",en,[(0,s._)("div",rn,[an,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,sn)))),128))],512),[[a.bM,l.paginationLimit]])])]),(0,s._)("div",on,[((0,s.wg)(),(0,s.iD)("table",{key:i.reportedForToday.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ln,[(0,s._)("tr",null,[(0,s._)("th",nn,[(0,s._)("div",dn,[(0,s.wy)((0,s._)("input",{onClick:e[1]||(e[1]=(...t)=>i.handleSelectAll&&i.handleSelectAll(...t)),"onUpdate:modelValue":e[2]||(e[2]=t=>l.isAllSelected=t),id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,512),[[a.e8,l.isAllSelected]]),wn])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,class:(0,at.C_)([["city"==t&&"!tw-max-w-[150px]"],"tw-px-6 tw-py-3 tw-truncate"]),scope:"col"},[(0,s._)("div",cn,(0,at.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:(0,at.C_)([[[t.confirmation,t.delivery].includes("reporter")&&"tw-relative",i.isReportedToday(t)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[(0,s._)("td",un,[(0,s._)("div",pn,[(0,s._)("input",{onChange:e=>i.handleSelect(e,t.id),checked:i.isSelected(t.id),id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"},null,40,mn),gn])]),(0,s._)("td",hn,(0,at.zw)(t.id),1),(0,s._)("td",fn,[(0,s.Uk)((0,at.zw)(t?.created_at?.split("T")[0])+" ",1),"reporter"==t.confirmation||"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[i.isReportedToday(t)?((0,s.wg)(),(0,s.iD)("span",yn," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",xn,[(0,s._)("div",{title:t.city,class:"!tw-max-w-[200px] tw-truncate"},(0,at.zw)(t.city),9,bn)]),(0,s._)("td",vn,[(0,s._)("div",_n,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",kn,(0,at.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Cn,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Dn,"| "+(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))]),(0,s._)("div",Sn,[t.counts_from_warehouse?((0,s.wg)(),(0,s.iD)("p",zn," warehouse ")):(0,s.kq)("",!0),t.counts_from_warehouse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",Un," delivery "))])])]),(0,s._)("td",Pn,(0,at.zw)(t.fullname),1),(0,s._)("td",Ln,[(0,s._)("div",qn,[((0,s.wg)(),(0,s.j4)(n,{class:(0,at.C_)("reporter"==t.confirmation&&"tw-mb-1"),sale:t,id:t.id,confirmation:t.confirmation,key:t.confirmation},null,8,["class","sale","id","confirmation"])),"reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",$n,["reporter"==t.confirmation?((0,s.wg)(),(0,s.iD)("span",An,[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(t?.reported_agente_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Wn,["confirmer"==t.confirmation?((0,s.wg)(),(0,s.j4)(d,{sale:t,affectation:t.affectation,id:t.id,key:t.affectation},null,8,["sale","affectation","id"])):(0,s.kq)("",!0)]),(0,s._)("td",En,[(0,s._)("div",Tn,[((0,s.wg)(),(0,s.j4)(w,{class:(0,at.C_)("reporter"==t.delivery&&"tw-mb-1"),sale:t,id:t.id,key:t.delivery,delivery:t.delivery},null,8,["class","sale","id","delivery"])),"reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([i.isReportedToday(t)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Fn,["reporter"==t.delivery?((0,s.wg)(),(0,s.iD)("span",On,[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.reported_delivery_date),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Vn,(0,at.zw)(i.getPrice(t)),1),(0,s._)("td",In,[((0,s.wg)(),(0,s.j4)(c,{id:t.id,key:t.delivery,sale:t},null,8,["id","sale"]))])],2)))),128))])]))]),(0,s._)("div",jn,[(0,s._)("div",Rn,[(0,s._)("div",Mn,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.sales.length:i.nextRange)+" of "+(0,at.zw)(r.sales.length)+" items ",1),(0,s._)("div",Nn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Hn,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Zn={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Kn=["onClick"],Bn={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Qn=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),Jn={class:"tw-flex tw-justify-end tw-mt-2"};function Gn(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),d=(0,s.up)("SaleConfirmationReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>i.toggle&&i.toggle(...t)),class:(0,at.C_)([[i.selected.text,i.selected.bg,i.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(i.selected.name)+" ",1),l.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),l.isLoading?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!l.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Zn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>i.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,at.zw)(t.name),3)],8,Kn)))),128))])],2),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.showPopup=!1),visible:l.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Bn,[Qn,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Jn,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(d,{order:r.sale,visible:l.showPopupReporter,onCancel:e[3]||(e[3]=t=>l.showPopupReporter=!1)},null,8,["order","visible"])])),[[re.L,i.close]])}const Xn=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:16,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:15,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:12,value:"wrong-number",name:"Wrong number",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:13,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:14,value:"double",name:"Double",text:"tw-text-purple-500",textLight:"tw-text-purple-800",bg:"tw-bg-purple-500/10",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"}],td=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"change",name:"Change",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:2,value:"refund",name:"Refund",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"confirmer",name:"Confirmed",text:"tw-text-green-500",textLight:"tw-text-green-800",bg:"tw-bg-green-500/10",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"}],ed=[{id:0,value:null,name:"New",text:"tw-text-white",textLight:"tw-text-emerald-800",bg:"tw-bg-green-500",bgLight:"tw-bg-emerald-100",ring:"tw-ring-green-300"},{id:1,value:"day-one-call-one",name:"No reply 1",text:"tw-text-rose-500",textLight:"tw-text-rose-700",bg:"tw-bg-rose-200/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-200"},{id:2,value:"day-one-call-two",name:"No reply 2",text:"tw-text-rose-500",textLight:"tw-text-rose-800",bg:"tw-bg-rose-400/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-300"},{id:3,value:"day-one-call-three",name:"No reply 3",text:"tw-text-rose-500",textLight:"tw-text-rose-900",bg:"tw-bg-rose-600/10",bgLight:"tw-bg-rose-100",ring:"tw-ring-rose-400"},{id:4,value:"day-two-call-one",name:"No reply 4",text:"tw-text-indigo-500",textLight:"tw-text-indigo-700",bg:"tw-bg-indigo-200/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-200"},{id:5,value:"day-two-call-two",name:"No reply 5",text:"tw-text-indigo-500",textLight:"tw-text-indigo-800",bg:"tw-bg-indigo-400/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:6,value:"day-two-call-three",name:"No reply 6",text:"tw-text-indigo-500",textLight:"tw-text-indigo-900",bg:"tw-bg-indigo-600/10",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-400"},{id:7,value:"day-three-call-one",name:"No reply 7",text:"tw-text-blue-500",textLight:"tw-text-blue-700",bg:"tw-bg-blue-200/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-200"},{id:8,value:"day-three-call-two",name:"No reply 8",text:"tw-text-blue-500",textLight:"tw-text-blue-800",bg:"tw-bg-blue-400/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-300"},{id:9,value:"day-three-call-three",name:"No reply 9",text:"tw-text-blue-500",textLight:"tw-text-blue-900",bg:"tw-bg-blue-600/10",bgLight:"tw-bg-blue-100",ring:"tw-ring-blue-400"},{id:10,value:"reporter",name:"Reported",text:"tw-text-teal-500",textLight:"tw-text-teal-800",bg:"tw-bg-teal-500/10",bgLight:"tw-bg-teal-100",ring:"tw-ring-teal-300"},{id:11,value:"annuler",name:"Canceled",text:"tw-text-red-500",textLight:"tw-text-red-800",bg:"tw-bg-red-500/10",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:13,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-cyan-500",textLight:"tw-text-cyan-800",bg:"tw-bg-cyan-500/10",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"}],rd=[{id:0,value:null,name:"Select",text:"tw-text-neutral-600",bg:"tw-bg-neutral-500/10",ring:"tw-ring-neutral-300"},{id:1,value:"oui",name:"Oui",text:"tw-text-green-500",bg:"tw-bg-green-500/10",ring:"tw-ring-green-300"},{id:2,value:"non",name:"Non",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",ring:"tw-ring-pink-300"}],ad=[{id:0,value:null,name:"Select",text:"tw-text-gray-500",textLight:"tw-text-gray-800",bg:"tw-bg-gray-500/10",bgLight:"tw-bg-gray-100",ring:"tw-ring-gray-300"},{id:1,value:"dispatch",name:"Dispatched",text:"tw-text-yellow-500",textLight:"tw-text-yellow-800",bg:"tw-bg-yellow-500/10",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:2,value:"expidier",name:"Shipped",text:"tw-text-fuchsia-500",textLight:"tw-text-fuchsia-800",bg:"tw-bg-fuchsia-500/10",bgLight:"tw-bg-fuchsia-100",ring:"tw-ring-fuchsia-300"},{id:3,value:"livrer",name:"Delivered",text:"tw-text-green-500",bg:"tw-bg-green-500/10",textLight:"tw-text-green-800",bgLight:"tw-bg-green-100",ring:"tw-ring-green-300"},{id:4,value:"reporter",name:"Reported",text:"tw-text-orange-500",bg:"tw-bg-orange-500/10",textLight:"tw-text-orange-800",bgLight:"tw-bg-orange-100",ring:"tw-ring-orange-300"},{id:5,value:"refuser",name:"Refused",text:"tw-text-pink-500",bg:"tw-bg-pink-500/10",textLight:"tw-text-pink-800",bgLight:"tw-bg-pink-100",ring:"tw-ring-pink-300"},{id:6,value:"annuler",name:"Canceled",text:"tw-text-red-500",bg:"tw-bg-red-500/10",textLight:"tw-text-red-800",bgLight:"tw-bg-red-100",ring:"tw-ring-red-300"},{id:9,value:"pas-de-reponse",name:"No Answer",text:"tw-text-yellow-500",bg:"tw-bg-yellow-500/10",textLight:"tw-text-yellow-800",bgLight:"tw-bg-yellow-100",ring:"tw-ring-yellow-300"},{id:10,value:"retourner",name:"Retourned",text:"tw-text-purple-500",bg:"tw-bg-purple-500/10",textLight:"tw-text-purple-800",bgLight:"tw-bg-purple-100",ring:"tw-ring-purple-300"},{id:11,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-indigo-500",bg:"tw-bg-indigo-500/10",textLight:"tw-text-indigo-800",bgLight:"tw-bg-indigo-100",ring:"tw-ring-indigo-300"},{id:12,value:"paid",name:"Paid",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"},{id:13,value:"transfer",name:"Transferd",text:"tw-text-violet-500",bg:"tw-bg-violet-500/10",textLight:"tw-text-violet-800",bgLight:"tw-bg-violet-100",ring:"tw-ring-violet-300"},{id:14,value:"livrer-et-retourner",name:"Delivered & Return",text:"tw-text-cyan-500",bg:"tw-bg-cyan-500/10",textLight:"tw-text-cyan-800",bgLight:"tw-bg-cyan-100",ring:"tw-ring-cyan-300"},{id:15,value:"reconfirmer",name:"Reconfirmed",text:"tw-text-emerald-500",bg:"tw-bg-emerald-500/10",textLight:"tw-text-emerald-800",bgLight:"tw-bg-emerald-100",ring:"tw-ring-emerald-300"}],sd=[null,"expidier","paid","transfer","dispatch"],od={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},ld=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),id=(0,s._)("br",null,null,-1),nd=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),dd={class:"tw-flex tw-justify-end tw-mt-2"};function wd(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",od,[ld,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),id,nd,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",dd,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var cd={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.isLoading=!0,na.agenteUpdateConfirmation(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const ud=(0,p.Z)(cd,[["render",wd]]);var pd=ud,md={props:["confirmation","id","sale"],components:{SaleConfirmationReporting:pd},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",noteReporter:"",selectedId:0,allOptions:Xn,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleClick(){this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))},handleClickReporter(){this.showPopupReporter=!1},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,na.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},async updateOrderWithNote(){return this.isLoading=!0,na.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("sale/updateConfirmation",{id:t,confirmation:e})},updateConfirmationNote(t,e,r){this.$store.dispatch("sale/updateConfirmationWithNote",{id:t,confirmation:e,note:r})}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const gd=(0,p.Z)(md,[["render",Gn]]);var hd=gd;const fd={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},yd=["onClick"],xd={class:"tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100"},bd={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function vd(t,e,r,a,o,l){return l.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:"tw-whitespace-nowrap focus:tw-ring-4 tw-ring-neutral-200 tw-bg-neutral-600/10 tw-text-neutral-800 focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center",type:"button"},[(0,s.Uk)((0,at.zw)(l.selected.firstname)+" "+(0,at.zw)(l.selected.lastname)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",fd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",xd,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1)],8,yd)))),128))])],2)])),[[re.L,l.close]]):((0,s.wg)(),(0,s.iD)("div",bd,[(0,s.Wm)(lt.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var _d={props:["affectation","id","sale"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,old:null}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},fetched(){return this.$store.getters["user/fetched"]},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.sale.items.some((e=>e.product_id==t.product_id))))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(this.old=this.affectation,t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},updateOrder(){na.agenteUpdateAffectaion(this.id,this.selectedId).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateAffectation(this.id,this.selected.id),this.isLoading=!1)}),(t=>{this.$handleApiError(t),this.isLoading=!1,this.selectedId=this.old}))},updateAffectation(t,e){this.$store.dispatch("sale/updateAffectation",{id:t,affectation:e})}},mounted(){this.selectedId=this.affectation}};const kd=(0,p.Z)(_d,[["render",vd]]);var Cd=kd;const Dd={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Sd=["onClick"];function zd(t,e,r,a,o,l){const i=(0,s.up)("SaleDeliveryReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,at.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(l.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Dd,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2 hover:tw-bg-gray-100",[t.text,t.bg]])},(0,at.zw)(t.name),3)],8,Sd)))),128))])],2),(0,s.Wm)(i,{order:r.sale,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])),[[re.L,l.close]])}const Ud={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Pd=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Ld=(0,s._)("br",null,null,-1),qd=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),$d={class:"tw-flex tw-justify-end tw-mt-2"};function Ad(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ud,[Pd,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),Ld,qd,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",$d,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Wd={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,na.deliveryUpdateDelivery(t.id,"reporter",t).then((()=>{this.$alert({type:"success",title:"Order reported successfully"}),this.$store.dispatch("sale/update",{id:t.id,sale:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){}};const Ed=(0,p.Z)(Wd,[["render",Ad]]);var Td=Ed,Fd={props:["delivery","id","sale"],components:{SaleDeliveryReporting:Td},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:ad,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){return t.id!==this.selectedId&&("reporter"!==t.value?(this.selectedId=t.id,this.updateOrder(),this.close(),!0):void("reporter"==t.value&&(this.showPopupReporter=!0,this.close())))},async updateOrder(){return this.isLoading=!0,na.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("sale/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Od=(0,p.Z)(Fd,[["render",zd]]);var Vd=Od;const Id={key:0};function jd(t,e,r,a,o,l){const i=(0,s.up)("SaleHistory"),n=(0,s.up)("popup-full"),d=(0,s.up)("UpdateSale");return r.sale?((0,s.wg)(),(0,s.iD)("div",Id,[(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.sale.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"]),t.$can("update_sale")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(t.$can("view_sale"),(0,s.kq)("",!0)),(t.$can("delete_sale"),(0,s.kq)("",!0)),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>o.showHistoryPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"teal",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-ascending-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.showHistoryPopup,onCancel:e[4]||(e[4]=t=>o.showHistoryPopup=!1)},{default:(0,s.w5)((()=>[o.showHistoryPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[3]||(e[3]=t=>o.showHistoryPopup=!1),sale:r.sale},null,8,["sale"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(d,{visible:o.showUpdatePopup,"onUpdate:visible":e[5]||(e[5]=t=>o.showUpdatePopup=t),order:r.sale},null,8,["visible","order"])])):(0,s.kq)("",!0)}var Rd=r(7103),Md=r(795),Nd=r(2773);const Hd={class:"md:tw-w-[50%] tw-max-h-full tw-relative tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Yd={key:0,class:"tw-w-full tw-h-full"},Zd={key:1,class:"tw-p-5"},Kd={class:"d-flextw-flex-col justify-space-between flex-grow-1"},Bd={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},Qd={class:"tw-text-sm tw-capitalize tw-text-neutral-600"},Jd={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},Gd={class:"d-flextw-flex-col justify-space-between flex-grow-1"},Xd={class:"tw-flex tw-flex-col tw-my-2"},tw=(0,s._)("div",null," New Order Created ",-1),ew={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"};function rw(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",Hd,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Yd,[(0,s.Wm)(i,{class:"text-primary-color"})])),(0,s.Wm)(st.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zd,[(0,s.Wm)(Md.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(Nd.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",Kd,[(0,s._)("div",Bd,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Rd.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",Qd,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1),(0,s._)("div",Jd,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(Nd.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",Gd,[(0,s._)("div",Xd,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),tw]),(0,s._)("div",ew,[(0,s._)("span",null,(0,at.zw)(r.sale.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.sale.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)])}var aw={props:["sale"],data(){return{isLoaded:!1,allEvents:[]}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("cancel")},getHistory(){this.isLoaded=!1,na.history(this.sale.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const sw=(0,p.Z)(aw,[["render",rw]]);var ow=sw;const lw={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},iw={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},nw=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),dw={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},ww={class:"md:tw-col-span-6 tw-col-span-12"},cw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),uw={class:"md:tw-col-span-6 tw-col-span-12"},pw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),mw={class:"md:tw-col-span-6 tw-col-span-12"},gw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),hw=["value"],fw=["value"],yw={class:"md:tw-col-span-6 tw-col-span-12"},xw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),bw={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},vw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),_w={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},kw={class:"tw-col-span-12"},Cw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),Dw={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},Sw={class:"tw-col-span-12 md:tw-col-span-4"},zw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),Uw={class:"tw-col-span-12 md:tw-col-span-8"},Pw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),Lw={class:"md:tw-col-span-6 tw-col-span-12"},qw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),$w={class:"md:tw-col-span-6 tw-col-span-12"},Aw=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),Ww=["value"],Ew={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},Tw={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Fw={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},Ow=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),Vw={class:"tw-flex tw-flex-col tw-justify-center"},Iw=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),jw={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},Rw={key:2,class:"md:tw-col-span-12 tw-col-span-12"},Mw={class:"tw-max-w-full tw-overflow-auto"},Nw={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Hw={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Yw={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},Zw=["src"],Kw={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},Bw=["onUpdate:modelValue"],Qw=(0,s._)("option",{value:0},"Select",-1),Jw=["value"],Gw={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},Xw=["disabled","onUpdate:modelValue"],tc=(0,s._)("option",{value:0},"Select",-1),ec=["value"],rc={key:0},ac={key:1},sc={key:2},oc={key:3},lc=["value"],ic={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},nc={class:"md:tw-col-span-6 tw-col-span-12"},dc=["onUpdate:modelValue"],wc={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},cc={key:0},uc={key:1,class:"md:tw-col-span-6 tw-col-span-12"},pc=["onUpdate:modelValue"],mc={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},gc={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},hc=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),fc={class:"md:tw-col-span-12 tw-col-span-12"},yc={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},xc=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),bc={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},vc=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),_c={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},kc=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),Cc={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},Dc=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),Sc={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},zc={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Uc=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Pc=(0,s._)("span",{class:"text-white"}," Update ",-1);function Lc(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("AddOrderConfirmation"),w=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",lw,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",iw,[nw,(0,s._)("div",dw,[(0,s._)("div",ww,[cw,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",uw,[pw,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",mw,[gw,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:l.sale.city},(0,at.zw)(l.sale.city),9,hw),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,fw)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",yw,[xw,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",bw,[vw,(0,s.Wm)(d,{order:l.sale,id:l.sale.id,confirmation:l.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>l.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>l.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",_w,[(0,s._)("div",kw,[Cw,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>l.sale.note=t)},null,512),[[a.nr,l.sale.note]])])]),"reporter"==l.sale.confirmation&&l.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",Dw,[(0,s._)("div",Sw,[zw,(0,s._)("div",null,(0,at.zw)(l.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",Uw,[Pw,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>l.sale.reported_agente_note=t)},null,512),[[a.nr,l.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",Lw,[qw,(0,s.Wm)(w,{"product-ids":i.product_ids,items:l.items,"onUpdate:items":e[8]||(e[8]=t=>l.items=t),order:l.sale,confirmation:l.sale.confirmation,affectation:l.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>l.sale.affectation=t),id:l.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",$w,[Aw,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,at.zw)(t.name),9,Ww)))),128))],512),[[a.bM,l.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",Ew,[(0,s._)("div",Tw,[(0,s._)("label",Fw,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),Ow]),(0,s._)("label",Vw,[(0,s._)("span",{class:(0,at.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),Iw,l.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",jw," No Order items ")),l.items.length?((0,s.wg)(),(0,s.iD)("div",Rw,[(0,s._)("div",Mw,[((0,s.wg)(),(0,s.iD)("table",{key:l.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Nw,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Hw,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",Yw,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:l.serverUrl+"storage/"+i.product_images[e]},null,8,Zw)):(0,s.kq)("",!0)])])),(0,s._)("th",Kw,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[Qw,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Jw)))),128))],8,Bw),[[a.bM,t.product.id]])])])]),(0,s._)("th",Gw,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[tc,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",ac,(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",sc,(0,at.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",oc,(0,at.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",rc,"-"))],8,ec)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,lc))],8,Xw)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",ic,[(0,s._)("div",nc,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,dc),[[a.nr,t.quantity]])])]),(0,s._)("th",wc,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",cc," - ")):((0,s.wg)(),(0,s.iD)("div",uc,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,pc),[[a.nr,t.price]])]))])]),(0,s._)("th",mc,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",gc,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),hc])),_:1},8,["onClick"])])]),(0,s._)("div",fc,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",yc,[xc,(0,s._)("div",bc,[vc,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>l.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])])]),(0,s._)("div",_c,[kc,(0,s._)("div",Cc,[Dc,(0,s._)("div",Sc,(0,at.zw)(l.currency)+" "+(0,at.zw)(i.total_price),1)])])]),(0,s._)("div",zc,[(0,s.Wm)(st.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Uc])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Pc])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const qc={class:"tw-relative"},$c=["value"],Ac={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Wc=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter note",-1),Ec={class:"tw-flex tw-justify-end tw-mt-2"};function Tc(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),d=(0,s.up)("AddOrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.confirmation,class:"tw-relative tw-min-w-[100px] tw-w-full"},[(0,s._)("div",null,[(0,s._)("div",qc,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.confirmationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allOptions,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text,!t.value&&"!tw-text-gray-700"]),key:t.id,value:t.value},(0,at.zw)(t.name),11,$c)))),128))],512),[[a.bM,i.confirmationValue]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])]),(0,s.Wm)(n,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>l.showPopup=!1),visible:l.showPopup},{default:(0,s.w5)((()=>[(0,s._)("div",Ac,[Wc,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Ec,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleClick},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"]),(0,s.Wm)(d,{order:r.order,onConfirm:i.handleReportedDate,visible:l.showPopupReporter,onCancel:e[3]||(e[3]=t=>l.showPopupReporter=!1)},null,8,["order","onConfirm","visible"])])),[[re.L,i.close]])}const Fc={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},Oc=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Vc=(0,s._)("br",null,null,-1),Ic=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),jc={class:"tw-flex tw-justify-end tw-mt-2"};function Rc(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Fc,[Oc,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),Vc,Ic,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",jc,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Mc={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_agente_date=this.realDate,t.reported_agente_note=this.note,t.confirmation="reporter",this.$emit("confirm",{reported_agente_date:this.realDate,reported_agente_note:this.note}),this.isLoading=!0},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}}};const Nc=(0,p.Z)(Mc,[["render",Rc]]);var Hc=Nc,Yc={props:["confirmation","id","order"],components:{AddOrderReporting:Hc},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:Xn,reported_agente_date:null,reported_agente_note:"",showPopupReporter:!1}},watch:{},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},confirmationValue:{get(){return this.confirmation},set(t){switch(t){case"reporter":this.showPopupReporter=!0;break;case"confirmer":this.showPopup=!0;break;default:this.$emit("update:confirmation",t);break}}},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleResolved(t){t?(this.selectedId=this.nextOption,this.showPopup=!1,this.updateOrderWithNote().catch(this.$handleApiError).finally((()=>this.showPopup=!1))):this.showPopup=!1},handleReportedDate(t){this.reported_agente_date=t.reported_agente_date,this.reported_agente_note=t.reported_agente_note,this.$emit("update:confirmation","reporter"),this.$emit("reported",t),this.showPopupReporter=!1},handleClick(){this.showPopup=!1,this.$emit("update:confirmation","confirmer"),this.$emit("confirmed",this.note)},async handleChange(t){if(t.id===this.selectedId)return!1;"confirmer"!==t.value&&"reporter"!==t.value?(this.selectedId=t.id,this.updateOrder()):"reporter"===t.value?this.showPopupReporter=!0:(this.nextOption=t.id,this.showPopup=!0),this.close()},async updateOrder(){return this.isLoading=!0,na.agenteUpdateConfirmation(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmation(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t)))},async updateOrderWithNote(){return this.isLoading=!0,na.agenteUpdateConfirmationWithNote(this.id,this.selected.value,this.note).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateConfirmationWithNote(this.id,this.selected.value,this.note),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateConfirmation(t,e){this.$store.dispatch("order/updateConfirmation",{id:t,confirmation:e}),this.$emit("update",e)},updateConfirmationWithNote(t,e,r){this.$store.dispatch("order/updateConfirmationWithNote",{id:t,confirmation:e,note:r}),this.$emit("update",e)}},mounted(){this.availableOptions.includes(this.confirmation)?this.selectedId=this.allOptions.find((t=>t.value==this.confirmation)).id:this.selectedId=0}};const Zc=(0,p.Z)(Yc,[["render",Tc]]);var Kc=Zc;const Bc={class:"tw-relative"},Qc=["disabled"],Jc=["value"],Gc={key:1,class:"tw-relative tw-min-w-[100px] tw-flex tw-items-center"};function Xc(t,e,r,o,l,i){return l.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.affectation,class:"tw-relative tw-min-w-[100px]"},[(0,s._)("div",null,[(0,s._)("div",Bc,[(0,s.wy)((0,s._)("select",{disabled:"confirmer"!=r.confirmation,"onUpdate:modelValue":e[0]||(e[0]=t=>i.affectationValue=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.options,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,Jc)))),128))],8,Qc),[[a.bM,i.affectationValue]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),[[re.L,i.close]]):((0,s.wg)(),(0,s.iD)("div",Gc,[(0,s.Wm)(lt.t,{class:"tw-animate-spin tw-ml-1 tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})]))}var tu={props:["affectation","id","order","confirmation","items","productIds"],data(){return{isOpen:!1,isLoading:!1,selectedId:null,fetched:!1}},computed:{options(){return[{id:null,firstname:"select",lastname:""},...this.deliveries]},order_items(){return this.items},affectationValue:{get(){return this.affectation},set(t){this.$emit("update:affectation",t)}},selected(){const t=[...this.deliveries.map((t=>parseInt(t.id)))];return null!=this.selectedId&&t.includes(parseInt(this.selectedId))?this.options.filter((t=>t.id==this.selectedId))[0]:{id:null,firstname:"select",lastname:""}},users(){return this.$store.getters["user/users"]},allDeliveries(){return this.users.filter((t=>"delivery"==t.role_name))},deliveries(){return this.allDeliveries.filter((t=>t.delivery_products.some((t=>this.productIds.includes(t.product_id)))))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;this.selectedId=t.id,this.isLoading=!0,this.updateOrder(),this.close()},getUsers(){this.fetched=!1,et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0),this.fetched=!0}})).catch(this.$handleApiError)}},mounted(){this.selectedId=this.affectation,this.getUsers()}};const eu=(0,p.Z)(tu,[["render",Xc]]);var ru=eu;const au=(0,s._)("h1",{class:"tw-mb-2 tw-font-medium"},"Offers",-1),su={class:"tw-relative tw-overflow-x-auto tw-border-b sm:tw-rounded"},ou={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lu=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),iu={class:"tw-px-6 tw-py-4"},nu={class:"tw-px-6 tw-py-4"},du={class:"tw-px-6 tw-py-4"},wu={class:"tw-px-6 tw-py-4"},cu={class:"tw-max-w-[250px] tw-text-sm"},uu={key:0},pu=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),mu=[pu];function gu(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[au,(0,s._)("div",null,[(0,s._)("div",su,[(0,s._)("table",ou,[lu,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",iu,(0,at.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",nu,(0,at.zw)(t.quantity),1),(0,s._)("td",du,(0,at.zw)(t.price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",wu,[(0,s._)("p",cu,(0,at.zw)(t.note),1)])])))),128)),0==l.offers.length?((0,s.wg)(),(0,s.iD)("tr",uu,mu)):(0,s.kq)("",!0)])])])])])}var hu={props:["productIds"],data(){return{currency:c}},computed:{products(){return this.$store.getters["product/products"]},offers(){return this.products.filter((t=>this.productIds.includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}}};const fu=(0,p.Z)(hu,[["render",gu]]);var yu=fu,xu={components:{AddOrderConfirmation:Kc,AddOrderAffectation:ru,ProductOffers:yu},props:["visible","order"],data(){return{upsells:rd,serverUrl:d,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!1}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,order_id:this.order.id,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},update(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={id:this.sale.id,fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};"confirmer"!=t.confirmation&&(t.affectation=null,t.delivery=null),this.isLoading=!0,na.update(t.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"Order updated"}),this.$store.dispatch("sale/update",{id:t.id,sale:e.data.data.sale}),this.$emit("update:visible",!1),this.$emit("updateOrder",e.data.data.sale))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.sale={...this.order},this.items=[...this.order.items],this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.sale={...this.order},this.items=[...this.order.items]}};const bu=(0,p.Z)(xu,[["render",Lc]]);var vu=bu,_u={props:["sale"],name:"saleActions",components:{SaleHistory:ow,UpdateSale:vu},data(){return{showPopup:!1,showUpdatePopup:!1,showHistoryPopup:!1,isLoading:!1}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{}};const ku=(0,p.Z)(_u,[["render",jd]]);var Cu=ku,Du={props:{sales:{required:!0},selectedReset:{required:!1,default:[]}},components:{SaleConfirmation:hd,SaleAffectation:Cd,SaleDelivery:Vd,SaleActions:Cu},data(){return{allowedLimit:[5,10,20,50,100,300,500],currentPage:1,paginationLimit:50,todayDate:null,selected:[],isAllSelected:!1,columns:["id","date","city","products","client","confirmation","affectation","delivery","price","actions"]}},watch:{selectedReset(t){this.selected=t,0==this.selected.length&&(this.isAllSelected=!1)},paginationLimit(){this.currentPage=1},selected(t){this.$emit("selected",t)}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sales.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.sales.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.sales.filter(this.isReportedToday)}},methods:{getPrice(t){return Go(t)},isReportedToday(t){return this.isConfirmationReportedToday(t)||this.isDeliveryReportedToday(t)},isDeliveryReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date?.split("T")[0]==this.todayDate},isConfirmationReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date?.split("T")[0]==this.todayDate},handleSelect(t,e){t.target.checked?this.selected=[...this.selected,e]:this.selected=this.selected.filter((t=>t!=e))},isSelected(t){return this.selected.includes(t)},handleSelectAll(t){t.target.checked?this.selected=[...this.items.map((t=>t.id))]:this.selected=[]}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const Su=(0,p.Z)(Du,[["render",Yn]]);var zu=Su,Uu={components:{SalesTable:zu},data(){return{columns:[{prop:"id",name:"#"},{prop:"city",name:"City"},{prop:"date",name:"Date"},{prop:"client",name:"Client"},{prop:"product",name:"Product"},{prop:"upsell",name:"Upsell"},{prop:"confirmation",name:"Confirmation"},{prop:"affectation",name:"Affected"},{prop:"delivery",name:"Delivery"},{prop:"quantity",name:"Qty"},{prop:"price",name:"Price"},{prop:"actions",name:"Actions"}]}},computed:{sales(){return this.$store.getters["notification/notifications"]["reportedOrderAgente"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Pu=(0,p.Z)(Uu,[["render",tn]]);var Lu=Pu;const qu={key:0};function $u(t,e,r,a,o,l){const i=(0,s.up)("SalesTable");return l.fetched?((0,s.wg)(),(0,s.iD)("div",qu,[((0,s.wg)(),(0,s.j4)(i,{key:l.sales.length,columns:o.columns,sales:l.sales},null,8,["columns","sales"]))])):(0,s.kq)("",!0)}var Au={components:{SalesTable:zu},data(){return{columns:[{prop:"id",name:"#"},{prop:"city",name:"City"},{prop:"date",name:"Date"},{prop:"client",name:"Client"},{prop:"product",name:"Product"},{prop:"upsell",name:"Upsell"},{prop:"confirmation",name:"Confirmation"},{prop:"affectation",name:"Affected"},{prop:"delivery",name:"Delivery"},{prop:"quantity",name:"Qty"},{prop:"price",name:"Price"},{prop:"actions",name:"Actions"}]}},computed:{sales(){return this.$store.getters["notification/notifications"]["reportedOrderDelivery"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Wu=(0,p.Z)(Au,[["render",$u]]);var Eu=Wu;function Tu(t,e,r,a,o,l){const i=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{columns:o.columns,products:l.products},null,8,["columns","products"])])}const Fu={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Ou={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Vu={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Iu=(0,s._)("th",null,null,-1),ju={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Ru={class:"tw-w-4 tw-p-4"},Mu={class:"tw-flex tw-items-center"},Nu={key:0,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-green-500"},Hu={key:1,class:"tw-w-2.5 tw-h-2.5 tw-rounded-full tw-bg-yellow-500"},Yu={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Zu={class:"tw-px-6 tw-py-4"},Ku={key:0},Bu={class:"tw-px-6 tw-py-4"},Qu={class:"tw-px-6 tw-py-4"},Ju={class:"tw-px-6 tw-py-4"},Gu={class:"tw-px-6 tw-py-4"},Xu={class:"tw-px-6 tw-py-4"},tp={class:"tw-px-6 tw-py-4"},ep={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},rp={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},ap={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},sp=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),op=["value"],lp={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},ip={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},np={class:"tw-text-white"};function dp(t,e,r,o,l,i){const n=(0,s.up)("ProductActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Fu,[(0,s._)("table",Ou,[(0,s._)("thead",Vu,[(0,s._)("tr",null,[Iu,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",ju,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Ru,[(0,s._)("div",Mu,[1==t.status?((0,s.wg)(),(0,s.iD)("span",Nu)):(0,s.kq)("",!0),0==t.status?((0,s.wg)(),(0,s.iD)("span",Hu)):(0,s.kq)("",!0)])]),(0,s._)("th",Yu,(0,at.zw)(t.id),1),(0,s._)("td",Zu,[t.seller_user?((0,s.wg)(),(0,s.iD)("span",Ku,(0,at.zw)(t.seller_user.firstname)+" "+(0,at.zw)(t.seller_user.lastname),1)):(0,s.kq)("",!0)]),(0,s._)("td",Bu,(0,at.zw)(t.ref),1),(0,s._)("td",Qu,(0,at.zw)(t.name),1),(0,s._)("td",Ju,(0,at.zw)(t.buying_price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",Gu,(0,at.zw)(t.selling_price)+" "+(0,at.zw)(l.currency),1),(0,s._)("td",Xu,(0,at.zw)(i.calculQty(t.variations)),1),(0,s._)("td",tp,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",ep,[(0,s.Wm)(n,{product:t},null,8,["product"])])])))),128))])])]),(0,s._)("div",rp,[(0,s._)("div",ap,[sp,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,op)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",lp,[(0,s._)("div",ip,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.products.length:i.nextRange)+" of "+(0,at.zw)(r.products.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",np,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const wp={class:"tw-flex tw-items-center tw-gap-1"},cp=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},[(0,s._)("path",{d:"M12 2C11.8 2 11.6 2.1 11.4 2.2L3.5 6.6C3.2 6.8 3 7.1 3 7.5V16.5C3 16.9 3.2 17.2 3.5 17.4L11.4 21.8C11.6 21.9 11.8 22 12 22S12.4 21.9 12.6 21.8L13.5 21.3C13.2 20.7 13.1 20 13 19.3V12.6L19 9.2V13C19.7 13 20.4 13.1 21 13.3V7.5C21 7.1 20.8 6.8 20.5 6.6L12.6 2.2C12.4 2.1 12.2 2 12 2M12 4.2L18 7.5L16 8.6L10.1 5.2L12 4.2M8.1 6.3L14 9.8L12 10.9L6 7.5L8.1 6.3M5 9.2L11 12.6V19.3L5 15.9V9.2M21.3 15.8L17.7 19.4L16.1 17.8L15 19L17.8 22L22.6 17.2L21.3 15.8Z",fill:"white"})],-1),up={key:4};function pp(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("ProductStatusPopup");return(0,s.wg)(),(0,s.iD)("div",wp,[t.$can("update_product")&&"admin"==this.user.role?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.showStatusPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[cp])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,to:"/products/update/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,to:"/products/"+r.product.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_product")?((0,s.wg)(),(0,s.j4)(st.T,{key:3,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"]),o.showStatusPopup?((0,s.wg)(),(0,s.iD)("div",up,[(0,s.Wm)(n,{visible:o.showStatusPopup,"onUpdate:visible":e[2]||(e[2]=t=>o.showStatusPopup=t),onCancel:e[3]||(e[3]=t=>o.showStatusPopup=!1),product:r.product},null,8,["visible","product"])])):(0,s.kq)("",!0)])}const mp={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},gp=(0,s._)("h1",{class:"tw-text-lg"},"Update Product Status",-1),hp={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},fp={class:"tw-w-full tw-col-span-6"},yp={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},xp=["disabled"],bp=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),vp={class:"tw-w-full tw-col-span-12"},_p=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),kp={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Cp=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Dp=(0,s._)("span",{class:"text-white"}," Update ",-1);function Sp(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",mp,[gp,(0,s._)("div",hp,[(0,s._)("div",fp,[(0,s._)("label",yp,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingStatus,"onUpdate:modelValue":e[0]||(e[0]=t=>l.currentStatus=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,xp),[[a.e8,l.currentStatus]]),bp]),l.isLoadingStatus?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",vp,[_p,(0,s.wy)((0,s._)("textarea",{"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",512),[[a.nr,l.note]])])]),(0,s._)("div",kp,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Cp])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Dp])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var zp={components:{},props:["product","visible"],data(){return{isLoading:!1,isLoadingStatus:!1,currentStatus:!1,note:""}},computed:{},methods:{update(){this.isLoading=!0;const t={status:this.currentStatus,note:this.note};la.updateStatus(this.product.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("product/setProduct",t.data.data.product),this.$emit("cancel")),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))}},mounted(){this.Product={...this.product},this.currentStatus=1==this.product.status,this.note=this.product.note}};const Up=(0,p.Z)(zp,[["render",Sp]]);var Pp=Up,Lp={components:{ProductStatusPopup:Pp},props:["rowIndex","product"],name:"productActions",data(){return{showStatusPopup:!1,showPopup:!1,isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,la["delete"](this.product.id).then((t=>{"PRODUCT_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Product Deleted Successfully"})),la.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const qp=(0,p.Z)(Lp,[["render",pp]]);var $p=qp,Ap={props:["columns","products"],components:{ProductActions:$p},data(){return{currency:c,allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.products.length/this.paginationLimit)},items(){return this.products.slice(this.prevRange,this.nextRange)}},methods:{calculQty(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Wp=(0,p.Z)(Ap,[["render",dp]]);var Ep=Wp,Tp={components:{ProductsTable:Ep},data(){return{columns:[{prop:"id",name:"#"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["notification/notifications"]["productStockAlert"]||[]},fetched(){return this.$store.getters["notification/fetched"]}}};const Fp=(0,p.Z)(Tp,[["render",Tu]]);var Op=Fp,Vp={components:{StockAlertView:Op,ReportedDelivery:Eu,ReportedConfirmation:Lu},data(){return{tab:1,fullTabs:[{id:1,name:"Stock Alert",component:"StockAlertView",permissions:["admin"]},{id:2,name:"Deliveries",component:"ReportedDelivery",permissions:["admin..","delivery"]},{id:3,name:"Confirmations",component:"ReportedConfirmation",permissions:["admin..","agente"]}]}},computed:{tabs(){return this.fullTabs.filter((t=>t.permissions.includes(this.user.role)))},tabName(){return this.$route.params.tab},user(){return this.$store.getters["user/user"]}},watch:{tabName(){this.handleChange()}},methods:{handleChange(){switch(this.tabName){case"stock":this.tab=1;break;case"delivery":this.tab=2;break;case"confirmation":this.tab=3;break;default:this.tab=this.tabs[0].id||1;break}}},mounted(){this.handleChange()}};const Ip=(0,p.Z)(Vp,[["render",Gi]]);var jp=Ip,Rp={path:"/",name:"home",component:ca,meta:{module:"dashboard"},children:[{path:"",name:"dashboard",component:ki,meta:{module:"dashboard",title:"Dashboard",gate:"all"}},{path:"/notifications/:tab",name:"notifications",component:jp,meta:{module:"notification",title:"Notifications",gate:"all"}},{path:"/settings",name:"settings",component:Ki,meta:{module:"settings",title:"Settings",gate:"all"}}]};const Mp={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Np=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your products")],-1),Hp={key:0},Yp=(0,s._)("span",{class:"text-white"}," Add Expedition ",-1),Zp={key:0},Kp={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Bp={class:"mb-5 tw-flex"},Qp={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Jp={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Gp={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Xp=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),tm={class:"tw-relative"},em={class:""};function rm(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("ProductsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.products.length},[(0,s._)("div",Mp,[Np,t.$can("create_product")?((0,s.wg)(),(0,s.iD)("div",Hp,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"product/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Yp])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Zp,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",Kp,[(0,s._)("div",Bp,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Qp,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Jp,[(0,s._)("div",Gp,[Xp,(0,s._)("div",tm,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",em,[(0,s.Wm)(d,{columns:l.columns,products:i.filteredProducts},null,8,["columns","products"])])])):(0,s.kq)("",!0)])}var am={components:{ProductsTable:Ep},data(){return{localUrl:n,confirmations:Xn,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"seller",name:"Seller"},{prop:"ref",name:"Ref"},{prop:"name",name:"Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"quantity",name:"Qty"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]},filteredProducts(){const t=this.date;return this.products.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!(e.ref.toLowerCase().includes(this.search.toLowerCase())||e.name.toLowerCase().includes(this.search.toLowerCase())||e.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{getProducts(){la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts()}};const sm=(0,p.Z)(am,[["render",rm]]);var om=sm;const lm={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},im={class:"tw-px-3"},nm={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},dm={class:"tw-flex tw-items-center tw-gap-x-3"},wm=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Products ",-1),cm={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},um=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of products. ",-1),pm={key:0};function mm(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",lm,[(0,s._)("section",im,[(0,s._)("div",nm,[(0,s._)("div",null,[(0,s._)("div",dm,[wm,(0,s._)("span",cm,(0,at.zw)(o.totalProducts)+" products",1)]),um])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateProducts,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[3]||(e[3]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",pm,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const gm={class:"tw-flex tw-flex-col"},hm={class:"tw-overflow-x-auto"},fm={class:"tw-inline-block tw-min-w-full tw-align-middle"},ym={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},xm={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},bm={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},vm={scope:"col",class:"rtl:tw-text-right tw-w-7 tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},_m={class:"tw-max-w-[25px]"},km={class:"tw-inline-flex tw-items-center"},Cm={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},Dm=["checked"],Sm=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),zm=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),Um=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-w-5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Seller")],-1),Pm=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," SKU ",-1),Lm=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Name ",-1),qm=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Pricing ( $ ) ",-1),$m=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-whitespace-nowrap !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Qty ",-1),Am=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivered ",-1),Wm=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Shipped ",-1),Em=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Available ",-1),Tm={scope:"col",class:"tw-py-3.5 tw-w-5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},Fm=(0,s._)("span",null,"Created",-1),Om=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),Vm=[Fm,Om],Im=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Actions")],-1),jm={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Rm={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Mm=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Nm=[Mm],Hm={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ym={colspan:"11"},Zm={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},Km=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),Bm=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),Qm=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),Jm=[Bm,Qm],Gm={class:"tw-mt-6"};function Xm(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gm,[(0,s._)("div",hm,[(0,s._)("div",fm,[(0,s._)("div",ym,[(0,s._)("table",xm,[(0,s._)("thead",bm,[(0,s._)("tr",null,[(0,s._)("th",vm,[(0,s._)("div",_m,[(0,s._)("div",km,[(0,s._)("label",Cm,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,Dm),Sm])])])]),zm,Um,Pm,Lm,qm,$m,Am,Wm,Em,(0,s._)("th",Tm,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},Vm)]),Im])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",jm,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((r,a,o)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:o,index:a,key:r.id,item:r},null,8,["selected","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",Rm,Nm)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Hm,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Ym,[(0,s._)("div",Zm,[Km,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Jm)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Gm,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const tg={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},eg={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},rg={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},ag={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},sg=["disabled"],og=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),lg=(0,s._)("span",null," previous ",-1),ig=[og,lg],ng=["disabled"],dg=(0,s._)("span",null," Next ",-1),wg=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),cg=[dg,wg];function ug(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tg,[(0,s._)("div",eg,[(0,s.Uk)(" Page "),(0,s._)("span",rg,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",ag,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},ig,10,sg),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},cg,10,ng)])])])}var pg={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const mg=(0,p.Z)(pg,[["render",ug]]);var gg=mg;const hg={class:"tw-p-2 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},fg={class:"tw-max-w-[25px]"},yg={class:"tw-inline-flex tw-items-center"},xg={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},bg=["checked","id"],vg=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),_g={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},kg={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Cg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Dg={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Sg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},zg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ug={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[350px] tw-truncate"},Pg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lg={class:"tw-flex tw-items-center tw-gap-1"},qg={title:"Buying Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},$g={class:"tw-text-blue-700"},Ag={title:"Selling Price",class:"tw-flex tw-items-center tw-font-bold tw-p-1 tw-rounded"},Wg={class:"tw-text-green-700"},Eg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Tg={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Fg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Og={class:"tw-flex tw-font-medium tw-text-green-600 tw-rounded tw-items-center"},Vg={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Ig={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},jg={class:"tw-flex tw-font-medium tw-text-purple-600 tw-rounded tw-items-center"},Rg={class:"tw-font-medium tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Mg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ng={class:"tw-p-1 tw-w-fit darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},Hg={class:"tw-px-4 tw-py-1 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-max-w-[100px]"},Yg={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-max-w-[100px] tw-flex tw-items-center tw-gap-2"},Zg={class:"tw-px-4 tw-py-1 tw-text-sm tw-whitespace-nowrap"};function Kg(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[l.availableQuantity<=0&&"!tw-border !tw-border-red-300 tw-bg-red-100 hover:tw-bg-red-100"]])},[(0,s._)("td",hg,[(0,s._)("div",fg,[(0,s._)("div",yg,[(0,s._)("label",xg,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,bg),vg])])])]),(0,s._)("td",_g,[(0,s._)("div",null,[(0,s._)("h2",kg,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",Cg,[(0,s._)("div",null,[(0,s._)("h2",Dg,(0,at.zw)(r.item.seller_user.firstname)+" "+(0,at.zw)(r.item.seller_user.lastname),1)])]),(0,s._)("td",Sg,[(0,s._)("div",null,[(0,s._)("h2",{class:(0,at.C_)([{"!tw-text-emerald-500":r.item.status,"!tw-text-amber-500":!r.item.status},"tw-font-bold tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[70px] tw-truncate"])},(0,at.zw)(r.item.ref),3)])]),(0,s._)("td",zg,[(0,s._)("div",null,[(0,s._)("h2",Ug,(0,at.zw)(r.item.name),1)])]),(0,s._)("td",Pg,[(0,s._)("div",Lg,[(0,s._)("div",qg,[(0,s._)("span",$g,(0,at.zw)(r.item.buying_price),1),(0,s.Wm)(lt.t,{class:"tw-text-lg tw-text-blue-400 tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-down-bold")])),_:1})]),(0,s._)("div",Ag,[(0,s.Wm)(lt.t,{class:"tw-text-lg tw-mr-1 tw-text-green-400"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-up-bold")])),_:1}),(0,s._)("span",Wg,(0,at.zw)(r.item.selling_price),1)])])]),(0,s._)("td",Eg,[(0,s._)("div",null,[(0,s._)("h2",Tg,(0,at.zw)(l.quantityTotal),1)])]),(0,s._)("td",Fg,[(0,s._)("div",Og,[(0,s._)("h2",Vg,(0,at.zw)(l.deliveredQuantity),1)])]),(0,s._)("td",Ig,[(0,s._)("div",jg,[(0,s._)("h2",Rg,(0,at.zw)(l.shippedQuantity),1)])]),(0,s._)("td",Mg,[(0,s._)("div",{class:(0,at.C_)([{"tw-text-red-500 !tw-font-bold":l.availableQuantity<=0},"tw-flex tw-font-medium tw-text-blue-600 tw-rounded tw-items-center"])},[(0,s._)("h2",Ng,(0,at.zw)(l.availableQuantity),1)],2)]),(0,s._)("td",Hg,[(0,s._)("div",null,[(0,s._)("h2",Yg,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1)])])]),(0,s._)("td",Zg,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}var Bg=r(6797),Qg=r.n(Bg);const Jg={class:"tw-h-full"},Gg={class:"tw-flex tw-items-center tw-gap-2"};function Xg(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Jg,[(0,s._)("div",Gg,[(0,s.Wm)(st.T,{to:"/products/update/"+r.item.id,class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"]),(0,s.kq)("",!0)])])}var th={components:{},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const eh=(0,p.Z)(th,[["render",Xg]]);var rh=eh,ah={components:{TableActions:rh},props:{item:{required:!0},selected:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:Qg(),currency:c}},computed:{isSelected(){return this.selected.includes(this.item.id)},quantityTotal(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.quantity)),0)},deliveredQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.delivered_quantity)),0)},shippedQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.shipped_quantity)),0)},availableQuantity(){return this.item.variations.reduce(((t,e)=>t+parseInt(e.available_quantity)),0)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const sh=(0,p.Z)(ah,[["render",Kg]]);var oh=sh,lh={components:{TablePaginationNoNums:gg,TableRow:oh},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const ih=(0,p.Z)(lh,[["render",Xm]]);var nh=ih;const dh={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},wh={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},ch=["disabled"],uh=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),ph=[uh],mh=["disabled"],gh=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),hh=[gh],fh={class:"tw-relative"},yh=["value"],xh=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),bh=[xh],vh=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_h={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},kh=["value"],Ch={class:"tw-overflow-hidden tw-col-span-1"},Dh={class:"tw-overflow-hidden tw-col-span-1"},Sh={class:"tw-overflow-hidden tw-col-span-1"};function zh(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",dh,[(0,s._)("div",wh,[(0,s._)("button",{class:(0,at.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,ch),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,at.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},ph,2),(r.activeStatistics&&r.statistics,(0,s.kq)("",!0)),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},hh,8,mh),(0,s.kq)("",!0),(0,s._)("div",fh,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},bh,40,yh),vh])]),(0,s._)("div",_h,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,kh),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Ch,["admin"==this.user.role?((0,s.wg)(),(0,s.j4)(n,{key:0,onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])):(0,s.kq)("",!0)])],2),(0,s._)("div",{class:(0,at.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Dh,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Sh,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Uh={class:"tw-mb-4"},Ph={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Lh={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},qh={class:"tw-flex tw-items-center tw-justify-between"},$h={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Ah={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Wh(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Uh,[(0,s._)("div",Ph,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Lh,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",qh,[(0,s._)("span",$h,(0,at.zw)(t.total),1),(0,s._)("span",Ah,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var Eh={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Xn.find((e=>e.value==t))}}};const Th=(0,p.Z)(Eh,[["render",Wh]]);var Fh=Th;const Oh={class:"tw-mb-4"},Vh={class:"tw-flex tw-items-center tw-gap-2"},Ih=["disabled"],jh=(0,s._)("span",null,"Select Filtered",-1),Rh={class:"tw-flex tw-justify-end"},Mh=["disabled"];function Nh(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",Oh,[(0,s._)("div",Vh,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),jh],8,Ih)]),(0,s._)("div",Rh,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,at.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,Mh)])])}class Hh{async statistics(t){return await A.getCookie(),q.post("api/v1/admin/statistics",t)}async analytics(t){return await A.getCookie(),q.post("api/v1/admin/analytics",t)}async paginate(t="/",e){return await A.getCookie(),q.post("api/v1/admin/orders"+t,e)}async update(t,e){return await A.getCookie(),q.post("api/v1/admin/orders/"+t+"/update",e)}async create(t){return await A.getCookie(),q.post("api/v1/admin/orders/create",t)}async export(t={}){return await A.getCookie(),q.post("api/v1/admin/orders/export",t)}}var Yh=new Hh,Zh={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Yh["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const Kh=(0,p.Z)(Zh,[["render",Nh]]);var Bh=Kh;const Qh={class:"tw-mb-4"},Jh={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Gh={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Xh=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),tf=(0,s._)("span",null,"Clear",-1),ef=[Xh,tf],rf=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),af=(0,s._)("span",null,"Filter",-1),sf=[rf,af];function of(t,e,r,a,o,l){(0,s.up)("DateFilter"),(0,s.up)("ProductFilter");const i=(0,s.up)("SellerFilter");return(0,s.wg)(),(0,s.iD)("div",Qh,[(0,s._)("div",Jh,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Gh,[(0,s._)("button",{onClick:e[5]||(e[5]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ef),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},sf)])])])}const lf={class:"tw-text-sm tw-text-neutral-600"},nf=["onClick"];function df(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",lf,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,nf)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var wf={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,jo.Z)(new Date),(0,Ro.Z)(new Date)]},{label:"Last month",range:[(0,jo.Z)((0,Mo.Z)(new Date,1)),(0,Ro.Z)((0,Mo.Z)(new Date,1))]},{label:"This year",range:[(0,No.Z)(new Date),(0,Ho.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const cf=(0,p.Z)(wf,[["render",df]]);var uf=cf;const pf={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},mf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),gf=["value"],hf=(0,s._)("option",{value:"all"},"All",-1),ff=["value"];function yf(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",pf,[mf,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[hf,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,ff)))),128))],40,gf)])}var xf={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const bf=(0,p.Z)(xf,[["render",yf]]);var vf=bf;const _f={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kf=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),Cf=["value"],Df=(0,s._)("option",{value:"all"},"All",-1),Sf=["value"];function zf(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",_f,[kf,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[Df,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,Sf)))),128))],40,Cf)])}var Uf={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Pf=(0,p.Z)(Uf,[["render",zf]]);var Lf=Pf,qf={components:{DateFilter:uf,ProductFilter:vf,SellerFilter:Lf},props:{filters:{required:!0,default:{}}},data(){return{dateFilter:["",""]}}};const $f=(0,p.Z)(qf,[["render",of]]);var Af=$f,Wf={components:{IndexStatistics:Fh,FiltersWrapper:Af,IndexExport:Bh},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Qg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const Ef=(0,p.Z)(Wf,[["render",zh]]);var Tf=Ef;const Ff={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Of=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),Vf={class:"tw-bg-white tw-p-4"},If={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},jf={class:"tw-col-span-2 md:tw-col-span-1"},Rf=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Mf={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Nf={class:"tw-col-span-2 md:tw-col-span-1"},Hf=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Yf={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Zf={class:"tw-col-span-2 md:tw-col-span-1"},Kf=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Bf={class:"tw-relative"},Qf=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Jf=["value"],Gf=["value"],Xf=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),ty={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ey={class:"tw-col-span-2 md:tw-col-span-1"},ry=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),ay={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},sy={class:"tw-col-span-2"},oy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),ly={class:"tw-relative"},iy=["value"],ny=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),dy={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},wy={key:0,class:"md:tw-col-span-1 tw-col-span-2"},cy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),uy={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},py={key:1,class:"md:tw-col-span-1 tw-col-span-2"},my=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),gy={class:"tw-col-span-2"},hy=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),fy={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},yy={class:"md:tw-col-span-1 tw-col-span-2"},xy={class:"md:tw-col-span-1 tw-col-span-2"},by=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),vy={class:"tw-relative"},_y=["value"],ky=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Cy={class:"tw-col-span-2"},Dy={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Sy={key:0,class:"tw-text-red-400 tw-text-xs"},zy={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Uy=["disabled"],Py=(0,s._)("span",null,"Create",-1);function Ly(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Ff,[Of,(0,s._)("div",Vf,[(0,s._)("div",If,[(0,s._)("div",jf,[Rf,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Mf,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Nf,[Hf,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",Yf,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Zf,[Kf,(0,s._)("div",Bf,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Qf,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,Jf),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,Gf)))),128))],34),[[a.bM,l.itemCopy.city]]),Xf]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",ty,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",ey,[ry,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",ay,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",sy,[oy,(0,s._)("div",ly,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,at.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,iy)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),ny]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",dy,(0,at.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",wy,[cy,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,at.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",uy,(0,at.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",py,[my,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",gy,[hy,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",fy,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",yy,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",xy,[by,(0,s._)("div",vy,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,_y)))),128))],512),[[a.bM,l.itemCopy.upsell]]),ky])]),(0,s._)("div",Cy,[(0,s._)("label",Dy,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",Sy," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",zy,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Py],8,Uy)])])])),_:1},8,["visible","onCancel"])])}const qy=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!$y(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),$y=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},Ay=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Wy=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ey=(t,e)=>{t.isLoading=!0,t.errors={},Yh.create(e).then((e=>Ay(t,e.data))).catch((e=>Wy(t,e.response.data))).finally((()=>t.isLoading=!1))},Ty={key:0},Fy=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),Oy={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Vy=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Iy=(0,s._)("span",null,"Add Item",-1),jy=[Vy,Iy],Ry={key:1,class:"md:tw-col-span-12 tw-col-span-12"},My={class:"tw-max-w-full tw-overflow-auto"},Ny={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},Hy={class:"tw-bg-gray-50"},Yy={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},Zy={key:0},Ky={colspan:"6"},By={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},Qy=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Jy=(0,s._)("span",null,"Add Item",-1),Gy=[Qy,Jy],Xy=(0,s._)("td",{colspan:"4"},null,-1),tx=(0,s._)("td",null,null,-1),ex={colspan:"1",class:"tw-p-2"},rx={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},ax={key:1},sx={colspan:"6"},ox={class:"tw-scale-75 tw-p-5"};function lx(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ty,[Fy,(0,s._)("div",Oy,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},jy)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",Ry,[(0,s._)("div",My,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",Ny,[(0,s._)("tr",Hy,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",Yy,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",Zy,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",Ky,[(0,s._)("div",By,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Gy)])])]),(0,s._)("tr",null,[Xy,tx,(0,s._)("td",ex,[(0,s._)("div",rx,[(0,s._)("p",null,(0,at.zw)(o.currency)+" "+(0,at.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",ax,[(0,s._)("tr",null,[(0,s._)("td",sx,[(0,s._)("div",ox,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const ix=(0,s._)("td",null,null,-1),nx={class:"tw-p-2"},dx={class:"tw-relative"},wx=["value"],cx=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),ux=["value"],px=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),mx={class:"tw-p-2"},gx={key:0,class:"tw-relative"},hx=["value"],fx=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),yx=["value"],xx={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},bx=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),vx=[bx],_x={class:"tw-p-2"},kx=["value"],Cx={class:"tw-p-2"},Dx=["value"],Sx={class:"tw-flex tw-justify-center"};function zx(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[ix,(0,s._)("td",null,[(0,s._)("div",nx,[(0,s._)("div",dx,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[cx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,ux)))),128))],40,wx),px])])]),(0,s._)("td",null,[(0,s._)("div",mx,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",gx,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[fx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,yx)))),128))],40,hx)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",xx,vx)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",_x,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,kx)])]),(0,s._)("td",null,[(0,s._)("div",Cx,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Dx)])]),(0,s._)("td",null,[(0,s._)("div",Sx,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Ux={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Px=(0,p.Z)(Ux,[["render",zx]]);var Lx=Px,qx={components:{ItemRow:Lx},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const $x=(0,p.Z)(qx,[["render",lx]]);var Ax=$x;const Wx=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Ex={key:0,class:"tw-relative"},Tx=["value","disabled"],Fx=(0,s._)("option",{value:""},"Choose a Delivery",-1),Ox=["value"],Vx=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ix={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jx={key:2,class:"tw-relative"},Rx={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},Mx=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),Nx=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function Hx(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Wx,o.fetched?((0,s.wg)(),(0,s.iD)("div",Ex,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Fx,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Ox)))),128))],42,Tx),Vx])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",Ix,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",jx,[(0,s._)("div",Rx,[(0,s.Wm)(i)]),Mx,Nx]))])}var Yx={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const Zx=(0,p.Z)(Yx,[["render",Hx]]);var Kx=Zx,Bx={components:{OrderItems:Ax,OrderAffectation:Kx},props:{visible:{required:!0}},data(){return{confirmations:Xn,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=qy(this,this.itemCopy);if(!t)return!1;Ey(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Qx=(0,p.Z)(Bx,[["render",Ly]]);var Jx=Qx,Gx={components:{IndexTable:nh,IndexFilters:Tf,CreatePopup:Jx},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalProducts:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,user_id:"all",product_id:"all"}}},methods:{paginateProducts(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,la.paginate(t,e).then((({data:t})=>{const e=t.data.products;this.setOptions(e)})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalProducts=this.search?this.totalProducts:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,user_id:"all"},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateProducts()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateProducts()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateProducts()}},mounted(){this.paginateProducts()}};const Xx=(0,p.Z)(Gx,[["render",mm]]);var tb=Xx,eb=r(240),rb=r(4842);const ab=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Expedition "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new expedition")],-1),sb={key:0},ob={key:1},lb={class:"mb-5"},ib=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),nb={class:"tw-w-full"},db=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),wb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},cb={class:"tw-w-full"},ub=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Reference ",-1),pb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},mb={class:"tw-w-full"},gb={class:"mb-1 text-body-2 tw-text-zinc-700"},hb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fb={class:"mb-1 text-body-2 tw-text-zinc-700"},yb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},xb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),bb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},vb={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},_b=(0,s._)("span",null,"Add Variants: ",-1),kb={key:0,class:"tw-h-fit tw-mb-"},Cb=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Db={class:"tw-relative"},Sb=(0,s._)("option",{value:0},"Select",-1),zb=["value"],Ub={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Pb={key:1},Lb={class:"md:tw-col-span-3 tw-col-span-12"},qb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),$b={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ab={class:"md:tw-col-span-3 tw-col-span-12"},Wb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Eb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tb={key:2},Fb={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},Ob={class:"md:tw-col-span-3 tw-col-span-12"},Vb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Ib={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jb={class:"md:tw-col-span-3 tw-col-span-12"},Rb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Mb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nb={class:"md:tw-col-span-3 tw-col-span-12"},Hb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Quantity ",-1),Yb=(0,s._)("div",{class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},null,-1),Zb={class:"md:tw-col-span-3 tw-col-span-12"},Kb=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Bb={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qb={class:"tw-col-span-12 tw-flex tw-justify-end"},Jb=["disabled"],Gb=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Xb={class:""},tv={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},ev=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Variants ",-1),rv={class:"mb-1 text-body-2 tw-text-zinc-700"},av={key:1,class:"tw-max-w-full tw-overflow-x-auto"},sv={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ov={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},lv={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},iv={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},nv={class:"tw-px-6 tw-py-2"},dv={class:"tw-px-6 tw-py-2"},wv={class:"tw-px-6 tw-py-2"},cv={class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},uv=(0,s._)("h1",{class:"tw-font-medium"},"Image",-1),pv={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},mv={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},gv={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},hv={class:"tw-w-max tw-relative"},fv=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),yv={class:"md:tw-col-span-6 tw-col-span-12"},xv={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},bv=(0,s._)("span",null,"No image available",-1),vv=[bv],_v={class:"mb-5"},kv=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),Cv={class:"tw-w-full"},Dv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),Sv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zv={class:"tw-w-full"},Uv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),Pv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lv={class:"tw-w-full"},qv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),$v={class:"tw-relative"},Av=["error"],Wv=(0,s._)("option",{value:"",disabled:""},"Select",-1),Ev=(0,s._)("option",{value:"Sea"},"Sea",-1),Tv=(0,s._)("option",{value:"Air"},"Air",-1),Fv=[Wv,Ev,Tv],Ov={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vv={class:"tw-w-full"},Iv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),jv={class:"tw-relative"},Rv=["error"],Mv=(0,s._)("option",{value:""},"Select",-1),Nv=(0,s._)("option",{value:"China"},"China",-1),Hv=(0,s._)("option",{value:"Dubai"},"Dubai",-1),Yv=(0,s._)("option",{value:"Turky"},"Turky",-1),Zv=[Mv,Nv,Hv,Yv],Kv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Bv={class:"tw-w-full"},Qv=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),Jv={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Gv={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xv={class:"mb-5"},t_=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),e_={key:0,class:"mb-5"},r_=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),a_=(0,s._)("h1",{class:"tw-font-medium"},"Deliveries",-1),s_={class:"tw-mt-2"},o_={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},l_=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),i_=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function n_(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("VariantActions"),w=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[ab,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",sb,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",ob,[(0,s._)("div",null,[(0,s._)("div",lb,[ib,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",nb,[db,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:l.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",wb,(0,at.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",cb,[ub,(0,s.Wm)(it.hw,{error:!l.formStatus.reference.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("reference")),"hide-details":!0,modelValue:l.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>l.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",pb,(0,at.zw)(l.formStatus.reference.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",mb,[(0,s._)("div",gb," Buying Price ("+(0,at.zw)(l.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!l.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:l.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>l.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",hb,(0,at.zw)(l.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",fb," Selling Price ("+(0,at.zw)(l.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!l.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:l.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>l.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",yb,(0,at.zw)(l.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[xb,(0,s.Wm)(rb.z,{error:!l.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:l.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>l.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",bb,(0,at.zw)(l.formStatus.description.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",vb,[_b,(0,s.Wm)(Ci.G,{modelValue:l.addVariants,"onUpdate:modelValue":e[10]||(e[10]=t=>l.addVariants=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ga.D,{cols:"12",md:"6",class:"tw-border-l tw-border-r-neutral-700 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",kb,[Cb,(0,s._)("div",Db,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.warehouse=t),onChange:e[12]||(e[12]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Sb,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,zb)))),128))],544),[[a.bM,l.warehouse]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Ub,(0,at.zw)(l.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),l.addVariants?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Pb,[(0,s._)("div",Lb,[qb,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[13]||(e[13]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[14]||(e[14]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",$b,(0,at.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Ab,[Wb,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[15]||(e[15]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[16]||(e[16]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Eb,(0,at.zw)(l.formStatus.stockAlert.message),1)])])),l.addVariants?((0,s.wg)(),(0,s.iD)("div",Tb,[(0,s._)("div",Fb,[(0,s._)("div",Ob,[Vb,(0,s.Wm)(it.hw,{error:!l.formStatus.size.valid,onKeyup:e[17]||(e[17]=t=>i.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[18]||(e[18]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Ib,(0,at.zw)(l.formStatus.size.message),1)]),(0,s._)("div",jb,[Rb,(0,s.Wm)(it.hw,{error:!l.formStatus.color.valid,onKeyup:e[19]||(e[19]=t=>i.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[20]||(e[20]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Mb,(0,at.zw)(l.formStatus.color.message),1)]),(0,s._)("div",Nb,[Hb,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid&&!1,onKeyup:e[21]||(e[21]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[22]||(e[22]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),Yb]),(0,s._)("div",Zb,[Kb,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[23]||(e[23]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[24]||(e[24]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Bb,(0,at.zw)(l.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",Qb,[(0,s._)("button",{disabled:!l.quantity,class:(0,at.C_)([{"bg-primary-color":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[25]||(e[25]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(lt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Gb],10,Jb)])]),(0,s._)("div",Xb,[(0,s._)("div",tv,[ev,(0,s._)("div",rv," Quantity Total: "+(0,at.zw)(i.qtyTotal),1)]),0==l.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":l.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!l.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,at.zw)(l.formStatus.variants.valid?"No Variants yet":l.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",av,[(0,s._)("table",sv,[(0,s._)("thead",ov,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","stockAlert","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",lv,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",iv,(0,at.zw)(t.size),1),(0,s._)("td",nv,(0,at.zw)(t.color),1),(0,s._)("td",dv,(0,at.zw)(t.quantity),1),(0,s._)("td",wv,(0,at.zw)(t.stockAlert),1),(0,s._)("td",cv,[(0,s._)("div",null,[(0,s.Wm)(d,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])])))),128))])])]))])])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[uv,(0,s._)("div",pv,[(0,s._)("div",mv,[(0,s._)("label",gv,[(0,s._)("div",hv,[(0,s.Wm)(lt.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),fv]),(0,s._)("input",{onChange:e[26]||(e[26]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",yv,[(0,s._)("div",xv,[(0,s._)("img",{class:(0,at.C_)([{"tw-hidden":!l.image},"w-full h-full tw-object-contain"]),ref:"image",id:"image-preview",alt:"Image Preview"},null,2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!!l.image},"bg-gray-300 h-48 flex items-center justify-center"])},vv,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",_v,[kv,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Cv,[Dv,(0,s.Wm)(it.hw,{error:!l.formStatus.link_store.valid,onKeyup:e[27]||(e[27]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:l.product.link_store,"onUpdate:modelValue":e[28]||(e[28]=t=>l.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Sv,(0,at.zw)(l.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zv,[Uv,(0,s.Wm)(it.hw,{error:!l.formStatus.link_video.valid,onKeyup:e[29]||(e[29]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:l.product.link_video,"onUpdate:modelValue":e[30]||(e[30]=t=>l.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pv,(0,at.zw)(l.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Lv,[qv,(0,s._)("div",$v,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!l.formStatus.transport_mode.valid,onKeyup:e[31]||(e[31]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[32]||(e[32]=t=>l.product.transport_mode=t)},Fv,40,Av),[[a.bM,l.product.transport_mode]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Ov,(0,at.zw)(l.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Vv,[Iv,(0,s._)("div",jv,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!l.formStatus.country_of_purchase.valid,onKeyup:e[33]||(e[33]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[34]||(e[34]=t=>l.product.country_of_purchase=t)},Zv,40,Rv),[[a.bM,l.product.country_of_purchase]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Kv,(0,at.zw)(l.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Bv,[Qv,(0,s._)("div",Jv,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>l.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,l.product.expedition_date]])]),(0,s._)("div",Gv,(0,at.zw)(l.formStatus.expedition_date.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Xv,[t_,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{offers:l.offers,"onUpdate:offers":e[36]||(e[36]=t=>l.offers=t)},null,8,["offers"])])])),_:1})])),_:1})]),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",e_,[r_,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[a_,(0,s._)("div",s_,[(0,s.Wm)(eb.r,{modelValue:l.selectedDeliveries,"onUpdate:modelValue":e[37]||(e[37]=t=>l.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",o_,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[l_])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[i_])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}function d_(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(d,{visible:o.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:l.update,variant:r.variant,onCancel:l.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"])])}const w_={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},c_={class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},u_={class:"tw-col-span-12"},p_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),m_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},g_={class:"tw-col-span-12"},h_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),f_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},y_={class:"tw-col-span-12"},x_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),b_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},v_={class:"tw-col-span-12"},__=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Stock Alert",-1),k_={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},C_={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end"},D_=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),S_=[D_],z_=["disabled"],U_=(0,s._)("span",{class:"tw-text-white"},"Save",-1),P_=[U_];function L_(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",w_,[(0,s._)("div",c_,[(0,s._)("div",u_,[p_,(0,s.Wm)(it.hw,{error:!o.formStatus.size.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("size")),"hide-details":!0,modelValue:o.size,"onUpdate:modelValue":e[1]||(e[1]=t=>o.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",m_,(0,at.zw)(o.formStatus.size.message),1)]),(0,s._)("div",g_,[h_,(0,s.Wm)(it.hw,{error:!o.formStatus.color.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("color")),"hide-details":!0,modelValue:o.color,"onUpdate:modelValue":e[3]||(e[3]=t=>o.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",f_,(0,at.zw)(o.formStatus.color.message),1)]),(0,s._)("div",y_,[x_,(0,s.Wm)(it.hw,{onChange:l.handleQuantityChange,type:"number",error:!o.formStatus.quantity.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("quantity")),"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[5]||(e[5]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",b_,(0,at.zw)(o.formStatus.quantity.message),1)]),(0,s._)("div",v_,[__,(0,s.Wm)(it.hw,{onChange:l.handleStockAlertChange,type:"number",error:!o.formStatus.stockAlert.valid,onKeyup:e[6]||(e[6]=t=>l.resetError("stockAlert")),"hide-details":!0,modelValue:o.stockAlert,"onUpdate:modelValue":e[7]||(e[7]=t=>o.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",k_,(0,at.zw)(o.formStatus.stockAlert.message),1)])]),(0,s._)("div",null,[(0,s._)("div",C_,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},S_),(0,s._)("button",{disabled:!o.quantity,class:(0,at.C_)([{"tw-bg-orange-500":o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[9]||(e[9]=(...t)=>l.updateVariant&&l.updateVariant(...t))},P_,10,z_)])])])}var q_={props:["variant"],data(){return{size:"",color:"",quantity:0,stockAlert:0,newVariant:null,formStatus:{quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""}}}},methods:{updateVariant(){console.log("updated");const t=this.quantity-this.newVariant.quantity;this.newVariant.size=this.size?this.size.toLocaleUpperCase():"",this.newVariant.color=this.color?this.color.toLocaleUpperCase():"",this.newVariant.quantity=this.quantity,this.newVariant.stockAlert=this.stockAlert,this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(t),this.cancel()},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},cancel(){this.$emit("cancel")},resetError(t){this.formStatus[t]={valid:!0,message:""}}},mounted(){this.size=this.variant.size,this.color=this.variant.color,this.quantity=this.variant.quantity,this.stockAlert=this.variant.stockAlert,this.newVariant=this.variant}};const $_=(0,p.Z)(q_,[["render",L_]]);var A_=$_,W_={components:{UpdateProductVariant:A_},props:["variant"],data(){return{visible:!1,deletePopup:!1}},methods:{cancel(){this.visible=!1},update(t){console.log("from actions: ",t)},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}}};const E_=(0,p.Z)(W_,[["render",d_]]);var T_=E_;class F_{async create(t){return await A.getCookie(),q.post("api/warehouses/new",{name:t.name})}async update(t,e){return await A.getCookie(),q.post("api/warehouses/update/"+t,{name:e.name})}async all(){return await A.getCookie(),q.get("api/warehouses")}async getWarehouse(t){return await A.getCookie(),q.get("api/warehouses/"+t)}async delete(t){return await A.getCookie(),q["delete"]("api/warehouses/delete/"+t)}}var O_=new F_;const V_=(0,s._)("h1",{class:"tw-font-medium"},"Offers",-1),I_={class:"tw-grid tw-grid-cols-12 tw-mb-5 tw-mt-3 tw-gap-3"},j_={class:"md:tw-col-span-3 tw-col-span-12"},R_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),M_={class:"md:tw-col-span-3 tw-col-span-12"},N_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),H_={class:"md:tw-col-span-5 tw-col-span-12"},Y_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note",-1),Z_={class:"md:tw-col-span-1 tw-col-span-12"},K_=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-transparent"},"Note",-1),B_={class:"tw-mt-2"},Q_={class:"tw-relative tw-overflow-x-auto tw-shadow sm:tw-rounded"},J_={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},G_=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-24"},"Action")])],-1),X_={class:"tw-px-6 tw-py-4"},tk={class:"tw-px-6 tw-py-4"},ek={class:"tw-px-6 tw-py-4"},rk={class:"tw-max-w-[250px] tw-text-sm"},ak={class:"tw-px-6 tw-py-4"},sk={key:0},ok=(0,s._)("td",{colspan:"5"},[(0,s._)("p",{class:"tw-text-center tw-p-5"}," No Offers ")],-1),lk=[ok];function ik(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[V_,(0,s._)("div",I_,[(0,s._)("div",j_,[R_,(0,s.Wm)(it.hw,{type:"number","hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[0]||(e[0]=t=>o.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",M_,[N_,(0,s.Wm)(it.hw,{type:"number","hide-details":!0,modelValue:o.price,"onUpdate:modelValue":e[1]||(e[1]=t=>o.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",H_,[Y_,(0,s.Wm)(it.hw,{type:"text","hide-details":!0,modelValue:o.note,"onUpdate:modelValue":e[2]||(e[2]=t=>o.note=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",Z_,[K_,(0,s.Wm)(st.T,{onClick:l.handleAdd,class:"mx-auto !tw-px-0 !tw-py-0","min-height":"40px","min-width":"40",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1},8,["onClick"])])]),(0,s._)("div",B_,[(0,s._)("div",Q_,[(0,s._)("table",J_,[G_,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.key,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",X_,(0,at.zw)(t.quantity),1),(0,s._)("td",tk,(0,at.zw)(t.price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",ek,[(0,s._)("p",rk,(0,at.zw)(t.note),1)]),(0,s._)("td",ak,[(0,s.Wm)(st.T,{onClick:e=>l.handleDeleteClicked(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])))),128)),0==r.offers.length?((0,s.wg)(),(0,s.iD)("tr",sk,lk)):(0,s.kq)("",!0)])])])]),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this offer?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"])])}var nk={props:["offers"],data(){return{currency:c,deletePopup:!1,toDeleteID:null,quantity:1,price:0,note:""}},methods:{handleDeleteClicked(t){this.toDeleteID=t,this.deletePopup=!0},handleDelete(t){if(this.deletePopup=!1,!t)return!1;this.$emit("update:offers",this.offers.filter((t=>t.id!=this.toDeleteID)))},handleAdd(){const t=this.offers.length>0?this.offers[this.offers.length-1].id:0,e=t+1,r={id:e,quantity:this.quantity,price:this.price,note:this.note};this.$emit("update:offers",[...this.offers,r]),this.quantity=1,this.price=0,this.note=""}}};const dk=(0,p.Z)(nk,[["render",ik]]);var wk=dk,ck={components:{VariantActions:T_,ProductOffers:wk},data(){return{currency:c,isLoading:!1,isLoaded:!1,addVariants:!1,variantId:1,variants:[],image:"",imageFile:null,color:"",size:"",quantity:0,warehouse:0,stockAlert:0,offers:[],product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},reference:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},warehouse:{valid:!0,message:""},variants:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;if(t.addVariants=this.addVariants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t}))),this.addVariants)t.variants=this.variants;else{const e=[{id:this.variantId,color:null,size:null,quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert}];t.variants=e}la.create(t).then((t=>{"PRODUCT_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.product={name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},this.offers=[],this.selectedDeliveries=[],this.variants=[],this.$store.dispatch("product/addProduct",t.data.data.product)),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.reference=Pt(this.product.reference,"Reference"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Pt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Pt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Pt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.quantity=Pt(this.quantity,"Quantity"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.variants=$t(this.variants),this.addVariants||"admin"!=this.user.role||(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"}),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.reference.valid&&this.formStatus.sellingPrice&&this.formStatus.description.valid&&(!this.addVariants||this.formStatus.variants.valid)&&(!!this.addVariants||this.formStatus.quantity.valid)&&(!!this.addVariants||this.formStatus.warehouse.valid)},addVariant(){if("admin"==this.user.role&&(this.formStatus.warehouse={valid:0!=this.warehouse,message:0!=this.warehouse?"":"Please select a warehouse"},!this.formStatus.warehouse.valid))return!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.stockAlert=0,this.color="",this.size="",this.quantity=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.stockAlert<=0&&(this.stockAlert=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return this.isLoaded=!1,O_.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getWarhouses()}};const uk=(0,p.Z)(ck,[["render",n_]]);var pk=uk;const mk=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Product "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update product informations")],-1),gk={key:0},hk={key:1},fk={key:0,class:"tw-flex py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},yk={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},xk={class:"mb-5"},bk=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Product Infos",-1),vk={class:"tw-w-full"},_k=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Product Name ",-1),kk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ck={class:"tw-w-full"},Dk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reference",-1),Sk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},zk={class:"tw-w-full"},Uk={class:"mb-1 text-body-2 tw-text-zinc-700"},Pk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lk={class:"mb-1 text-body-2 tw-text-zinc-700"},qk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},$k=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Description ",-1),Ak={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wk={key:0,class:"tw-h-fit tw-mb-"},Ek=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Warehouse",-1),Tk={class:"tw-relative"},Fk=(0,s._)("option",{value:0},"Select",-1),Ok=["value"],Vk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Ik={key:0,class:"tw-grid tw-grid-cols-12 md:tw-gap-3"},jk={class:"md:tw-col-span-3 tw-col-span-12"},Rk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Size",-1),Mk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Nk={class:"md:tw-col-span-3 tw-col-span-12"},Hk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Color",-1),Yk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zk={class:"md:tw-col-span-3 tw-col-span-12"},Kk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Bk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Qk={class:"md:tw-col-span-3 tw-col-span-12"},Jk=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Stock Alert ",-1),Gk={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xk={key:1},tC={class:"tw-col-span-12 tw-flex tw-justify-end"},eC=["disabled"],rC=(0,s._)("span",{class:"tw-text-white"},"Add",-1),aC={class:""},sC={class:"tw-flex tw-justify-between tw-items-center tw-mt-5"},oC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variants",-1),lC={class:"mb-1 text-body-2 tw-text-zinc-700"},iC={key:1,class:"tw-max-w-full tw-overflow-x-auto"},nC={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},dC={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},wC={key:0,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},cC=(0,s._)("div",{class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"}," warehouse ",-1),uC=[cC],pC={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},mC={key:0,class:"tw-px-6 tw-py-2 tw-capitalize"},gC={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},hC={class:"tw-px-6 tw-py-2"},fC={class:"tw-px-6 tw-py-2"},yC={class:"tw-flex tw-flex-col"},xC={key:0,class:"tw-text-xs tw-text-green-500"},bC={class:"tw-px-6 tw-py-2"},vC={key:1,class:"tw-flex tw-items-center tw-px-6 tw-py-2 tw-space-x-3"},_C=(0,s._)("h1",null,"Image",-1),kC={class:"tw-grid tw-grid-cols-12 tw-gap-5 tw-mt-2"},CC={class:"md:tw-col-span-6 tw-col-span-12 tw-relative tw-h-fit"},DC={title:"Click to upload",for:"button2",class:"tw-cursor-pointer tw-flex tw-items-center tw-gap-4 tw-px-6 tw-py-4 before:border-gray-400/60 hover:before:tw-border-gray-300 group dark:before:bg-darker dark:hover:before:tw-border-gray-500 before:tw-bg-gray-100 dark:before:tw-border-gray-600 before:tw-absolute before:tw-inset-0 before:tw-rounded-lg before:tw-border before:tw-border-dashed before:tw-transition-transform before:tw-duration-300 hover:before:tw-scale-100 active:tw-duration-75 active:before:tw-scale-95"},SC={class:"tw-w-max tw-relative"},zC=(0,s._)("div",{class:"tw-relative"},[(0,s._)("span",{class:"tw-block tw-text-base tw-font-semibold tw-relative tw-text-orange-600"}," Upload a file "),(0,s._)("span",{class:"tw-mt-0.5 tw-block tw-text-sm tw-text-gray-500 dark:tw-text-gray-400"},"Max 2 MB")],-1),UC={class:"md:tw-col-span-6 tw-col-span-12"},PC={class:"image-preview tw-w-full tw-flex tw-items-center tw-justify-center tw-h-full border rounded p-4"},LC=["src"],qC=(0,s._)("span",null,"No image available",-1),$C=[qC],AC={class:"mb-5"},WC=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Expedition Infos",-1),EC={class:"tw-w-full"},TC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Store Link ",-1),FC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},OC={class:"tw-w-full"},VC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Video Link ",-1),IC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},jC={class:"tw-w-full"},RC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Transport Mode ",-1),MC={class:"tw-relative"},NC=["error"],HC=(0,s._)("option",{value:""},"Select",-1),YC=(0,s._)("option",{value:"Sea"},"Sea",-1),ZC=(0,s._)("option",{value:"Air"},"Air",-1),KC=[HC,YC,ZC],BC={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},QC={class:"tw-w-full"},JC=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Country Of Purchase ",-1),GC={class:"tw-relative"},XC=["error"],tD=(0,s._)("option",{value:""},"Select",-1),eD=(0,s._)("option",{value:"China"},"China",-1),rD=(0,s._)("option",{value:"Dubai"},"Dubai",-1),aD=(0,s._)("option",{value:"Turky"},"Turky",-1),sD=[tD,eD,rD,aD],oD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lD={class:"tw-w-full"},iD=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Expedition Date ",-1),nD={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dD={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},wD={class:"mb-5"},cD=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Offers",-1),uD={class:"mb-5"},pD=(0,s._)("h4",{class:"tw-font-bold tw-text-gray-500/75"},"Affectation",-1),mD=(0,s._)("h1",null,"Deliveries",-1),gD={class:"tw-mt-2"},hD={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},fD=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),yD=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function xD(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("UpdateVariantActions"),w=(0,s.up)("ProductOffers");return(0,s.wg)(),(0,s.iD)("div",null,[mk,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gk,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",hk,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("div",fk,[(0,s.Uk)(" Product ID: "),(0,s._)("span",yk,(0,at.zw)(i.id),1)])):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s._)("div",xk,[bk,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vk,[_k,(0,s.Wm)(it.hw,{error:!l.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("name")),"hide-details":!0,modelValue:l.product.name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",kk,(0,at.zw)(l.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ck,[Dk,(0,s.Wm)(it.hw,{error:!l.formStatus.quantity.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("quantity")),disabled:"","hide-details":!0,modelValue:l.product.reference,"onUpdate:modelValue":e[3]||(e[3]=t=>l.product.reference=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Sk,(0,at.zw)(l.formStatus.quantity.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",zk,[(0,s._)("div",Uk," Buying Price ("+(0,at.zw)(l.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleBuyingPriceChange,error:!l.formStatus.buyingPrice.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("buyingPrice")),"hide-details":!0,modelValue:l.product.buyingPrice,"onUpdate:modelValue":e[5]||(e[5]=t=>l.product.buyingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Pk,(0,at.zw)(l.formStatus.buyingPrice.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",Lk," Selling Price ("+(0,at.zw)(l.currency)+") ",1),(0,s.Wm)(it.hw,{type:"number",onChange:i.handleSellingPriceChange,error:!l.formStatus.sellingPrice.valid,onKeyup:e[6]||(e[6]=t=>i.resetError("sellingPrice")),"hide-details":!0,modelValue:l.product.sellingPrice,"onUpdate:modelValue":e[7]||(e[7]=t=>l.product.sellingPrice=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",qk,(0,at.zw)(l.formStatus.sellingPrice.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[$k,(0,s.Wm)(rb.z,{error:!l.formStatus.description.valid,onKeyup:e[8]||(e[8]=t=>i.resetError("description")),"hide-details":!0,modelValue:l.product.description,"onUpdate:modelValue":e[9]||(e[9]=t=>l.product.description=t),variant:"outlined",density:"compact",color:"primary-color"},null,8,["error","modelValue"]),(0,s._)("div",Ak,(0,at.zw)(l.formStatus.description.message),1)])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ga.D,{cols:"12",md:"12",class:"tw-border-t tw-border-t-neutral-300 tw-py-2"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Wk,[Ek,(0,s._)("div",Tk,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.warehouse=t),onChange:e[11]||(e[11]=t=>i.resetError("warehouse")),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm"},[Fk,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,Ok)))),128))],544),[[a.bM,l.warehouse]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",Vk,(0,at.zw)(l.formStatus.warehouse.message),1)])):(0,s.kq)("",!0),(0,s._)("div",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Ik,[(0,s._)("div",jk,[Rk,(0,s.Wm)(it.hw,{error:!l.formStatus.size.valid,onKeyup:e[12]||(e[12]=t=>i.resetError("size")),"hide-details":!0,modelValue:l.size,"onUpdate:modelValue":e[13]||(e[13]=t=>l.size=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Mk,(0,at.zw)(l.formStatus.size.message),1)]),(0,s._)("div",Nk,[Hk,(0,s.Wm)(it.hw,{error:!l.formStatus.color.valid,onKeyup:e[14]||(e[14]=t=>i.resetError("color")),"hide-details":!0,modelValue:l.color,"onUpdate:modelValue":e[15]||(e[15]=t=>l.color=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yk,(0,at.zw)(l.formStatus.color.message),1)]),(0,s._)("div",Zk,[Kk,(0,s.Wm)(it.hw,{onChange:i.handleQuantityChange,type:"number",error:!l.formStatus.quantity.valid,onKeyup:e[16]||(e[16]=t=>i.resetError("quantity")),"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[17]||(e[17]=t=>l.quantity=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Bk,(0,at.zw)(l.formStatus.quantity.message),1)]),(0,s._)("div",Qk,[Jk,(0,s.Wm)(it.hw,{onChange:i.handleStockAlertChange,type:"number",error:!l.formStatus.stockAlert.valid,onKeyup:e[18]||(e[18]=t=>i.resetError("stockAlert")),"hide-details":!0,modelValue:l.stockAlert,"onUpdate:modelValue":e[19]||(e[19]=t=>l.stockAlert=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","error","modelValue"]),(0,s._)("div",Gk,(0,at.zw)(l.formStatus.stockAlert.message),1)])])):(0,s.kq)("",!0),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("div",Xk,[(0,s._)("div",tC,[(0,s._)("button",{disabled:!l.quantity,class:(0,at.C_)([{"bg-primary-color":l.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[20]||(e[20]=(...t)=>i.addVariant&&i.addVariant(...t))},[(0,s.Wm)(lt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),rC],10,eC)])])):(0,s.kq)("",!0),(0,s._)("div",aC,[(0,s._)("div",sC,[oC,(0,s._)("div",lC," Quantity Total: "+(0,at.zw)(i.qtyTotal),1)]),0==l.variants.length?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([{"tw-bg-neutral-100 tw-text-neutral-500":l.formStatus.variants.valid,"tw-bg-red-100 tw-text-red-500":!l.formStatus.variants.valid},"tw-text-center tw-mb-6 tw-w-full tw-py-3 tw-rounded-lg"])},(0,at.zw)(l.formStatus.variants.valid?"No Variants yet":l.formStatus.variants.message),3)):((0,s.wg)(),(0,s.iD)("div",iC,[(0,s._)("table",nC,[(0,s._)("thead",dC,[(0,s._)("tr",null,["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("th",wC,uC)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(["size","color","qty","Stock Alert","admin"==i.user.role?"actions":""],(t=>((0,s.wg)(),(0,s.iD)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",pC,(0,at.zw)(t),1)],2)))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.variants,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},["admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",mC,(0,at.zw)(t.warehouse.name),1)):(0,s.kq)("",!0),(0,s._)("td",gC,(0,at.zw)(t.size),1),(0,s._)("td",hC,(0,at.zw)(t.color),1),(0,s._)("td",fC,[(0,s._)("div",yC,[(0,s._)("span",null,(0,at.zw)(t.quantity),1),t.created_at?((0,s.wg)(),(0,s.iD)("span",xC,(0,at.zw)(t.available_quantity),1)):(0,s.kq)("",!0)])]),(0,s._)("td",bC,(0,at.zw)(t.stockAlert),1),"admin"==i.user.role?((0,s.wg)(),(0,s.iD)("td",vC,[(0,s._)("div",null,[(0,s.Wm)(d,{onDelete:i.deleteVariant,variant:t},null,8,["onDelete","variant"])])])):(0,s.kq)("",!0)])))),128))])])]))])])])),_:1}),(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[_C,(0,s._)("div",kC,[(0,s._)("div",CC,[(0,s._)("label",DC,[(0,s._)("div",SC,[(0,s.Wm)(lt.t,{class:"tw-text-6xl tw-text-orange-500"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-progress-upload")])),_:1})]),zC]),(0,s._)("input",{onChange:e[21]||(e[21]=(...t)=>i.handleImageChange&&i.handleImageChange(...t)),class:"tw-hidden",type:"file",name:"button2",id:"button2"},null,32)]),(0,s._)("div",UC,[(0,s._)("div",PC,[(0,s._)("img",{class:(0,at.C_)([{"tw-hidden":!l.image},"w-full h-full tw-object-contain"]),ref:"image",src:l.serverUrl+"storage/"+l.image,id:"image-preview",alt:"Image Preview"},null,10,LC),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!!l.image},"bg-gray-300 h-48 flex items-center justify-center"])},$C,2)])])])])])),_:1})])),_:1})]),(0,s._)("div",AC,[WC,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",EC,[TC,(0,s.Wm)(it.hw,{error:!l.formStatus.link_store.valid,onKeyup:e[22]||(e[22]=t=>i.resetError("link_store")),"hide-details":!0,modelValue:l.product.link_store,"onUpdate:modelValue":e[23]||(e[23]=t=>l.product.link_store=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",FC,(0,at.zw)(l.formStatus.link_store.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",OC,[VC,(0,s.Wm)(it.hw,{error:!l.formStatus.link_video.valid,onKeyup:e[24]||(e[24]=t=>i.resetError("link_video")),"hide-details":!0,modelValue:l.product.link_video,"onUpdate:modelValue":e[25]||(e[25]=t=>l.product.link_video=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",IC,(0,at.zw)(l.formStatus.link_video.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",jC,[RC,(0,s._)("div",MC,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!l.formStatus.transport_mode.valid,onKeyup:e[26]||(e[26]=t=>i.resetError("transport_mode")),"onUpdate:modelValue":e[27]||(e[27]=t=>l.product.transport_mode=t)},KC,40,NC),[[a.bM,l.product.transport_mode]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",BC,(0,at.zw)(l.formStatus.transport_mode.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",QC,[JC,(0,s._)("div",GC,[(0,s.wy)((0,s._)("select",{class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-400 tw-outline-0 tw-text-sm",error:!l.formStatus.country_of_purchase.valid,onKeyup:e[28]||(e[28]=t=>i.resetError("country_of_purchase")),"onUpdate:modelValue":e[29]||(e[29]=t=>l.product.country_of_purchase=t)},sD,40,XC),[[a.bM,l.product.country_of_purchase]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s._)("div",oD,(0,at.zw)(l.formStatus.country_of_purchase.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lD,[iD,(0,s._)("div",nD,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[30]||(e[30]=t=>l.product.expedition_date=t),type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,512),[[a.nr,l.product.expedition_date]])]),(0,s._)("div",dD,(0,at.zw)(l.formStatus.expedition_date.message),1)])])),_:1})])),_:1})]),(0,s._)("div",wD,[cD,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(w,{offers:l.offers,"onUpdate:offers":e[31]||(e[31]=t=>l.offers=t)},null,8,["offers"])])])),_:1})])),_:1})])]),(0,s._)("div",uD,[pD,(0,s.Wm)(ma.o,{class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},{default:(0,s.w5)((()=>["admin"==i.user.role?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[mD,(0,s._)("div",gD,[(0,s.Wm)(eb.r,{modelValue:l.selectedDeliveries,"onUpdate:modelValue":e[32]||(e[32]=t=>l.selectedDeliveries=t),items:i.deliveries,"item-title":"fullname","item-value":"id","hide-details":!0,chips:"",multiple:"",variant:"outlined"},null,8,["modelValue","items"])])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",hD,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[fD])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[yD])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}const bD={class:"md:tw-w-[400px] tw-w-[95%] tw-bg-white tw-rounded-lg tw-p-5 tw-mx-auto"},vD={class:"tw-w-full"},_D=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Add quantity",-1),kD={class:"tw-col-span-12 tw-flex tw-gap-2 tw-justify-end tw-mt-3"},CD=(0,s._)("span",{class:"tw-text-white"},"Cancel",-1),DD=[CD],SD=["disabled"],zD=(0,s._)("span",{class:"tw-text-white"},"Add",-1),UD=[zD];function PD(t,e,r,a,o,l){const i=(0,s.up)("popup"),n=(0,s.up)("UpdateProductVariant"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[r.variant.created_at?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.visibleAdd=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1})])),_:1})):(0,s.kq)("",!0),void 0===r.variant.on_hold||r.variant.available_quantity==r.variant.quantity?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>o.deletePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1}),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this product?</p> You won't be able to revert this!",visible:o.deletePopup,onResolved:l.handleDelete},null,8,["visible","onResolved"]),(0,s.Wm)(d,{visible:o.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{onUpdate:l.update,variant:r.variant,onCancel:l.cancel},null,8,["onUpdate","variant","onCancel"])])),_:1},8,["visible","onCancel"]),(0,s.Wm)(d,{visible:o.visibleAdd,onCancel:l.cancelAdd},{default:(0,s.w5)((()=>[(0,s._)("div",bD,[(0,s._)("div",vD,[_D,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:o.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>o.quantity=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])]),(0,s._)("div",kD,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.cancelAdd&&l.cancelAdd(...t)),class:"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},DD),(0,s._)("button",{disabled:!o.quantity||0==o.quantity,class:(0,at.C_)([{"!tw-bg-green-500":0!=o.quantity},"tw-bg-neutral-400 tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"]),onClick:e[5]||(e[5]=(...t)=>l.addQuantity&&l.addQuantity(...t))},UD,10,SD)])])])),_:1},8,["visible","onCancel"])])}var LD={components:{UpdateProductVariant:A_},props:["variant"],data(){return{visible:!1,visibleAdd:!1,deletePopup:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1},cancelAdd(){this.visibleAdd=!1},update(t){console.log("from actions: ",t)},addQuantity(){this.newVariant.quantity=parseInt(this.newVariant.quantity)+parseInt(this.quantity),this.newVariant.available_quantity=parseInt(this.newVariant.available_quantity)+parseInt(this.quantity),this.quantity=1,this.cancelAdd()},handleDelete(t){t&&this.$emit("delete",this.variant.id),this.deletePopup=!1}},mounted(){this.newVariant=this.variant}};const qD=(0,p.Z)(LD,[["render",PD]]);var $D=qD,AD={components:{UpdateVariantActions:$D,ProductOffers:wk},data(){return{currency:c,serverUrl:d,isLoading:!1,isLoaded:!1,variantId:1,variants:[],color:"",size:"",quantity:0,stockAlert:0,image:"",imageFile:null,offers:[],warehouse:0,product:{name:"",reference:"",link_video:"",link_store:"",transport_mode:"",expedition_date:"",country_of_purchase:"",buyingPrice:0,sellingPrice:0,description:""},selectedDeliveries:[],formStatus:{name:{valid:!0,message:""},buyingPrice:{valid:!0,message:""},sellingPrice:{valid:!0,message:""},link_video:{valid:!0,message:""},link_store:{valid:!0,message:""},transport_mode:{valid:!0,message:""},expedition_date:{valid:!0,message:""},country_of_purchase:{valid:!0,message:""},quantity:{valid:!0,message:""},size:{valid:!0,message:""},color:{valid:!0,message:""},stockAlert:{valid:!0,message:""},description:{valid:!0,message:""},variants:{valid:!0,message:""},warehouse:{valid:!0,message:""}}}},computed:{qtyTotal(){let t=0;return this.variants.forEach((e=>t+=parseInt(e.quantity))),t},id(){return this.$route.params.id},warehouses(){return this.$store.getters["warehouse/warehouses"]},users(){return this.$store.getters["user/users"]},user(){return this.$store.getters["user/user"]},deliveries(){return this.users.filter((t=>"delivery"==t.role?.name)).map((t=>({...t,fullname:t.firstname+" "+t.lastname})))}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.product;t.variants=this.variants,t.image=this.image,t.offers=this.offers,t.selectedDeliveries=this.selectedDeliveries.map((t=>({delivery_id:t,product_id:this.id}))),la.update(this.$route.params.id,t).then((t=>{"PRODUCT_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"PRODUCT_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message}),"QUANTITY_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},handleImageChange(t){const e=t.target.files[0];this.image=e;const r=this.$refs.image;if(e){const t=new FileReader;t.addEventListener("load",(function(){r.src=this.result})),t.readAsDataURL(e)}},resetError(t){this.formStatus[t]={valid:!0,message:""}},getLastVariantId(t){return Math.max(...t.map((t=>t.id)))+1},validate(){return this.formStatus.name=Pt(this.product.name,"Product name"),this.formStatus.buyingPrice=Pt(this.product.buyingPrice,"Buying price"),this.formStatus.sellingPrice=Pt(this.product.sellingPrice,"Selling price"),this.formStatus.link_store=Pt(this.product.link_store,"Link store"),this.formStatus.link_video=Pt(this.product.link_video,"Link video"),this.formStatus.transport_mode=Pt(this.product.transport_mode,"Transport Mode"),this.formStatus.expedition_date=Pt(this.product.expedition_date,"Expedition Date"),this.formStatus.country_of_purchase=Pt(this.product.country_of_purchase,"Country of purchase"),this.formStatus.description=Pt(this.product.description,"Description"),this.formStatus.variants=$t(this.variants),this.formStatus.name.valid&&this.formStatus.buyingPrice.valid&&this.formStatus.sellingPrice&&this.formStatus.link_store.valid&&this.formStatus.link_video.valid&&this.formStatus.expedition_date.valid&&this.formStatus.country_of_purchase.valid&&this.formStatus.transport_mode.valid&&this.formStatus.description.valid&&this.formStatus.variants.valid},addVariant(){if(0==this.warehouse)return this.$alert({type:"warning",title:"Select warehouse"}),!1;const t={id:this.variantId,color:this.color.toUpperCase(),size:this.size.toUpperCase(),quantity:this.quantity,warehouse_id:"admin"==this.user.role?this.warehouse:1,warehouse:this.warehouses.find((t=>t.id==this.warehouse)),stockAlert:this.stockAlert};this.variants.push(t),this.variantId++,this.color="",this.size="",this.quantity=0,this.stockAlert=0},deleteVariant(t){this.variants=this.variants.filter((e=>e.id!==t))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},handleStockAlertChange(){this.quantity<=0&&(this.quantity=0)},handleSellingPriceChange(){this.product.sellingPrice<=0&&(this.product.sellingPrice=0)},handleBuyingPriceChange(){this.product.buyingPrice<=0&&(this.product.buyingPrice=0)},getWarhouses(){return O_.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses),t)),this.$handleApiError)},getProduct(){return la.getProduct(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{variations:e,buying_price:r,selling_price:a,ref:s,link_video:o,link_store:l,expedition_date:i,transport_mode:n,country_of_purchase:d,name:w,description:c,deliveries:u,image:p,offers:m}=t.data.data.products;return this.variants=e,this.product.buyingPrice=r,this.product.sellingPrice=a,this.product.name=w,this.product.reference=s,this.product.link_video=o,this.product.link_store=l,this.product.expedition_date=i?i.split(" ")[0]:null,this.product.transport_mode=n,this.product.country_of_purchase=d,this.product.description=c,this.image=p,this.offers=m,this.variantId=this.getLastVariantId(e),this.selectedDeliveries=u.map((t=>t.delivery_id)),this.isLoaded=!0,t}}),this.$handleApiError)},getData(){this.isLoaded=!1,Promise.allSettled([this.getWarhouses(),this.getProduct()]).then((t=>{t.every((t=>"fulfilled"==t.status))&&(this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getData()}};const WD=(0,p.Z)(AD,[["render",xD]]);var ED=WD;const TD={class:"tw-pb-14"},FD=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Product"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Show product informations")],-1),OD={key:0},VD={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ID={class:"tw-grid tw-grid-cols-12 tw-gap-2"},jD={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},RD=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Name:",-1),MD={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},ND={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},HD=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Reference:",-1),YD={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},ZD={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},KD=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Buying Price:",-1),BD={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},QD={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},JD=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Selling Price:",-1),GD={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},XD={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},tS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Delivered:",-1),eS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},rS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},aS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Total Sent:",-1),sS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},oS={class:"tw-col-span-12 md:tw-col-span-12 tw-flex tw-gap-2 tw-flex-col tw-flex-wrap"},lS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Description:",-1),iS={class:"tw-text-neutral-800 tw-font-medium"},nS={key:2,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},dS={key:3,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},wS={class:"tw-grid tw-grid-cols-12 tw-gap-2"},cS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},uS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Store Link:",-1),pS=["href"],mS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},gS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Video Link:",-1),hS=["href"],fS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},yS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Expidition Date:",-1),xS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},bS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},vS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Transport Mode:",-1),_S={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},kS={class:"tw-col-span-12 md:tw-col-span-6 tw-flex tw-gap-2 tw-items-center tw-justify-between tw-flex-wrap"},CS=(0,s._)("p",{class:"tw-font-light tw-text-neutral-500"},"Country Of Purchase:",-1),DS={class:"tw-text-neutral-800 tw-font-medium tw-px-3"},SS={key:4,class:"tw-text-neutral-700 tw-font-bold tw-mb-1 tw-mt-5"},zS={key:5,class:"tw-border bg-white tw-w-full tw-rounded-md"},US={key:6,class:"tw-text-neutral-700 tw-font-bold tw-mt-5 tw-mb-1"},PS={key:7,class:"tw-overflow-hidden tw-border bg-white tw-w-full tw-rounded-md"},LS={class:"tw-max-w-full tw-overflow-auto"},qS={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$S={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},AS={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},WS={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},ES={key:0},TS={key:1},FS={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},OS={class:"tw-px-6 tw-py-2"},VS={class:"tw-px-6 tw-py-2"},IS={class:"tw-flex tw-flex-col"},jS={class:"tw-px-6 tw-py-2"},RS={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},MS=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),NS=(0,s._)("th",{scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},null,-1),HS=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1),YS={class:"tw-px-6 tw-py-2"},ZS={class:"tw-flex tw-flex-col tw-font-medium"},KS=(0,s._)("td",{class:"tw-px-6 tw-py-2"},null,-1);function BS(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("ProductTracking");return(0,s.wg)(),(0,s.iD)("div",TD,[FD,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",OD,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",VD,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",ID,[(0,s._)("div",jD,[RD,(0,s._)("p",MD,(0,at.zw)(o.product.name),1)]),(0,s._)("div",ND,[HD,(0,s._)("p",YD,(0,at.zw)(o.product.ref),1)]),(0,s._)("div",ZD,[KD,(0,s._)("p",BD,(0,at.zw)(o.product.buying_price)+" "+(0,at.zw)(o.currency),1)]),(0,s._)("div",QD,[JD,(0,s._)("p",GD,(0,at.zw)(o.product.selling_price)+" "+(0,at.zw)(o.currency),1)]),(0,s._)("div",XD,[tS,(0,s._)("p",eS,(0,at.zw)(l.qtyTotalDelivered),1)]),(0,s._)("div",rS,[aS,(0,s._)("p",sS,(0,at.zw)(l.qtyTotalSent),1)]),(0,s._)("div",oS,[lS,(0,s._)("p",iS,(0,at.zw)(o.product.description),1)])])])])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",nS,"Expidition Infos")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",dS,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",wS,[(0,s._)("div",cS,[uS,(0,s._)("a",{target:"_blank",href:o.product.link_store,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,at.zw)(o.product.link_store),9,pS)]),(0,s._)("div",mS,[gS,(0,s._)("a",{target:"_blank",href:o.product.link_video,class:"tw-text-blue-800 tw-font-medium tw-underline tw-px-3"},(0,at.zw)(o.product.link_video),9,hS)]),(0,s._)("div",fS,[yS,(0,s._)("p",xS,(0,at.zw)(o.product.expedition_date.split(" ")[0]),1)]),(0,s._)("div",bS,[vS,(0,s._)("p",_S,(0,at.zw)(o.product.transport_mode),1)]),(0,s._)("div",kS,[CS,(0,s._)("p",DS,(0,at.zw)(o.product.country_of_purchase),1)])])])])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",SS,"Tracking")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",zS,[(0,s.Wm)(n,{product:o.product},null,8,["product"])])):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("h1",US,"Variations")):(0,s.kq)("",!0),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",PS,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("div",LS,[(0,s._)("table",qS,[(0,s._)("thead",$S,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","size","color","qty","Stock Alert"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",AS,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.product.variations,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",WS,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",ES,(0,at.zw)(t.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",TS,(0,at.zw)(e+1),1)):(0,s.kq)("",!0)]),(0,s._)("th",FS,(0,at.zw)(t.size),1),(0,s._)("td",OS,(0,at.zw)(t.color),1),(0,s._)("td",VS,[(0,s._)("div",IS,[(0,s._)("span",null,"Initial: "+(0,at.zw)(t.quantity),1)])]),(0,s._)("td",jS,(0,at.zw)(t.stockAlert),1)])))),128)),(0,s._)("tr",RS,[MS,NS,HS,(0,s._)("td",YS,[(0,s._)("div",ZS,[(0,s._)("span",null,"Total: "+(0,at.zw)(l.qtyTotal),1)])]),KS])])])])])])])):(0,s.kq)("",!0)])}const QS={class:"tw-flex tw-items-ce tw-gap-1 tw-border-b tw-border-solid tw-border-neutral-200"},JS=["onClick"];function GS(t,e,r,a,o,l){const i=(0,s.up)("ProductTrackingTable");return(0,s.wg)(),(0,s.j4)(os._,{flat:"",class:"tw-p-1"},{default:(0,s.w5)((()=>[(0,s._)("div",QS,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.iD)("button",{key:t.id,onClick:e=>o.tab=t.id,class:(0,at.C_)(["tw-px-4 tw-py-2 tw-rounded-t hover:tw-border-orange-500/50 tw-duration-300 tw-border tw-border-solid tw-border-neutral-200 tw-text-neutral-500 tw-border-b-0",{"tw-bg-orange-500 !tw-text-white tw-border-transparent":t.id==o.tab}])},(0,at.zw)(t.name),11,JS)))),128))]),(0,s.kq)("",!0),(0,s.Wm)(ns.Oo,{class:"tw-mt-0",modelValue:o.tab,"onUpdate:modelValue":e[1]||(e[1]=t=>o.tab=t)},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.tabs,(t=>((0,s.wg)(),(0,s.j4)(ds.H,{key:t.id,value:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{product:r.product,source:t.source},null,8,["product","source"])])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}const XS={class:"tw-mt-5"},tz={class:"tw-max-w-full tw-overflow-auto"},ez={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},rz={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},az={key:0},sz={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},oz={key:1},lz={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"};function iz(t,e,r,a,o,l){const i=(0,s.up)("ProductTrackingRow");return(0,s.wg)(),(0,s.iD)("div",XS,[(0,s._)("div",tz,[(0,s._)("table",ez,[(0,s._)("thead",rz,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",az,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","name","quantity","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",sz,(0,at.zw)(t),1)],2))),64))])):(0,s.kq)("",!0),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("tr",oz,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["id","quantity","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",lz,(0,at.zw)(t),1)],2))),64))])):(0,s.kq)("",!0)]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{item:t,index:e+1,key:t.id,source:r.source},null,8,["item","index","source"])))),128))])])])])}const nz={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},dz={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},wz={class:"tw-flex tw-items-start tw-h-full"},cz={key:0},uz={key:1},pz={key:0,scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},mz={class:"tw-px-6 tw-py-2"},gz={key:0},hz={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},fz={key:0,class:"tw-h-fit tw-py-2"},yz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),xz={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},bz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),vz={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},_z=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),kz={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Cz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Dz={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Sz={key:1},zz={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Uz={key:0,class:"tw-h-fit tw-py-2"},Pz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),Lz={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},qz=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),$z={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},Az=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),Wz={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},Ez=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),Tz={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"},Fz={class:"tw-px-6 tw-py-2 tw-space-x-3"};function Oz(t,e,r,a,o,l){const i=(0,s.up)("ShowProductVariantActions");return(0,s.wg)(),(0,s.iD)("tr",nz,[(0,s._)("th",dz,[(0,s._)("div",wz,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",cz,(0,at.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",uz,(0,at.zw)(r.index),1)):(0,s.kq)("",!0)])]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("th",pz,(0,at.zw)(r.item.name),1)):(0,s.kq)("",!0),(0,s._)("td",mz,["warehouses"==r.source?((0,s.wg)(),(0,s.iD)("div",gz,[(0,s._)("div",hz,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,at.zw)(l.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",fz,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[yz,(0,s._)("td",xz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[bz,(0,s._)("td",vz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[_z,(0,s._)("td",kz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Cz,(0,s._)("td",Dz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0),"deliveries"==r.source?((0,s.wg)(),(0,s.iD)("div",Sz,[(0,s._)("div",zz,[(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null,"Total: "+(0,at.zw)(l.get_total_quantity(r.item.product_variations)),1),(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",Uz,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[Pz,(0,s._)("td",Lz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_confirmed_quantity")),1)]),(0,s._)("tr",null,[qz,(0,s._)("td",$z,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"movements_total_not_confirmed_quantity")),1)]),(0,s._)("tr",null,[Az,(0,s._)("td",Wz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"total_shipped_quantity")),1)]),(0,s._)("tr",null,[Ez,(0,s._)("td",Tz,(0,at.zw)(l.get_total_quantity(r.item.product_variations,"total_delivered_quantity")),1)])])])])):(0,s.kq)("",!0)])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("td",Fz,[(0,s._)("div",null,[(0,s.Wm)(i,{type:r.source,source:r.item},null,8,["type","source"])])])])}function Vz(t,e,r,a,o,l){const i=(0,s.up)("ProductVariantDetails");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.visible=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue-lighten-2",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})])),_:1}),(0,s.Wm)(i,{visible:o.visible,onCancel:l.cancel,type:r.type,source:r.source},null,8,["visible","onCancel","type","source"])])}const Iz={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},jz={class:"tw-p-5"},Rz={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Mz=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},"SIZE"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"},"COLOR"),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1);function Nz(t,e,r,a,o,l){const i=(0,s.up)("ProductVariantDetailsRow"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Iz,[(0,s.Wm)(st.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",jz,[(0,s._)("table",Rz,[Mz,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.source.product_variations,((t,e)=>((0,s.wg)(),(0,s.j4)(i,{index:e,key:t.id,item:t,type:r.type},null,8,["index","item","type"])))),128))])]),(0,s.kq)("",!0)])])])),_:1},8,["visible","onCancel"])])}const Hz={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Yz={class:"tw-w-4 tw-px-2 tw-py-1"},Zz={key:0},Kz={key:1},Bz={class:"tw-w-4 tw-px-2 tw-py-1"},Qz={class:"tw-w-4 tw-px-2 tw-py-1"},Jz={class:"tw-w-4 tw-px-2 tw-py-1"},Gz={class:"tw-w-fit tw-min-w-[200px] tw-flex tw-items-center"},Xz={key:0,class:"tw-h-fit tw-py-2"},tU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-emerald-100 tw-border tw-text-emerald-500"}," Received: ",-1),eU={class:"tw-px-3 tw-py-1 tw-border tw-text-emerald-500"},rU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-red-100 tw-text-red-500 tw-border"}," Not Received: ",-1),aU={class:"tw-px-3 tw-py-1 tw-border tw-text-red-500"},sU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-purple-100 tw-border tw-text-purple-500"}," Shipped: ",-1),oU={class:"tw-px-3 tw-py-1 tw-border tw-text-purple-500"},lU=(0,s._)("td",{class:"tw-px-3 tw-py-1 tw-bg-blue-100 tw-border tw-text-blue-500"}," Delivered: ",-1),iU={class:"tw-px-3 tw-py-1 tw-border tw-text-blue-500"};function nU(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",Hz,[(0,s._)("td",Yz,["admin"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Zz,(0,at.zw)(r.item.id),1)):(0,s.kq)("",!0),(0,s.Uk)(),"seller"==this.user.role?((0,s.wg)(),(0,s.iD)("span",Kz,(0,at.zw)(r.index+1),1)):(0,s.kq)("",!0)]),(0,s._)("td",Bz,(0,at.zw)(r.item.size),1),(0,s._)("td",Qz,(0,at.zw)(r.item.color),1),(0,s._)("td",Jz,[(0,s._)("div",null,[(0,s._)("div",Gz,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.showDetails=!o.showDetails),class:"tw-bg-blue-400/10 tw-py-1 tw-px-4 tw-rounded tw-text-blue-400 tw-flex tw-gap-2 tw-items-center tw-justify-between"},[(0,s._)("p",null," Total: "+(0,at.zw)(r.item.on_hand_quantity),1),(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.showDetails?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])]),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[o.showDetails?((0,s.wg)(),(0,s.iD)("div",Xz,[(0,s._)("table",null,[(0,s._)("tbody",null,[(0,s._)("tr",null,[tU,(0,s._)("td",eU,(0,at.zw)(r.item.movements_total_confirmed_quantity),1)]),(0,s._)("tr",null,[rU,(0,s._)("td",aU,(0,at.zw)(r.item.movements_total_not_confirmed_quantity),1)]),(0,s._)("tr",null,[sU,(0,s._)("td",oU,(0,at.zw)(r.item.total_shipped_quantity),1)]),(0,s._)("tr",null,[lU,(0,s._)("td",iU,(0,at.zw)(r.item.total_delivered_quantity),1)])])])])):(0,s.kq)("",!0)])),_:1})])])])}var dU={props:["type","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}}};const wU=(0,p.Z)(dU,[["render",nU]]);var cU=wU,uU={props:["visible","source","type"],components:{ProductVariantDetailsRow:cU},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const pU=(0,p.Z)(uU,[["render",Nz]]);var mU=pU,gU={props:["product","source","type"],components:{ProductVariantDetails:mU},data(){return{visible:!1,quantity:1,newVariant:null}},methods:{cancel(){this.visible=!1}},mounted(){console.log(this.source)}};const hU=(0,p.Z)(gU,[["render",Vz]]);var fU=hU,yU={components:{ShowProductVariantActions:fU},props:["source","item","index"],data(){return{showDetails:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{get_total_quantity(t,e="on_hand_quantity"){let r=0;return t.forEach((t=>{r+=t[e]})),r}}};const xU=(0,p.Z)(yU,[["render",Oz]]);var bU=xU,vU={props:["product","source"],components:{ProductTrackingRow:bU},computed:{user(){return this.$store.getters["user/user"]},items(){return this.product.tracking[this.source]}},methods:{},mounted(){}};const _U=(0,p.Z)(vU,[["render",iz]]);var kU=_U,CU={components:{ProductTrackingTable:kU},props:["product"],data(){return{tab:1,tabs:[{id:1,name:"Deliveries",source:"deliveries"},{id:2,name:"Warehouses",source:"warehouses"}]}}};const DU=(0,p.Z)(CU,[["render",GS]]);var SU=DU,zU={components:{ProductTracking:SU},data(){return{currency:c,isLoading:!1,isLoaded:!1,variantId:1,variants:[],product:{name:"",reference:"",buyingPrice:0,sellingPrice:0,description:""}}},computed:{user(){return this.$store.getters["user/user"]},qtyTotalDelivered(){let t=0;return this.product.tracking.deliveries.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.total_delivered_quantity}))})),t},qtyTotalSent(){let t=0;return this.product.tracking.warehouses.forEach((e=>{e.product_variations.forEach((e=>{t+=e.movements_total_confirmed_quantity,t+=e.movements_total_not_confirmed_quantity}))})),t},qtyTotal(){if(this.isLoaded){let t=0;return this.product.variations.forEach((e=>{t+=e.quantity})),t}return 0}},methods:{getProduct(){const t=this.$route.params.id;la.getProduct(t).then((t=>{"SUCCESS"==t.data.code&&(this.product=t.data.data.products,this.isLoaded=!0)}),this.$handleApiError)}},mounted(){this.getProduct()}};const UU=(0,p.Z)(zU,[["render",BS]]);var PU=UU,LU=r(4870);const qU={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},$U={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},AU={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},WU={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},EU=["disabled"],TU=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),FU=(0,s._)("span",null," previous ",-1),OU=[TU,FU],VU=["disabled"],IU=(0,s._)("span",null," Next ",-1),jU=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),RU=[IU,jU];function MU(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qU,[(0,s._)("div",$U,[(0,s.Uk)(" Page "),(0,s._)("span",AU,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",WU,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},OU,10,EU),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},RU,10,VU)])])])}var NU={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const HU=(0,p.Z)(NU,[["render",MU]]);var YU=HU;class ZU{async paginate(t="/",e){return await A.getCookie(),q.post("api/supply-requests"+t,e)}async create(t){return await A.getCookie(),q.post("api/supply-requests/new",t)}async update(t,e){return await A.getCookie(),q.post("api/supply-requests/"+t,e)}async delete(t){return await A.getCookie(),q["delete"]("api/supply-requests/"+t)}}var KU=new ZU;const BU=(t,e="success")=>{X.dispatch("alert/toggleAlert",{type:e,title:t})},QU={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},JU=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),GU={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},XU=["disabled"],tP=["disabled"];var eP={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,LU.iH)(!1),o=(0,i.oR)(),l=async()=>{a.value=!0,await KU["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",r.item.id),BU("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),BU(e,"error"),n()})),a.value=!1},n=()=>{e("update:visible",!1)};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(o,{visible:r.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",QU,[JU,(0,s._)("div",GU,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,XU),(0,s._)("button",{onClick:l,disabled:a.value,type:"button",class:(0,at.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,tP)])])])),_:1},8,["visible","closeable"])])}}};const rP=eP;var aP=rP;const sP=[{name:"Pending",value:"pending",style:"tw-text-yellow-600 tw-bg-yellow-100",text:"tw-text-yellow-600"},{name:"Accepted",value:"accepted",style:"tw-text-emerald-600 tw-bg-emerald-100",text:"tw-text-emerald-600"},{name:"Refused",value:"refused",style:"tw-text-red-600 tw-bg-red-100",text:"tw-text-red-600"}],oP={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},lP={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},iP=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),nP={class:"tw-p-5 tw-space-y-4"},dP=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),wP={class:"tw-font-semibold tw-mt-1"},cP={class:"tw-flex tw-items-center"},uP={key:0,class:"tw-flex-1"},pP=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),mP={class:"tw-font-semibold tw-mt-1"},gP={class:"tw-text-blue-500"},hP={class:"tw-text-green-500"},fP={class:"tw-flex-1"},yP=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),xP=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),bP={class:"tw-font-semibold tw-mt-1"},vP={key:0},_P=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),kP={class:"tw-font-semibold tw-mt-1"};var CP={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,LU.Vh)(r,"item"),o=(0,s.Fl)((()=>sP.find((t=>t.value==a.value.status)))),l=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:r.visible,onCancel:l},{default:(0,s.w5)((()=>[(0,s._)("div",oP,[(0,s._)("div",lP,[iP,(0,s._)("div",nP,[(0,s._)("div",null,[dP,(0,s._)("p",wP,(0,at.zw)((0,LU.SU)(a).product.name),1)]),(0,s._)("div",cP,[(0,LU.SU)(a).product_variation.color||(0,LU.SU)(a).product_variation.size?((0,s.wg)(),(0,s.iD)("div",uP,[pP,(0,s._)("p",mP,[(0,s._)("span",gP,(0,at.zw)((0,LU.SU)(a).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",hP,(0,at.zw)((0,LU.SU)(a).product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",fP,[yP,(0,s._)("p",{class:(0,at.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[(0,LU.SU)(o).style]])},(0,at.zw)((0,LU.SU)(o).name),3)])]),(0,s._)("div",null,[xP,(0,s._)("p",bP,(0,at.zw)((0,LU.SU)(a).note),1)]),(0,LU.SU)(a).admin_note?((0,s.wg)(),(0,s.iD)("div",vP,[_P,(0,s._)("p",kP,(0,at.zw)((0,LU.SU)(a).admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:l,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const DP=CP;var SP=DP;const zP={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var UP={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,LU.qj)({delete:!1,show:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",zP,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,LU.SU)(SP),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[1]||(a[1]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,LU.SU)(aP),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[3]||(a[3]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const PP=UP;var LP=PP;const qP={class:"tw-px-4 tw-py-2"},$P={class:"tw-px-4 tw-py-2 tw-truncate"},AP={class:"tw-max-w-[200px] tw-truncate"},WP={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},EP={class:"tw-text-blue-500"},TP={class:"tw-text-green-500"},FP={class:"tw-px-4 tw-py-2 tw-truncate"},OP={class:"tw-max-w-[200px] tw-truncate"},VP={class:"tw-px-4 tw-py-2 tw-truncate"},IP={class:"tw-px-4 tw-py-2"},jP={class:"tw-text-sm tw-whitespace-nowrap"};var RP={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,LU.Vh)(e,"item"),a=(0,s.Fl)((()=>sP.find((t=>t.value==r.value.status))));return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",qP,(0,at.zw)((0,LU.SU)(r).id),1),(0,s._)("td",$P,[(0,s._)("p",AP,(0,at.zw)((0,LU.SU)(r).product.name),1)]),(0,s._)("td",WP,[(0,s._)("p",null,[(0,s._)("span",EP,(0,at.zw)((0,LU.SU)(r).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",TP,(0,at.zw)((0,LU.SU)(r).product_variation.size),1)])]),(0,s._)("td",FP,[(0,s._)("p",OP,(0,at.zw)((0,LU.SU)(r).quantity),1)]),(0,s._)("td",VP,[(0,s._)("p",{class:(0,at.C_)(["tw-max-w-[200px] tw-w-fit tw-truncate tw-px-2 tw-py-1 tw-rounded tw-font-semibold tw-text-xs tw-uppercase",[(0,LU.SU)(a).style]])},(0,at.zw)((0,LU.SU)(r).status),3)]),(0,s._)("td",IP,[(0,s._)("p",jP,(0,at.zw)((0,LU.SU)(Qg())((0,LU.SU)(r).created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,LU.SU)(LP),{item:(0,LU.SU)(r)},null,8,["item"])])]))}};const MP=RP;var NP=MP;const HP={class:""},YP={class:"tw-overflow-x-auto tw-bg-white"},ZP={class:"tw-inline-block tw-min-w-full tw-align-middle"},KP={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},BP={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},QP=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[100px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),JP={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},GP={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},XP=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),tL=[XP],eL={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},rL={colspan:"11"},aL={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},sL=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),oL=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),lL=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),iL=[oL,lL],nL={class:"tw-mt-6"};var dL={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,LU.Vh)(r,"options"),o=(0,LU.Vh)(r,"data"),l=(0,LU.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",HP,[(0,s._)("div",YP,[(0,s._)("div",ZP,[(0,s._)("div",KP,[(0,s._)("table",BP,[QP,!(0,LU.SU)(l)&&(0,LU.SU)(o).length>0?((0,s.wg)(),(0,s.iD)("tbody",JP,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(o),(t=>((0,s.wg)(),(0,s.j4)((0,LU.SU)(NP),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,LU.SU)(l)||0!=(0,LU.SU)(o).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",GP,tL)),(0,LU.SU)(l)?((0,s.wg)(),(0,s.iD)("tbody",eL,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",rL,[(0,s._)("div",aL,[sL,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},iL))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",nL,[(0,s.Wm)((0,LU.SU)(YU),{from:(0,LU.SU)(a).from,to:(0,LU.SU)(a).to,"last-page":(0,LU.SU)(a).last_page,"per-page":(0,LU.SU)(a).per_page,total:(0,LU.SU)(a).total,"current-page":(0,LU.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const wL=dL;var cL=wL;const uL={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},pL={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},mL=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),gL={class:"tw-p-5 tw-space-y-4"},hL={class:""},fL={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},yL={key:0,class:"tw-text-xs tw-text-gray-400"},xL={class:"tw-relative"},bL=["disabled"],vL=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),_L=["value"],kL=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CL={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DL={key:0},SL={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},zL={key:0,class:"tw-text-xs tw-text-gray-400"},UL={class:"tw-relative"},PL=["disabled"],LL=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),qL=["value"],$L=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AL={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},WL=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),EL={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TL=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Message",-1),FL={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},OL={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},VL=["disabled"],IL=(0,s._)("span",null,"Add",-1);var jL={__name:"SupplyRequestAdd",props:["visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,o=(0,i.oR)(),l=(0,LU.iH)(!1),n=(0,LU.qj)({request:{product_id:"no-value-selected",product_variation_id:"no-value-selected",quantity:0,note:""},errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),w=(0,s.Fl)((()=>o.getters["product/fetched"])),c=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=c.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=c.value[0].id}));const u=()=>{e("update:visible",!1)},p=async()=>{l.value=!0,await KU.create(n.request).then((t=>{"SUCCESS"==t.data.code&&(BU("Request has been added"),o.dispatch("supply-request/addSupplyRequest",t.data.supply_request),u())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&BU("Something went wrong","error")})),l.value=!1};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(o,{visible:r.visible,onCancel:u},{default:(0,s.w5)((()=>[(0,s._)("div",uL,[(0,s._)("div",pL,[mL,(0,s._)("div",gL,[(0,s._)("div",hL,[(0,s._)("label",fL,[(0,s.Uk)("Product "),(0,LU.SU)(w)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",yL," loading..."))]),(0,s._)("div",xL,[(0,s.wy)((0,s._)("select",{disabled:!(0,LU.SU)(w),onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,at.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[vL,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(d),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.name]),value:t.id,key:t.id},(0,at.zw)(t.name),11,_L)))),128))],42,bL),[[a.bM,n.request.product_id]]),kL]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",CL,(0,at.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),(0,LU.SU)(c).length>1?((0,s.wg)(),(0,s.iD)("div",DL,[(0,s._)("label",SL,[(0,s.Uk)("Variation "),(0,LU.SU)(w)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",zL," loading..."))]),(0,s._)("div",UL,[(0,s.wy)((0,s._)("select",{disabled:!(0,LU.SU)(w)||"no-value-selected"==n.request.product_id,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,at.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[LL,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(c),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.name]),value:t.id,key:t.id},(0,at.zw)(t.size)+" "+(0,at.zw)(t.size&&t.color?"|":"")+" "+(0,at.zw)(t.color),11,qL)))),128))],42,PL),[[a.bM,n.request.product_variation_id]]),$L]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",AL,(0,at.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[WL,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,34),[[a.nr,n.request.quantity]]),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",EL,(0,at.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[TL,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for your request",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",FL,(0,at.zw)(n.errors.note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",OL,[(0,s._)("button",{onClick:u,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:p,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),IL],8,VL)])])])])),_:1},8,["visible"])}}};const RL=jL;var ML=RL;const NL={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},HL={class:"mb-5 tw-flex tw-w-full tw-justify-between"},YL=(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ",-1),ZL=(0,s._)("span",null,"Create",-1),KL=[ZL],BL=(0,s._)("div",{class:"tw-mt-5"},null,-1);var QL={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,LU.qj)({create:!1}),a=(0,LU.qj)({}),o=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),l=(0,LU.iH)(!0),n=async()=>{l.value=!0,await KU.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(a,t.data.data.supply_requests))})),l.value=!1},d=t=>{console.log(t)};return n(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",NL,[(0,s._)("div",HL,[YL,(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.create=!0),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-orange-100 tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},KL),r.create?((0,s.wg)(),(0,s.j4)((0,LU.SU)(ML),{key:0,visible:r.create,"onUpdate:visible":e[1]||(e[1]=t=>r.create=t)},null,8,["visible"])):(0,s.kq)("",!0)])]),BL,(0,s.Wm)((0,LU.SU)(cL),{onPageChange:d,data:(0,LU.SU)(o),loading:l.value,options:a},null,8,["data","loading","options"])]))}};const JL=QL;var GL=JL;const XL={class:"tw-relative tw-max-w-[450px] tw-w-full tw-bg-white tw-overflow-hidden tw-rounded-md tw-mx-auto tw-border tw-border-solid tw-border-gray-400"},tq=(0,s._)("h1",{class:"tw-text-lg tw-font-semibold tw-p-5 tw-bg-gray-100"},"Are you sure you want to delete request ?",-1),eq={class:"tw-flex tw-justify-end tw-items-center tw-col-span-12 tw-gap-2 tw-p-5"},rq=["disabled"],aq=["disabled"];var sq={__name:"SupplyRequestTableActionsDelete",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,LU.iH)(!1),o=(0,i.oR)(),l=async()=>{a.value=!0,await KU["delete"](r.item.id).then((t=>{"SUCCESS"==t.data.code&&(o.dispatch("supply-request/deleteSupplyRequest",r.item.id),BU("Deleted Successfully"),n())}),(t=>{let e="Something wrong happend";500==t.response?.status&&(e=t?.response?.data?.message),BU(e,"error"),n()})),a.value=!1},n=()=>{e("update:visible",!1)};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(o,{visible:r.visible,onCancel:n,closeable:!a.value},{default:(0,s.w5)((()=>[(0,s._)("div",XL,[tq,(0,s._)("div",eq,[(0,s._)("button",{onClick:n,disabled:a.value,type:"button",class:"tw-border-solid tw-duration-200 tw-text-gray-900 tw-bg-white tw-border tw-border-gray-300 focus:tw-outline-none hover:tw-bg-gray-100 focus:tw-ring-4 focus:tw-ring-gray-200 tw-font-medium tw-rounded-lg tw-text-sm tw-px-8 w-fit h-fit tw-py-2.5 dark:tw-bg-gray-800 dark:tw-text-white dark:tw-border-gray-600 dark:hover:tw-bg-gray-700 dark:hover:tw-border-gray-600 dark:focus:tw-ring-gray-700"}," Annuler ",8,rq),(0,s._)("button",{onClick:l,disabled:a.value,type:"button",class:(0,at.C_)([[a.value&&"!bg-red-400 tw-cursor-not-allowed"],"tw-relative tw-flex tw-gap-2 tw-items-center tw-justify-center dura tw-text-white tw-bg-red-500 hover:tw-bg-red-600 tw-shadow-md hover:tw-shadow-lg tw-duration-200 focus:tw-ring-4 focus:tw-ring-red-300 tw-font-medium tw-rounded-md tw-text-sm tw-px-8 w-fit tw-py-2.5 dark:tw-bg-red-600 dark:hover:tw-bg-red-700 focus:tw-outline-none dark:focus:tw-ring-red-800"])},[a.value?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,class:"tw-absolute tw-animate-spin",name:"loading"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0),(0,s._)("span",{class:(0,at.C_)([a.value&&"!tw-invisible"])},"Supprimer",2)],10,aq)])])])),_:1},8,["visible","closeable"])])}}};const oq=sq;var lq=oq;const iq={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},nq={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},dq=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),wq={class:"tw-p-5 tw-space-y-4"},cq=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Product",-1),uq={class:"tw-font-semibold tw-mt-1"},pq={class:"tw-flex tw-items-center"},mq={key:0,class:"tw-flex-1"},gq=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Variation",-1),hq={class:"tw-font-semibold tw-mt-1"},fq={class:"tw-text-blue-500"},yq={class:"tw-text-green-500"},xq={class:"tw-flex-1"},bq=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Status",-1),vq=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Message",-1),_q={class:"tw-font-semibold tw-mt-1"},kq={key:0},Cq=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-500"},"Note",-1),Dq={class:"tw-font-semibold tw-mt-1"};var Sq={__name:"SupplyRequestTableActionsShow",props:["item","visible"],emits:["update:visible"],setup(t,{emit:e}){const r=t,a=(0,LU.Vh)(r,"item"),o=(0,s.Fl)((()=>sP.find((t=>t.value==a.value.status)))),l=()=>{e("update:visible",!1)};return(t,e)=>{const i=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{visible:r.visible,onCancel:l},{default:(0,s.w5)((()=>[(0,s._)("div",iq,[(0,s._)("div",nq,[dq,(0,s._)("div",wq,[(0,s._)("div",null,[cq,(0,s._)("p",uq,(0,at.zw)((0,LU.SU)(a).product.name),1)]),(0,s._)("div",pq,[(0,LU.SU)(a).product_variation.color||(0,LU.SU)(a).product_variation.size?((0,s.wg)(),(0,s.iD)("div",mq,[gq,(0,s._)("p",hq,[(0,s._)("span",fq,(0,at.zw)((0,LU.SU)(a).product_variation.color),1),(0,s.Uk)(),(0,s._)("span",yq,(0,at.zw)((0,LU.SU)(a).product_variation.size),1)])])):(0,s.kq)("",!0),(0,s._)("div",xq,[bq,(0,s._)("p",{class:(0,at.C_)(["tw-font-semibold tw-text-sm tw-rounded tw-mt-1 tw-uppercase tw-w-fit tw-py-1 tw-px-2",[(0,LU.SU)(o).style]])},(0,at.zw)((0,LU.SU)(o).name),3)])]),(0,s._)("div",null,[vq,(0,s._)("p",_q,(0,at.zw)((0,LU.SU)(a).note),1)]),(0,LU.SU)(a).admin_note?((0,s.wg)(),(0,s.iD)("div",kq,[Cq,(0,s._)("p",Dq,(0,at.zw)((0,LU.SU)(a).admin_note),1)])):(0,s.kq)("",!0)]),(0,s._)("div",{class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},[(0,s._)("button",{onClick:l,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Close ")])])])])),_:1},8,["visible"])])}}};const zq=Sq;var Uq=zq;const Pq={class:"tw-w-full tw-max-w-[500px] tw-mx-auto tw-p-2"},Lq={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},qq=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-4"}," Request Supply ",-1),$q={class:"tw-p-5 tw-space-y-4"},Aq={class:""},Wq={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Eq={key:0,class:"tw-text-xs tw-text-gray-400"},Tq={class:"tw-relative"},Fq=["disabled"],Oq=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a product ",-1),Vq=["value"],Iq=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),jq={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Rq={key:0},Mq={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Nq={key:0,class:"tw-text-xs tw-text-gray-400"},Hq={class:"tw-relative"},Yq=["disabled"],Zq=(0,s._)("option",{disabled:"",value:"no-value-selected"}," Select a variation ",-1),Kq=["value"],Bq=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Qq={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Jq=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Quantity",-1),Gq=["disabled"],Xq={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-gray-400 dark:tw-text-white"},t$={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},e$=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Seller's Message",-1),r$={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},a$=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leave note for seller",-1),s$={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},o$={class:"tw-flex tw-justify-end tw-items-center tw-p-2 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-100 tw-border-t tw-border-solid"},l$=["disabled"],i$=(0,s._)("span",null,"Save",-1);var n$={__name:"SupplyRequestTableActionsEdit",props:["visible","item"],emits:["update:visible"],setup(t,{emit:e}){const r=t,o=(0,i.oR)(),l=(0,LU.iH)(!1),n=(0,LU.qj)({request:JSON.parse(JSON.stringify(r.item)),errors:{}}),d=(0,s.Fl)((()=>o.getters["product/products"])),w=(0,s.Fl)((()=>o.getters["product/fetched"])),c=(0,s.Fl)((()=>"no-value-selected"==n.request.product_id?[]:d.value.find((t=>t.id==n.request.product_id)).variations));(0,s.YP)((()=>n.request.product_id),(()=>{1!=c.value.length?n.request.product_variation_id="no-value-selected":n.request.product_variation_id=c.value[0].id}));const u=()=>{e("update:visible",!1)},p=async()=>{l.value=!0,await KU.update(r.item.id,n.request).then((t=>{"SUCCESS"==t.data.code&&(BU("Request has been updated"),o.dispatch("supply-request/updateSupplyRequest",t.data.supply_request),u())}),(t=>{if(422==t.response?.status)for(let e in t.response.data.errors)n.errors[e]=t.response.data.errors[e][0];500==t.response?.status&&BU("Something went wrong","error")})),l.value=!1};return(t,e)=>{const o=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.j4)(o,{visible:r.visible,onCancel:u},{default:(0,s.w5)((()=>[(0,s._)("div",Pq,[(0,s._)("div",Lq,[qq,(0,s._)("div",$q,[(0,s._)("div",Aq,[(0,s._)("label",Wq,[(0,s.Uk)("Product "),(0,LU.SU)(w)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Eq," loading..."))]),(0,s._)("div",Tq,[(0,s.wy)((0,s._)("select",{disabled:!(0,LU.SU)(w)||!0,onChange:e[0]||(e[0]=t=>n.errors.product_id=null),"onUpdate:modelValue":e[1]||(e[1]=t=>n.request.product_id=t),class:(0,at.C_)([[n.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Oq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(d),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.name]),value:t.id,key:t.id},(0,at.zw)(t.name),11,Vq)))),128))],42,Fq),[[a.bM,n.request.product_id]]),Iq]),n.errors.product_id?((0,s.wg)(),(0,s.iD)("label",jq,(0,at.zw)(n.errors.product_id),1)):(0,s.kq)("",!0)]),(0,LU.SU)(c).length>1?((0,s.wg)(),(0,s.iD)("div",Rq,[(0,s._)("label",Mq,[(0,s.Uk)("Variation "),(0,LU.SU)(w)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("span",Nq," loading..."))]),(0,s._)("div",Hq,[(0,s.wy)((0,s._)("select",{disabled:!(0,LU.SU)(w)||"no-value-selected"==n.request.product_id||!0,onChange:e[2]||(e[2]=t=>n.errors.product_variation_id=null),"onUpdate:modelValue":e[3]||(e[3]=t=>n.request.product_variation_id=t),class:(0,at.C_)([[n.errors.product_variation_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Zq,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(c),(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.name]),value:t.id,key:t.id},(0,at.zw)(t.size)+" "+(0,at.zw)(t.size&&t.color?"|":"")+" "+(0,at.zw)(t.color),11,Kq)))),128))],42,Yq),[[a.bM,n.request.product_variation_id]]),Bq]),n.errors.product_variation_id?((0,s.wg)(),(0,s.iD)("label",Qq,(0,at.zw)(n.errors.product_variation_id),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",null,[Jq,(0,s.wy)((0,s._)("input",{disabled:"accepted"==n.request.status,"onUpdate:modelValue":e[4]||(e[4]=t=>n.request.quantity=t),onInput:e[5]||(e[5]=t=>n.errors.quantity=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[n.errors.quantity&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a quantity for your request",required:""},null,42,Gq),[[a.nr,n.request.quantity]]),"accepted"==n.request.status?((0,s.wg)(),(0,s.iD)("label",Xq,(0,at.zw)("cannot edit, request has already been accepted"))):(0,s.kq)("",!0),n.errors.quantity?((0,s.wg)(),(0,s.iD)("label",t$,(0,at.zw)(n.errors.quantity),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[e$,(0,s.wy)((0,s._)("textarea",{disabled:"","onUpdate:modelValue":e[6]||(e[6]=t=>n.request.note=t),onInput:e[7]||(e[7]=t=>n.errors.note=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[n.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Seller's note here",rows:"2",required:""},null,34),[[a.nr,n.request.note]]),n.errors.note?((0,s.wg)(),(0,s.iD)("label",r$,(0,at.zw)(n.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[a$,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>n.request.admin_note=t),onInput:e[9]||(e[9]=t=>n.errors.admin_note=null),type:"number",min:"0",max:"10000",class:(0,at.C_)([[n.errors.admin_note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"Enter a note for the seller",rows:"2",required:""},null,34),[[a.nr,n.request.admin_note]]),n.errors.admin_note?((0,s.wg)(),(0,s.iD)("label",s$,(0,at.zw)(n.errors.admin_note),1)):(0,s.kq)("",!0)])]),(0,s._)("div",o$,[(0,s._)("button",{onClick:u,class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:p,disabled:l.value,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.value&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),i$],8,l$)])])])])),_:1},8,["visible"])}}};const d$=n$;var w$=d$;const c$={class:"tw-w-full tw-flex tw-justify-center tw-gap-2"};var u$={__name:"SupplyRequestTableActions",props:["item"],setup(t){const e=t,r=(0,LU.qj)({delete:!1,show:!1,edit:!1});return(t,a)=>((0,s.wg)(),(0,s.iD)("div",c$,[(0,s._)("div",null,[(0,s._)("button",{onClick:a[0]||(a[0]=t=>r.edit=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-amber-500/20 hover:tw-bg-amber-600 tw-bg-amber-500 hover:tw-border-amber-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil")])),_:1})]),r.edit?((0,s.wg)(),(0,s.j4)((0,LU.SU)(w$),{key:0,item:e.item,visible:r.edit,"onUpdate:visible":a[1]||(a[1]=t=>r.edit=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[2]||(a[2]=t=>r.show=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-600 tw-bg-blue-500 hover:tw-border-blue-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye")])),_:1})]),r.show?((0,s.wg)(),(0,s.j4)((0,LU.SU)(Uq),{key:0,item:e.item,visible:r.show,"onUpdate:visible":a[3]||(a[3]=t=>r.show=t)},null,8,["item","visible"])):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",{onClick:a[4]||(a[4]=t=>r.delete=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-600 tw-bg-red-500 hover:tw-border-red-500/70 tw-duration-300 tw-text-white tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-trash-can")])),_:1})]),r.delete?((0,s.wg)(),(0,s.j4)((0,LU.SU)(lq),{key:0,item:e.item,visible:r.delete,"onUpdate:visible":a[5]||(a[5]=t=>r.delete=t)},null,8,["item","visible"])):(0,s.kq)("",!0)])]))}};const p$=u$;var m$=p$;const g$={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},h$={class:"tw-relative tw-inline-block tw-text-left"},f$=["disabled"],y$={key:0,class:"tw-absolute tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},x$=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),b$=[x$],v$={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},_$={class:"tw-w-full tw-max-w-[200px] tw-mx-auto tw-p-2"},k$={class:"tw-w-full tw-h-fit tw-bg-white tw-rounded-md tw-border tw-border-solid tw-shadow-md tw-overflow-hidden"},C$=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-gray-600 tw-bg-gray-100 tw-border-b tw-border-solid tw-p-2"}," Select a status ",-1),D$={class:"tw-bg-white tw-divide-y"},S$=["onClick"];var z$={__name:"SupplyRequestStatus",props:["item"],setup(t){const e=t,r=(0,LU.iH)(!1),a=(0,LU.iH)(!1),o=(0,LU.qj)({}),l=(0,i.oR)(),n=(0,LU.iH)(sP[0]),d=()=>{r.value&&(r.value=!1)},w=async t=>{a.value=!0,await KU.update(e.item.id,{...e.item,status:t.value}).then((e=>{"SUCCESS"==e.data.code&&(BU("Updated successfully"),l.dispatch("supply-request/updateSupplyRequest",e.data.supply_request),n.value=t)})),a.value=!1};return n.value=sP.find((t=>t.value==e.item.status)),(t,e)=>{const l=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",g$,[(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",h$,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>r.value=!r.value),type:"button",disabled:a.value,class:(0,at.C_)([[n.value.style,a.value&&"!tw-bg-gray-50 !tw-text-gray-200 tw-cursor-not-allowed hover:!tw-shadow-none"],"tw-inline-flex tw-relative tw-w-[120px] tw-truncate tw-justify-center tw-items-center tw-gap-x-1.5 tw-rounded-md tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm"]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[(0,s._)("p",{class:(0,at.C_)([[n.value.style,a.value&&"tw-invisible"],"tw-w-full tw-mx-auto tw-text-center tw-truncate tw-text-gray-500 tw-px-2"])},(0,at.zw)(n.value.name),3),a.value?((0,s.wg)(),(0,s.iD)("svg",y$,b$)):(0,s.kq)("",!0)],10,f$),o.status?((0,s.wg)(),(0,s.iD)("p",v$,(0,at.zw)(o.status),1)):(0,s.kq)("",!0)]),(0,s.Wm)(l,{visible:r.value,onCancel:e[1]||(e[1]=t=>r.value=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",_$,[(0,s._)("div",k$,[C$,(0,s._)("div",D$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(sP).filter((t=>t.value!=n.value.value)),(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>w(t),key:t.value,class:(0,at.C_)([[t.text],"hover:tw-bg-gray-100 tw-border-solid tw-justify-start tw-items-center tw-w-full tw-text-start tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm"]),role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],10,S$)))),128))])])])])),_:1},8,["visible"])])),[[re.L,d]])])}}};const U$=z$;var P$=U$;const L$={class:"tw-px-4 tw-py-2"},q$={class:"tw-px-4 tw-py-2 tw-truncate"},$$={class:"tw-max-w-[200px] tw-truncate"},A$={class:"tw-px-4 tw-py-2 tw-truncate"},W$={class:"tw-max-w-[200px] tw-truncate"},E$={class:"tw-px-4 tw-py-2 tw-uppercase tw-font-semibold"},T$={class:"tw-flex tw-items-center tw-gap-2 tw-text-sm"},F$={key:0,class:"tw-px-1 tw-rounded-md tw-bg-orange-500 tw-text-white"},O$={key:1,class:"tw-px-1 tw-rounded-md tw-bg-green-500 tw-text-white"},V$={class:"tw-px-4 tw-py-2 tw-truncate"},I$={class:"tw-max-w-[200px] tw-truncate"},j$={class:"tw-px-4 tw-py-2 tw-truncate"},R$={class:"tw-px-4 tw-py-2"},M$={class:"tw-text-sm tw-whitespace-nowrap"};var N$={__name:"SupplyRequestTableRow",props:["item"],setup(t){const e=t,r=(0,LU.Vh)(e,"item");return(t,e)=>((0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",L$,(0,at.zw)((0,LU.SU)(r).id),1),(0,s._)("td",q$,[(0,s._)("p",$$,(0,at.zw)((0,LU.SU)(r).seller.firstname)+" "+(0,at.zw)((0,LU.SU)(r).seller.lastname),1)]),(0,s._)("td",A$,[(0,s._)("p",W$,(0,at.zw)((0,LU.SU)(r).product.name),1)]),(0,s._)("td",E$,[(0,s._)("div",T$,[(0,LU.SU)(r).product_variation.color?((0,s.wg)(),(0,s.iD)("div",F$,(0,at.zw)((0,LU.SU)(r).product_variation.color),1)):(0,s.kq)("",!0),(0,LU.SU)(r).product_variation.size?((0,s.wg)(),(0,s.iD)("div",O$,(0,at.zw)((0,LU.SU)(r).product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("td",V$,[(0,s._)("p",I$,(0,at.zw)((0,LU.SU)(r).quantity),1)]),(0,s._)("td",j$,[(0,s._)("div",null,[(0,s.Wm)((0,LU.SU)(P$),{item:(0,LU.SU)(r)},null,8,["item"])])]),(0,s._)("td",R$,[(0,s._)("p",M$,(0,at.zw)((0,LU.SU)(Qg())((0,LU.SU)(r).created_at).format("DD[-]MM[-]YYYY")),1)]),(0,s._)("td",null,[(0,s.Wm)((0,LU.SU)(m$),{item:(0,LU.SU)(r)},null,8,["item"])])]))}};const H$=N$;var Y$=H$;const Z$={class:""},K$={class:"tw-overflow-x-auto tw-bg-white"},B$={class:"tw-inline-block tw-min-w-full tw-align-middle"},Q$={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},J$={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},G$=(0,s._)("thead",{class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-w-[50px] tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Variation "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Qauntity "),(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Status "),(0,s._)("th",{scope:"col",class:"tw-w-[120px] tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"Created")]),(0,s._)("th",{scope:"col",class:"tw-relative"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")])])],-1),X$={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},tA={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},eA=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No data available ")])],-1),rA=[eA],aA={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},sA={colspan:"11"},oA={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},lA=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),iA=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),nA=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),dA=[iA,nA],wA={class:"tw-mt-6"};var cA={__name:"SupplyRequestTable",props:{options:Object,data:Array,loading:Boolean},emits:["pageChange"],setup(t,{emit:e}){const r=t,a=(0,LU.Vh)(r,"options"),o=(0,LU.Vh)(r,"data"),l=(0,LU.Vh)(r,"loading"),i=t=>{e("pageChange",t)};return(t,e)=>((0,s.wg)(),(0,s.iD)("div",Z$,[(0,s._)("div",K$,[(0,s._)("div",B$,[(0,s._)("div",Q$,[(0,s._)("table",J$,[G$,!(0,LU.SU)(l)&&(0,LU.SU)(o).length>0?((0,s.wg)(),(0,s.iD)("tbody",X$,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,LU.SU)(o),(t=>((0,s.wg)(),(0,s.j4)((0,LU.SU)(Y$),{key:t.id,item:t},null,8,["item"])))),128))])):(0,s.kq)("",!0),(0,LU.SU)(l)||0!=(0,LU.SU)(o).length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",tA,rA)),(0,LU.SU)(l)?((0,s.wg)(),(0,s.iD)("tbody",aA,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",sA,[(0,s._)("div",oA,[lA,((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},dA))),64))])])])])):(0,s.kq)("",!0)])])])]),(0,s._)("div",wA,[(0,s.Wm)((0,LU.SU)(YU),{from:(0,LU.SU)(a).from,to:(0,LU.SU)(a).to,"last-page":(0,LU.SU)(a).last_page,"per-page":(0,LU.SU)(a).per_page,total:(0,LU.SU)(a).total,"current-page":(0,LU.SU)(a).current_page,onPageChange:i},null,8,["from","to","last-page","per-page","total","current-page"])])]))}};const uA=cA;var pA=uA;const mA={class:"tw-bg-white tw-p-5 tw-border tw-border-solid tw-rounded-md"},gA=(0,s._)("div",{class:"mb-5 tw-flex tw-w-full tw-justify-between"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Supply Requests ")],-1),hA=(0,s._)("div",{class:"tw-mt-5"},null,-1);var fA={__name:"SupplyRequestView",setup(t){const e=(0,i.oR)(),r=(0,LU.qj)({}),a=(0,s.Fl)((()=>e.getters["supply-request/supply_requests"])),o=(0,LU.iH)(!0),l=async()=>{o.value=!0,await KU.paginate().then((t=>{"SUCCESS"==t.data.code&&(e.dispatch("supply-request/setSupplyRequests",t.data.data.supply_requests.data),Object.assign(r,t.data.data.supply_requests))})),o.value=!1},n=t=>{console.log(t)};return l(),(t,e)=>((0,s.wg)(),(0,s.iD)("div",mA,[gA,hA,(0,s.Wm)((0,LU.SU)(pA),{onPageChange:n,data:(0,LU.SU)(a),loading:o.value,options:r},null,8,["data","loading","options"])]))}};const yA=fA;var xA=yA,bA={name:"products",path:"/products",component:ca,meta:{module:"product"},children:[{name:"product/list",path:"",component:om,meta:{module:"product",subModule:"product/list",title:"Products List",gate:"show_all_products"}},{name:"product/newlist",path:"/newproducts",component:tb,meta:{module:"product",subModule:"product/newlist",title:"Products List",gate:"show_all_products"}},{name:"product/add",path:"add",component:pk,meta:{module:"product",subModule:"product/add",title:"Add Product",gate:"create_product"}},{name:"product/seller/request",path:"seller/request",component:GL,meta:{module:"product",subModule:"product/seller/request",title:"Supply Request",gate:"access_to_seller_sales"}},{name:"product/admin/request",path:"admin/request",component:xA,meta:{module:"product",subModule:"product/admin/request",title:"Supply Request",gate:"access_to_sales"}},{name:"product/update",path:"update/:id",component:ED,meta:{module:"product",subModule:"product/update",title:"Update Product",gate:"update_product"}},{name:"product/show",path:":id",component:PU,meta:{module:"product",subModule:"product/show",title:"Product Informations",gate:"view_product"}}]};const vA={class:"mb-5 tw-flex tw-justify-between tw-items-center"},_A=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Users List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all users")],-1),kA={key:0},CA=(0,s._)("span",{class:"text-white"}," Add User ",-1),DA={key:0},SA={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},zA={class:"mb-5 tw-flex"},UA={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},PA={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},LA={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},qA=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Role",-1),$A={class:"tw-relative"},AA=["value"],WA={class:""};function EA(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("UsersTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.users.length},[(0,s._)("div",vA,[_A,t.$can("create_user")?((0,s.wg)(),(0,s.iD)("div",kA,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"user/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),CA])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DA,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",SA,[(0,s._)("div",zA,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",UA,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",PA,[(0,s._)("div",LA,[qA,(0,s._)("div",$A,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.role=t),class:"tw-w-full focus:tw-border-orange-400 tw-capitalize tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.roles,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t,value:t},(0,at.zw)(t),9,AA)))),128))],512),[[a.bM,l.role]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),(0,s._)("div",WA,[(0,s.Wm)(d,{users:i.filteredUsers,columns:l.columns},null,8,["users","columns"])])])):(0,s.kq)("",!0)])}const TA={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},FA={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},OA={class:"tw-text-xs tw-text-gray-700 tw- tw-bg-gray-50"},VA=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),IA={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jA=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),RA={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},MA={class:"tw-px-6 tw-py-4"},NA={class:"tw-px-6 tw-py-4"},HA={class:"tw-px-6 tw-py-4"},YA={class:"tw-px-6 tw-py-4"},ZA={class:"tw-px-6 tw-py-4"},KA={key:0,class:"tw-text-red-500"},BA={key:1},QA={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},JA=(0,s._)("div",{class:"tw-p-1 tw-rounded-full tw-bg-green-500"},null,-1),GA={key:1,class:"tw-text-neutral-700"},XA={class:"tw-px-6 tw-py-4"},tW={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},eW={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},rW={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},aW=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),sW=["value"],oW={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},lW={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},iW={class:"tw-text-white"};function nW(t,e,r,o,l,i){const n=(0,s.up)("RoleName"),d=(0,s.up)("UserStatus"),w=(0,s.up)("UserActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",TA,[(0,s._)("table",FA,[(0,s._)("thead",OA,[(0,s._)("tr",null,[VA,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",IA,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[jA,(0,s._)("th",RA,(0,at.zw)(e.id),1),(0,s._)("td",MA,(0,at.zw)(e.firstname)+" "+(0,at.zw)(e.lastname),1),(0,s._)("td",NA,[(0,s.Wm)(n,{role:e.role_name},null,8,["role"])]),(0,s._)("td",HA,(0,at.zw)(e.email),1),(0,s._)("td",YA,(0,at.zw)(e.phone),1),(0,s._)("td",ZA,[e.last_action?((0,s.wg)(),(0,s.iD)("div",BA,[1==i.isOnline(i.lastSeen(e.last_action))?((0,s.wg)(),(0,s.iD)("div",QA,[JA,(0,s.Uk)(" Online ")])):((0,s.wg)(),(0,s.iD)("div",GA,(0,at.zw)(i.lastSeen(e.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",KA," Never Connected "))]),(0,s._)("td",XA,[t.$can("update_user_status")?((0,s.wg)(),(0,s.j4)(d,{key:0,user:e},null,8,["user"])):(0,s.kq)("",!0)]),(0,s._)("td",tW,[(0,s.Wm)(w,{user:e},null,8,["user"])])])))),128))])])]),(0,s._)("div",eW,[(0,s._)("div",rW,[aW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,sW)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",oW,[(0,s._)("div",lW,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.users.length:i.nextRange)+" of "+(0,at.zw)(r.users.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",iW,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function dW(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",null,[t.$can("update_user")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/users/update/"+r.user.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("view_user")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_user")&&"admin"!==r.user.role_name?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this user?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var wW={props:["rowIndex","user"],name:"userActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,et["delete"](this.user.id).then((t=>{"USER_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"User Deleted Successfully"})),et.all().then((t=>{"SHOW_ALL_USERS"==t.data.code&&this.$store.dispatch("user/setUsers",t.data.data.users)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const cW=(0,p.Z)(wW,[["render",dW]]);var uW=cW;const pW={key:0,class:"tw-flex tw-items-center"};function mW(t,e,r,a,o,l){return"admin"!==r.user.role_name?((0,s.wg)(),(0,s.iD)("div",pW,[(0,s.Wm)(Ci.G,{disabled:o.isLoading,loading:o.isLoading,onChange:l.handleChange,color:"primary-color",flat:!0,modelValue:o.checked,"onUpdate:modelValue":e[0]||(e[0]=t=>o.checked=t),density:"compact","hide-details":!0},null,8,["disabled","loading","onChange","modelValue"])])):(0,s.kq)("",!0)}var gW={props:["rowIndex","prop","user"],data(){return{isLoading:!1,checked:!1}},watch:{},methods:{handleChange(){const t={id:this.user.id,status:this.checked?"true":"false"};this.isLoading=!0,et.updateStatus(t).then((t=>{"STATUS_USER_UPDATED"==t.data.code&&(this.$alert({type:"success",title:"Status updated"}),this.setUpdatedUser(this.user.id,this.checked))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},setUpdatedUser(t,e){let r=localStorage.getItem("updatedUsers"),a={};r?(a=JSON.parse(r),a[t]=e):a[t]=e,localStorage.setItem("updatedUsers",JSON.stringify(a))},getUpdatedUsers(){let t=localStorage.getItem("updatedUsers");if(!t)return{};let e=JSON.parse(t);return e}},mounted(){const t=this.getUpdatedUsers();Object.keys(t).includes(`${this.user.id}`)?this.checked=1==t[this.model.id]:this.checked=1==this.user.status}};const hW=(0,p.Z)(gW,[["render",mW]]);var fW=hW;const yW={class:"tw-flex tw-items-center tw-h-full"};function xW(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",yW,[(0,s._)("div",{class:(0,at.C_)([l.current.bg,"tw-px-2 tw-py-1 tw-rounded-lg"])},[(0,s._)("div",{class:(0,at.C_)([l.current.text,"tw-text-sm tw-uppercase"])},(0,at.zw)(r.role),3)],2)])}var bW={props:["role"],data(){return{variants:{default:{bg:"tw-bg-neutral-500/10",text:"tw-text-neutral-500"},admin:{bg:"tw-bg-pink-500/10",text:"tw-text-pink-500"},agente:{bg:"tw-bg-green-500/10",text:"tw-text-green-500"},delivery:{bg:"tw-bg-blue-500/10",text:"tw-text-blue-500"}}}},computed:{current(){return["admin","delivery","agente"].includes(this.role)?this.variants[this.role]:this.variants["default"]}}};const vW=(0,p.Z)(bW,[["render",xW]]);var _W=vW,kW={props:["columns","users"],components:{UserActions:uW,UserStatus:fW,RoleName:_W},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.users.length/this.paginationLimit)},items(){return this.users.slice(this.prevRange,this.nextRange)}},methods:{lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,es.x)(e)},isOnline(t){let e=["Just Now","one minute ago","2 minutes ago","3 minutes ago"];return e.includes(t)}}};const CW=(0,p.Z)(kW,[["render",nW]]);var DW=CW,SW={components:{UsersTable:DW},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,role:"All",search:"",columns:[{prop:"id",name:"#"},{prop:"fullname",name:"Name"},{prop:"role_name",name:"Role"},{prop:"email",name:"Email"},{prop:"phone",name:"Phone Number"},{prop:"last_seen",name:"Last Seen"},{prop:"status",name:"Active"},{name:"Acions",prop:"users"}]}},computed:{fetched(){return this.$store.getters["user/fetched"]},users(){return this.$store.getters["user/users"]},roles(){let t=new Set(["All",...this.users.map((t=>t.role_name))]);return t},filteredUsers(){const t=this.role,e=this.search;return this.users.filter((r=>("all"===t.toLocaleLowerCase()||t.toLocaleLowerCase()===r.role_name)&&!!(r.firstname.toLowerCase().includes(e.toLowerCase())||r.lastname.toLowerCase().includes(e.toLowerCase())||r.role_name.toLowerCase().includes(e.toLowerCase())||r.email.toLowerCase().includes(e.toLowerCase())||r.phone.toLowerCase().includes(e.toLowerCase()))))}},methods:{getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)},getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.$store.dispatch("user/setFetched",!0)}})).catch(this.$handleApiError)}},mounted(){localStorage.removeItem("updatedUsers"),this.fetched||this.getUsers()}};const zW=(0,p.Z)(SW,[["render",EA]]);var UW=zW,PW=r(988);const LW=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new user")],-1),qW={key:0},$W={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},AW={class:"tw-w-full"},WW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),EW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},TW={class:"tw-w-full"},FW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),OW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},VW={class:"tw-w-full"},IW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),jW={class:"tw-w-full"},RW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),MW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},NW={class:"tw-w-full"},HW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),YW={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ZW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),KW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),BW=["value"],QW=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),JW=["value"],GW=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),XW=(0,s._)("span",{class:"text-white"},"Add",-1),tE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),eE={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},rE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),aE={class:"tw-w-full"},sE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),oE={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},lE={class:"tw-w-full"},iE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),nE={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},dE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),wE={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},cE=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),uE=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function pE(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[LW,l.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",qW,[(0,s.Wm)(n)])),l.isFormReady?((0,s.wg)(),(0,s.iD)("div",$W,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",AW,[WW,(0,s.Wm)(it.hw,{error:!l.formStatus.firstname.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>i.resetError("firstname")),modelValue:l.user.firstname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.user.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",EW,(0,at.zw)(l.formStatus.firstname.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",TW,[FW,(0,s.Wm)(it.hw,{error:!l.formStatus.lastname.valid,"hide-details":!0,onKeyup:e[2]||(e[2]=t=>i.resetError("lastname")),modelValue:l.user.lastname,"onUpdate:modelValue":e[3]||(e[3]=t=>l.user.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",OW,(0,at.zw)(l.formStatus.lastname.message),1)])])),_:1}),i.isSeller?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",VW,[IW,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:l.user.username,"onUpdate:modelValue":e[4]||(e[4]=t=>l.user.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",jW,[RW,(0,s.Wm)(it.hw,{error:!l.formStatus.email.valid,"hide-details":!0,onKeyup:e[5]||(e[5]=t=>i.resetError("email")),modelValue:l.user.email,"onUpdate:modelValue":e[6]||(e[6]=t=>l.user.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",MW,(0,at.zw)(l.formStatus.email.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",NW,[HW,(0,s.Wm)(it.hw,{error:!l.formStatus.phone.valid,"hide-details":!0,onKeyup:e[7]||(e[7]=t=>i.resetError("phone")),modelValue:l.user.phone,"onUpdate:modelValue":e[8]||(e[8]=t=>l.user.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",YW,(0,at.zw)(l.formStatus.phone.message),1)])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(ga.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Ci.G,{modelValue:l.isHavingAllProducts,"onUpdate:modelValue":e[9]||(e[9]=t=>l.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),ZW,(0,s._)("div",null,[(0,s.Wm)(PW.f,{disabled:l.isHavingAllProducts,modelValue:l.selectedProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>l.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ga.D,{key:2,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[KW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,BW)))),128))],512),[[a.bM,l.city]])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ga.D,{key:3,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[QW,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,JW)))),128))],512),[[a.bM,l.deliveryCity]]),GW,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:l.deliveryCityFee,"onUpdate:modelValue":e[13]||(e[13]=t=>l.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(st.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[XW])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[tE,(0,s.Wm)(eb.r,{class:"text-capitalize",items:i.roles,"item-title":"name","item-value":"id",modelValue:l.role,"onUpdate:modelValue":e[14]||(e[14]=t=>l.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["items","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",eE,[rE,(0,s.Wm)(Ci.G,{modelValue:l.user.status,"onUpdate:modelValue":e[15]||(e[15]=t=>l.user.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",aE,[sE,(0,s.Wm)(it.hw,{error:!l.formStatus.password.valid,"hide-details":!0,onKeyup:e[16]||(e[16]=t=>i.resetError("password")),modelValue:l.user.password,"onUpdate:modelValue":e[17]||(e[17]=t=>l.user.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",oE,(0,at.zw)(l.formStatus.password.message),1)])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",lE,[iE,(0,s.Wm)(it.hw,{error:!l.formStatus.confirmPassword.valid,"hide-details":!0,onKeyup:e[18]||(e[18]=t=>i.resetError("confirmPassword")),modelValue:l.user.confirmPassword,"onUpdate:modelValue":e[19]||(e[19]=t=>l.user.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",nE,(0,at.zw)(l.formStatus.confirmPassword.message),1)])])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[dE,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,at.zw)(i.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,at.zw)(t.fee)+" "+(0,at.zw)(l.currency),1),(0,s._)("div",null,[(0,s.Wm)(lt.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1})]),(0,s._)("div",wE,[(0,s.Wm)(st.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[cE])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[uE])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var mE={data(){return{localUrl:n,currency:c,isFormReady:!1,isLoading:!1,city:1,isMultipleProducts:!1,isHavingAllProducts:!1,id:1,deliveryCity:1,deliveryCityFee:0,deliveryCities:[],product:0,selectedProducts:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},user:{firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},role:3}},computed:{roles(){return this.$store.getters["user/roles"]},rolesFetched(){return this.$store.getters["user/fetchedRoles"]},cities(){return this.$store.getters["city/cities"]},citiesFetched(){return this.$store.getters["city/fetched"]},products(){return this.$store.getters["product/products"]},productsFethched(){return this.$store.getters["product/fetched"]},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},isSeller(){return 4===this.role},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{},methods:{removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.id,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.id+=1,this.deliveryCity=1,this.deliveryCityFee=0},create(){if(!this.validate())return!1;this.isLoading=!0;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};et.register(t).then((t=>{"USER_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.user={firstname:"",lastname:"",phone:"",username:"",email:"",password:"",confirmPassword:"",status:!0},this.role=3,this.product_id=null,this.deliveryCities=[],this.id=1)})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){this.formStatus.email=zt(this.user.email),this.formStatus.firstname=Pt(this.user.firstname),this.formStatus.lastname=Pt(this.user.lastname),this.formStatus.phone=Pt(this.user.phone),this.formStatus.password=Ut(this.user.password),this.formStatus.confirmPassword=qt(this.user.password,this.user.confirmPassword);const t=this.formStatus.email.valid,e=this.formStatus.firstname.valid,r=this.formStatus.lastname.valid,a=this.formStatus.phone.valid,s=this.formStatus.password.valid,o=this.formStatus.confirmPassword.valid;return t&&e&&r&&s&&o&&a},getRoles(){return this.rolesFetched?new Promise((t=>t())):et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)},async getCities(){return this.citiesFetched?new Promise((t=>t())):et.cities().then((t=>{this.$store.dispatch("city/cities",t.data.data),this.$store.dispatch("city/setFetched",!0)}))},async getProducts(){return this.productsFethched?new Promise((t=>t())):la.all().then((t=>{this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0)}),(t=>this.$handleApiError(t)))}},mounted(){Promise.allSettled([this.getRoles(),this.getCities(),this.getProducts()]).then((t=>{console.log(t),this.isFormReady=!0}),(t=>this.$handleApiError(t)))}};const gE=(0,p.Z)(mE,[["render",pE]]);var hE=gE;const fE=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update User "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update user informations")],-1),yE={key:0},xE={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},bE={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},vE={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},_E={class:"tw-w-full"},kE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," First Name ",-1),CE={class:"tw-w-full"},DE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Last Name",-1),SE={class:"tw-w-full"},zE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"User Name",-1),UE={class:"tw-w-full"},PE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Email",-1),LE={class:"tw-w-full"},qE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Phone Number ",-1),$E={class:"tw-w-full tw-flex tw-gap-10 tw-items-center"},AE=(0,s._)("span",null,"Update Password: ",-1),WE={class:"tw-w-full"},EE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Password",-1),TE={class:"tw-w-full"},FE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Confirm Password ",-1),OE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role",-1),VE={class:"tw-flex tw-gap-10 tw-h-full tw-items-center"},IE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Status:",-1),jE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),RE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),ME=["value"],NE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),HE=["value"],YE=(0,s._)("div",{class:"mb-1 my-2 text-body-2 tw-text-zinc-700"},"Fee",-1),ZE=(0,s._)("span",{class:"text-white"},"Add",-1),KE=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery cities",-1),BE={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},QE=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),JE=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function GE(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[fE,i.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",yE,[(0,s.Wm)(n)])),i.isFormReady?((0,s.wg)(),(0,s.iD)("div",xE,[(0,s._)("div",bE,[(0,s.Uk)(" User ID: "),(0,s._)("span",vE,(0,at.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",_E,[kE,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.firstname.message,modelValue:l.firstname,"onUpdate:modelValue":e[0]||(e[0]=t=>l.firstname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",CE,[DE,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.lastname.message,modelValue:l.lastname,"onUpdate:modelValue":e[1]||(e[1]=t=>l.lastname=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",SE,[zE,(0,s.Wm)(it.hw,{modelValue:l.username,"onUpdate:modelValue":e[2]||(e[2]=t=>l.username=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",UE,[PE,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.email.message,modelValue:l.email,"onUpdate:modelValue":e[3]||(e[3]=t=>l.email=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",LE,[qE,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.phone.message,modelValue:l.phone,"onUpdate:modelValue":e[4]||(e[4]=t=>l.phone=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-0",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",$E,[AE,(0,s.Wm)(Ci.G,{modelValue:l.updatePassword,"onUpdate:modelValue":e[5]||(e[5]=t=>l.updatePassword=t),color:"primary-color","hide-details":!0},null,8,["modelValue"])])])),_:1}),l.updatePassword?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",WE,[EE,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.password.message,modelValue:l.password,"onUpdate:modelValue":e[6]||(e[6]=t=>l.password=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0),l.updatePassword?((0,s.wg)(),(0,s.j4)(ga.D,{key:1,class:"!tw-py-2 tw-pt-0",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",TE,[FE,(0,s.Wm)(it.hw,{"error-messages":l.formStatus.confirmPassword.message,modelValue:l.confirmPassword,"onUpdate:modelValue":e[7]||(e[7]=t=>l.confirmPassword=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","modelValue"])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[OE,(0,s.Wm)(eb.r,{class:"text-capitalize","error-messages":l.formStatus.role,items:i.roles,"item-title":"name","item-value":"id",modelValue:l.role,"onUpdate:modelValue":e[8]||(e[8]=t=>l.role=t),variant:"outlined",color:"primary-color",density:"compact"},null,8,["error-messages","items","modelValue"])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",VE,[IE,(0,s.Wm)(Ci.G,{modelValue:l.status,"onUpdate:modelValue":e[9]||(e[9]=t=>l.status=t),color:"primary-color","hide-details":!0,flat:""},null,8,["modelValue"])])])),_:1}),i.isAgente?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.Wm)(Ci.G,{modelValue:l.isHavingAllProducts,"onUpdate:modelValue":e[10]||(e[10]=t=>l.isHavingAllProducts=t),color:"primary-color",label:"All Products"},null,8,["modelValue"])]),jE,(0,s._)("div",null,[(0,s.Wm)(PW.f,{disabled:l.isHavingAllProducts,modelValue:l.selectedProducts,"onUpdate:modelValue":e[11]||(e[11]=t=>l.selectedProducts=t),"filter-keys":"name",density:"compact","item-value":"id","item-title":"name",variant:"outlined",color:"primary-color",chips:"",items:i.selectProducts,multiple:""},null,8,["disabled","modelValue","items"])])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ga.D,{key:1,class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[RE,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.city=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,ME)))),128))],512),[[a.bM,l.city]])])])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),i.isDelivery?((0,s.wg)(),(0,s.j4)(ga.D,{key:0,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[NE,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.deliveryCity=t),class:"tw-w-full tw-py-[7px] focus:tw-border-orange-500 tw-px-4 tw-border tw-outline-orange-500 tw-border-neutral-400 tw-border-solid tw-rounded-md"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,HE)))),128))],512),[[a.bM,l.deliveryCity]]),YE,(0,s.Wm)(it.hw,{"hide-details":!0,modelValue:l.deliveryCityFee,"onUpdate:modelValue":e[14]||(e[14]=t=>l.deliveryCityFee=t),clearable:"",type:"number","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["modelValue"]),(0,s.Wm)(st.T,{onClick:i.handleAddCity,class:"tw-text-white tw-my-3",variant:"flat",color:"primary-color",block:""},{default:(0,s.w5)((()=>[ZE])),_:1},8,["onClick"])])])),_:1})):(0,s.kq)("",!0),i.isDelivery?((0,s.wg)(),(0,s.j4)(ga.D,{key:1,class:"!tw-py-2",cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[KE,(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryCities,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-2",key:t},[(0,s._)("div",null,(0,at.zw)(l.cities.filter((e=>e.id==t.city_id))[0]?.name),1),(0,s._)("div",null,(0,at.zw)(t.fee)+" "+(0,at.zw)(l.currency),1),(0,s._)("div",null,[(0,s.Wm)(lt.t,{color:"red",onClick:e=>i.removeCity(t.id),size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])))),128))])])])),_:1})):(0,s.kq)("",!0)])),_:1})]),(0,s._)("div",BE,[(0,s.Wm)(st.T,{link:"",to:{name:"user/list"},color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[QE])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[JE])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var XE={data(){return{serverUrl:d,currency:c,isFetched:!1,isRolesFetched:!1,isUserFetched:!1,isProductsFetched:!1,isLoading:!1,updatePassword:!1,autoId:1,cities:[],deliveryCity:1,deliveryCityFee:0,city:1,deliveryCities:[],formStatus:{firstname:{valid:!0,message:""},lastname:{valid:!0,message:""},phone:{valid:!0,message:""},email:{valid:!0,message:""},password:{valid:!0,message:""},confirmPassword:{valid:!0,message:""}},id:null,firstname:"",lastname:"",phone:"",email:"",password:"",confirmPassword:"",username:"",role:"",user_image:null,status:!1,product:null,products:[],selectedProducts:[],isMultipleProducts:!1,isHavingAllProducts:!1}},computed:{roles(){return this.$store.getters["user/roles"]},isFormReady(){return this.isFetched},isAgente(){return 2===this.role},isDelivery(){return 3===this.role},user(){return{id:this.id,firstname:this.firstname,lastname:this.lastname,username:this.username,phone:this.phone,email:this.email,password:this.password,product_id:this.product,deliveryCities:this.deliveryCities,city:this.city,role:this.role,status:this.status?1:0}},selectProducts(){return this.isMultipleProducts,[...this.products]},userProducts(){return this.selectedProducts}},watch:{role(t){console.log("changed"),2===t&&0===this.products.length&&(this.isProductsFetched=!1)}},methods:{update(){if(!this.validate())return!1;const t={...this.user,role:this.role,product_id:this.userProducts,city:this.city,deliveryCities:this.deliveryCities,having_all:this.isHavingAllProducts};this.isLoading=!0,et.update(t,this.updatePassword).then((t=>{"USER_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message})})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;switch(console.log(t),e?.code){case"VALIDATION_ERROR":for(let t in e.error)this.formStatus[t]={valid:!1,message:e.error[t][0]};break}return t})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1}))},validate(){this.formStatus["email"]=zt(this.email),this.formStatus["firstname"]=Pt(this.firstname),this.formStatus["lastname"]=Pt(this.lastname),this.formStatus["phone"]=Pt(this.phone),this.formStatus["password"]=Ut(this.password),this.formStatus["confirmPassword"]=qt(this.password,this.confirmPassword);const t=this.formStatus["email"].valid,e=this.formStatus["firstname"].valid,r=this.formStatus["lastname"].valid,a=this.formStatus["phone"].valid;if(this.updatePassword){const s=this.formStatus["password"].valid,o=this.formStatus["confirmPassword"].valid;return t&&e&&r&&s&&o&&a}return t&&e&&r&&a},removeCity(t){this.deliveryCities=this.deliveryCities.filter((e=>e.id!==t))},handleAddCity(){if(this.deliveryCityFee<=0)return!1;this.deliveryCities.push({id:this.autoId,city_id:this.deliveryCity,fee:this.deliveryCityFee}),this.autoId+=1,this.deliveryCity=1,this.deliveryCityFee=0},async getRoles(){await et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isRolesFetched=!0}})).catch(this.$handleApiError)},async getUser(){return et.getUser(this.$route.params.id).then((t=>{if("USER_SUCCESS"==t?.data.code){const e=t.data.data.user;if(this.id=e.id,this.firstname=e.firstname,this.lastname=e.lastname,this.username=e.username,this.email=e.email,this.phone=e.phone,this.role=e.role,2==e.role&&(this.isHavingAllProducts=1==e.having_all,this.selectedProducts=e?.product),this.user_image=e.photo,this.status=1==e.status,this.isUserFetched=!0,3==e.role){console.log("this is delivery"),this.city=e?.city?.id;let t=0;this.deliveryCities=e.deliveryPlaces.map((e=>(parseInt(e.id)>=t&&(t=parseInt(e.id)+1),{id:e.id,city_id:e.city_id,fee:e.fee}))),this.autoId=t}}})).catch(this.$handleApiError)},async getProducts(){return la.all().then((t=>{this.products=t.data.data.products,this.products.length>0?this.product=this.user.product_id:this.product=null,this.isProductsFetched=!0}),(t=>this.$handleApiError(t)))},async getCities(){return et.cities().then((t=>{console.log(t.data),this.cities=t.data.data}))}},async mounted(){0==this.roles.length?await this.getRoles():this.isRolesFetched=!0,Promise.allSettled([this.getRoles(),this.getProducts(),this.getCities(),this.getUser()]).then((()=>{this.selectedProducts.length==this.products.length&&(this.product=0,this.isMultipleProducts=!1),this.isFetched=!0}),(t=>this.$handleApiError(t)))}};const tT=(0,p.Z)(XE,[["render",GE]]);var eT=tT;const rT=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add New Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new Role")],-1),aT={key:0},sT={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},oT={class:"md:tw-w-1/2 tw-w-full"},lT=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Role Name",-1),iT={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},nT={class:"mb-3 text-body-2 tw-text-zinc-700"},dT={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},wT={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},cT=["onClick"],uT={key:0},pT={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},mT=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),gT=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function hT(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[rT,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",aT,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",sT,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",oT,[lT,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",iT,(0,at.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",nT,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",dT,(0,at.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",wT,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>l.handleClick(t),class:(0,at.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},[(0,s._)("span",null,(0,at.zw)(t),1)],10,cT)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",uT,(0,at.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",pT,[(0,s.Wm)(st.T,{link:"",to:"/",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[mT])),_:1}),(0,s.Wm)(st.T,{onClick:l.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gT])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var fT={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0,et.createRole({name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_ADDED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles(),this.name="",this.selectedPermissions=[])})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){0==this.roles.length?await this.getRoles():this.isFormReady=!0,this.permissions=this.$store.getters["user/permissions"]}};const yT=(0,p.Z)(fT,[["render",hT]]);var xT=yT;const bT={class:"mb-5 tw-flex tw-justify-between tw-items-center"},vT=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Roles List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage all Roles")],-1),_T={key:0},kT=(0,s._)("span",{class:"text-white"}," Add Role ",-1),CT={key:0},DT={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},ST={class:"mb-5 tw-flex"},zT={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},UT={class:""};function PT(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("RolesTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.roles.length},[(0,s._)("div",bT,[vT,t.$can("create_role")?((0,s.wg)(),(0,s.iD)("div",_T,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"user/addRole"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),kT])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",CT,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",DT,[(0,s._)("div",ST,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",zT,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",UT,[(0,s.Wm)(d,{roles:i.filteredRoles,columns:l.columns},null,8,["roles","columns"])])])):(0,s.kq)("",!0)])}const LT={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},qT={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},$T={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},AT=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),WT={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ET=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),TT={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},FT={class:"tw-px-6 tw-py-4 tw-uppercase"},OT={class:"tw-px-6 tw-py-4"},VT={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},IT={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},jT={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},RT=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),MT=["value"],NT={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},HT={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},YT={class:"tw-text-white"};function ZT(t,e,r,o,l,i){const n=(0,s.up)("RolePermissions"),d=(0,s.up)("RoleActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",LT,[(0,s._)("table",qT,[(0,s._)("thead",$T,[(0,s._)("tr",null,[AT,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",WT,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[ET,(0,s._)("th",TT,(0,at.zw)(t.id),1),(0,s._)("td",FT,(0,at.zw)(t.name),1),(0,s._)("td",OT,[(0,s.Wm)(n,{role:t},null,8,["role"])]),(0,s._)("td",VT,[(0,s.Wm)(d,{role:t},null,8,["role"])])])))),128))])])]),(0,s._)("div",IT,[(0,s._)("div",jT,[RT,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,MT)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",NT,[(0,s._)("div",HT,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.roles.length:i.nextRange)+" of "+(0,at.zw)(r.roles.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",YT,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const KT={key:0},BT={class:"tw-flex tw-flex-wrap tw-gap-2"};function QT(t,e,r,a,o,l){const i=(0,s.up)("popup");return["admin","agente","delivery"].includes(r.role.name)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",KT,[t.$can("update_role")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/users/roles/update/"+r.role.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_role")&&"admin"!==r.role.name?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopupDelete=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this Role?</p> You won't be able to revert this!",loading:o.isLoadingDelete,visible:o.showPopupDelete,onResolved:l.handleResolvedDelete},null,8,["loading","visible","onResolved"]),(0,s.Wm)(i,{noConfirm:!0,type:"info",title:"Permissions",loading:o.isLoadingShow,visible:o.showPopupShow,onResolved:l.handleResolvedShow},{default:(0,s.w5)((()=>[(0,s._)("div",BT,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer",key:t},(0,at.zw)(t),1)))),128))])])),_:1},8,["loading","visible","onResolved"])]))}var JT={props:["rowIndex","prop","role"],name:"roleActions",data(){return{showPopupDelete:!1,showPopupShow:!1,isLoadingDelete:!1,isLoadingShow:!1,permissions:["create_user","delete_user","update_user","show_user"]}},methods:{handleResolvedDelete(t){t?(this.isLoadingDelete=!0,et.deleteRole(this.role.id).then((t=>{"ROLE_DELETED"==t.data.code&&(this.isLoadingDelete=!1,this.$alert({type:"success",title:"Role Deleted Successfully"})),et.roles().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("user/setRoles",t.data.data.roles)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoadingDelete=!1,this.showPopupDelete=!1}))):this.showPopupDelete=!1},handleResolvedShow(t){t?console.log(t):this.showPopupShow=!1}}};const GT=(0,p.Z)(JT,[["render",QT]]);var XT=GT;const tF={class:"tw-h-100 tw-flex tw-items-center tw-max-w-[750px] tw-flex-wrap tw-gap-2"},eF=["title"];function rF(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",tF,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-py-0 tw-px-2 tw-text-xs tw-h-5 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg",title:t.description,key:t.name},(0,at.zw)(t.name),9,eF)))),128))])}var aF={props:["role"],name:"rolePermissions",data(){return{}},computed:{permissions(){return this.role.permissions.map((t=>t))}}};const sF=(0,p.Z)(aF,[["render",rF]]);var oF=sF,lF={props:["columns","roles"],components:{RoleActions:XT,RolePermissions:oF},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.roles.length/this.paginationLimit)},items(){return this.roles.slice(this.prevRange,this.nextRange)}},methods:{}};const iF=(0,p.Z)(lF,[["render",ZT]]);var nF=iF,dF={components:{RolesTable:nF},data(){return{localUrl:n,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Role Name"},{prop:"permissions",name:"Permissions"},{name:"Acions",prop:"roles"}]}},computed:{roles(){return this.$store.getters["user/roles"]},fetched(){return this.$store.getters["user/fetchedRoles"]},filteredRoles(){return this.roles.filter((t=>{const e=t.permissions.map((t=>t.name));return!!(""===this.search||t.name.toLocaleLowerCase().includes(this.search.toLocaleLowerCase())||e.includes(this.search.toLocaleLowerCase())||e.some((t=>t.toLowerCase().includes(this.search.toLocaleLowerCase()))))}))}},methods:{getRoles(){return et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.$store.dispatch("user/setFetchedRoles",!0)}})).catch(this.$handleApiError)}},mounted(){this.rolesFetched||this.getRoles()}};const wF=(0,p.Z)(dF,[["render",PT]]);var cF=wF;const uF=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Update Role "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update existing role")],-1),pF={key:0},mF={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},gF={class:"md:tw-w-1/2 tw-w-full"},hF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Role Name ",-1),fF={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yF={class:"mb-3 text-body-2 tw-text-zinc-700"},xF={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-text-xs"},bF={class:"tw-flex tw-flex-wrap tw-gap-2 tw-mt-5"},vF=["onClick"],_F={key:0},kF={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},CF=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),DF=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function SF(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[uF,o.isFormReady?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",pF,[(0,s.Wm)(i)])),o.isFormReady?((0,s.wg)(),(0,s.iD)("div",mF,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",md:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",gF,[hF,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,"hide-details":!0,onKeyup:e[0]||(e[0]=t=>l.resetError("firstname")),modelValue:o.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fF,(0,at.zw)(o.formStatus.name.message),1)])])),_:1}),(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",yF,[(0,s.Uk)(" Select Permissions: "),(0,s._)("div",xF,(0,at.zw)(o.formStatus.permissions.message),1)]),(0,s._)("div",bF,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.permissions,(t=>((0,s.wg)(),(0,s.iD)("div",{onClick:e=>l.handleClick(t),class:(0,at.C_)([{"!tw-bg-orange-500 !tw-text-white":o.selectedPermissions.includes(t)},"tw-py-1 tw-px-2 tw-bg-gray-900/10 tw-text-gray-900 tw-rounded-lg tw-cursor-pointer"]),key:t},(0,at.zw)(t),11,vF)))),128))])])])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[o.show?((0,s.wg)(),(0,s.iD)("div",_F,(0,at.zw)(o.selectedPermissions),1)):(0,s.kq)("",!0)])),_:1})])),_:1})]),(0,s._)("div",kF,[(0,s.Wm)(st.T,{link:"",to:"/users/roles",color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[CF])),_:1}),(0,s.Wm)(st.T,{onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[DF])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var zF={data(){return{localUrl:n,isFormReady:!1,isLoading:!1,show:!1,formStatus:{name:{valid:!0,message:""},permissions:{valid:!0,message:""}},name:"",permissions:[],selectedPermissions:[]}},computed:{roles(){return this.$store.getters["user/roles"]}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,et.updateRole(this.$route.params.id,{name:this.name,permissions:this.selectedPermissions}).then((t=>{"ROLE_UPDATED"===t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.getRoles())})).catch((t=>{this.$handleApiError(t);const e=t?.response?.data;if("VALIDATION_ERROR"==e?.code)for(let r in e.error)this.formStatus[r]={valid:!1,message:e.error[r][0]}})).finally((()=>{this.isLoading=!1}))},handleClick(t){this.selectedPermissions.includes(t)?this.selectedPermissions=this.selectedPermissions.filter((e=>e!==t)):this.selectedPermissions.push(t)},addPermissions(t){return t},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.name,"Name"),this.formStatus.permissions=At(this.selectedPermissions),this.formStatus.name.valid&&this.formStatus.permissions.valid},getRole(){et.getRole(this.$route.params.id).then((t=>{this.name=t.data.data.role,this.selectedPermissions=[...t.data.data.permission],this.isFormReady=!0}))},getRoles(){et.roles().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.roles;this.$store.dispatch("user/setRoles",e),this.isFormReady=!0}})).catch(this.$handleApiError)}},async mounted(){await this.getRole(),this.permissions=this.$store.getters["user/permissions"]}};const UF=(0,p.Z)(zF,[["render",SF]]);var PF=UF,LF={name:"users",path:"/users",component:ca,meta:{module:"user"},children:[{name:"user/list",path:"",component:UW,meta:{module:"user",subModule:"user/list",title:"Users List",gate:"show_all_users"}},{name:"user/add",path:"add",component:hE,meta:{module:"user",subModule:"user/add",title:"Add User",gate:"create_user"}},{name:"user/update",path:"update/:id",component:eT,meta:{module:"user",subModule:"user/update",title:"Update User",gate:"update_user"}},{name:"user/addRole",path:"addRole",component:xT,meta:{module:"user",subModule:"user/addRole",title:"Add Role",gate:"create_role"}},{name:"user/roles",path:"roles",component:cF,meta:{module:"user",subModule:"user/roles",title:"Roles List",gate:"show_all_roles"}},{name:"user/updateRole",path:"roles/update/:id",component:PF,meta:{module:"user",subModule:"user/updateRole",title:"Update Role",gate:"view_role"}}]};const qF={class:"mb-5 tw-flex tw-justify-between tw-items-center"},$F=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Sales List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your sales")],-1),AF={key:0},WF=(0,s._)("span",{class:"text-white"}," Add Sale ",-1),EF={key:0},TF={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},FF={class:"mb-5 tw-flex"},OF={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},VF={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},IF={class:""};function jF(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("SalesAnalytics"),w=(0,s.up)("IndexFilter"),c=(0,s.up)("SalesTable"),u=(0,s.up)("AddSale"),p=(0,s.up)("NewAddSale");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",qF,[$F,t.$can("create_sale")&&i.fetched?((0,s.wg)(),(0,s.iD)("div",AF,[(0,s.Wm)(st.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),WF])),_:1})])):(0,s.kq)("",!0)]),i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",EF,[(0,s.Wm)(n)])),i.fetched?((0,s.wg)(),(0,s.iD)("div",TF,[(0,s.Wm)(d,{sales:i.sales},null,8,["sales"]),(0,s._)("div",FF,[(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",OF,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by client, phone..."},null,512),[[a.nr,l.search]])]),(0,s._)("div",VF,[(0,s.Wm)(lt.t,{class:"tw-text-gray-500",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pound")])),_:1}),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.searchId=t),type:"number",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search By ID"},null,512),[[a.nr,l.searchId]])]),(0,s.Wm)(nr.C),(0,s.Wm)(st.T,{onClick:i.handleReset,icon:"",rounded:"lg",variant:"flat",size:"small",disabled:l.isButtonDisabled,loading:l.isLoadingReset,color:"red",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",icon:"mdi-restart-alert",size:"xx-large"})])),_:1},8,["onClick","disabled","loading"]),(0,s.Wm)(st.T,{onClick:i.getSales,icon:"",rounded:"lg",variant:"flat",size:"small",color:"blue",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",icon:"mdi-autorenew",size:"xx-large"})])),_:1},8,["onClick"])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[1000px] !tw-overflow-visible":l.showFilters}])},[(0,s.Wm)(w,{sales:i.sales,search:l.search,"search-id":l.searchId,filtered:l.filteredSales,"onUpdate:filtered":e[4]||(e[4]=t=>l.filteredSales=t),selected:i.selectedSales},null,8,["sales","search","search-id","filtered","selected"])],2),(0,s._)("div",IF,[((0,s.wg)(),(0,s.j4)(c,{onSelected:i.handleSelected,"selected-reset":l.selected,key:l.filteredSales.length,sales:l.filteredSales},null,8,["onSelected","selected-reset","sales"]))]),(0,s.Wm)(u,{onCancel:e[5]||(e[5]=t=>l.showPopup=!1),visible:!1}),(0,s.Wm)(p,{onCancel:e[6]||(e[6]=t=>l.showPopup=!1),visible:l.showPopup,"onUpdate:visible":e[7]||(e[7]=t=>l.showPopup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}const RF={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},MF={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},NF=(0,s._)("h1",{class:"tw-text-lg"},"Create Order",-1),HF={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},YF={class:"md:tw-col-span-6 tw-col-span-12"},ZF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),KF={class:"md:tw-col-span-6 tw-col-span-12"},BF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),QF={class:"md:tw-col-span-6 tw-col-span-12"},JF=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),GF=["value"],XF={class:"md:tw-col-span-6 tw-col-span-12"},tO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),eO={class:"md:tw-col-span-12 tw-col-span-12"},rO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Price",-1),aO={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},sO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse",-1),oO=(0,s._)("option",{value:0}," Select ",-1),lO=["value"],iO={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},nO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product",-1),dO=(0,s._)("option",{value:0}," Select ",-1),wO=["value"],cO={class:"md:tw-col-span-6 tw-col-span-12"},uO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variations",-1),pO=(0,s._)("option",{value:0}," Select ",-1),mO=["value"],gO={class:"md:tw-col-span-6 tw-col-span-12"},hO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),fO={class:"md:tw-col-span-6 tw-col-span-12"},yO={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},xO={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},bO=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),vO={class:"tw-flex tw-flex-col tw-justify-center"},_O={class:"md:tw-col-span-6 tw-col-span-12"},kO={key:0,class:"md:tw-col-span-12 tw-col-span-12"},CO={class:"tw-max-w-full tw-overflow-auto"},DO={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},SO={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},zO={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},UO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},PO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},LO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},qO={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},$O={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},AO={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},WO=(0,s._)("span",{class:"text-white"}," Cancel ",-1),EO=(0,s._)("span",{class:"text-white"}," Save ",-1);function TO(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{onCancel:e[12]||(e[12]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",RF,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",MF,[NF,(0,s._)("div",HF,[(0,s._)("div",YF,[ZF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",KF,[BF,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",QF,[JF,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,GF)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",XF,[tO,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",eO,[rO,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[4]||(e[4]=t=>l.sale.price=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])]),(0,s._)("div",aO,[sO,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.warehouse_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[oO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.warehouses,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,lO)))),128))],512),[[a.bM,l.warehouse_id]])]),(0,s._)("div",iO,[nO,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.product_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[dO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,wO)))),128))],512),[[a.bM,l.product_id]])]),(0,s._)("div",cO,[uO,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.product_variation_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[pO,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),9,mO)))),128))],512),[[a.bM,l.product_variation_id]])]),(0,s._)("div",gO,[hO,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>l.quantity=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.quantity]])]),(0,s._)("div",fO,[(0,s._)("div",yO,[(0,s._)("label",xO,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),bO]),(0,s._)("label",vO,[(0,s._)("span",{class:(0,at.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),(0,s._)("div",_O,[(0,s._)("button",{onClick:e[10]||(e[10]=(...t)=>i.addItem&&i.addItem(...t)),class:"tw-block tw-ml-auto tw-py-1 tw-px-4 tw-rounded tw-bg-emerald-500 tw-text-white"}," Add ")]),l.items.length?((0,s.wg)(),(0,s.iD)("div",kO,[(0,s._)("div",CO,[(0,s._)("table",DO,[(0,s._)("thead",SO,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","variation","quantity","warehouse","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",zO,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("th",UO,(0,at.zw)(t.product.name),1),(0,s._)("th",PO,(0,at.zw)(t.product_variation.size)+" / "+(0,at.zw)(t.product_variation.color),1),(0,s._)("th",LO,(0,at.zw)(t.quantity),1),(0,s._)("th",qO,(0,at.zw)(t.product_variation.warehouse.name),1),(0,s._)("th",$O,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])):(0,s.kq)("",!0)]),(0,s._)("div",AO,[(0,s.Wm)(st.T,{onClick:e[11]||(e[11]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[WO])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[EO])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var FO={props:["visible"],data(){return{isLoading:!1,isLoaded:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],sale:{fullname:"",phone:"",city:"",adresse:"",price:0,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0}},computed:{products(){return this.$store.getters["product/products"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return 0==this.warehouse_id?[]:this.products.filter((t=>t.variations.some((t=>t.warehouse_id==this.warehouse_id))))},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,orderItems:this.items,counts_from_warehouse:!0};na.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sale created successfully"}),this.$store.dispatch("sale/add",t.data.data.sale))}),this.$handleApiError).finally((()=>this.isLoading=!1))},deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},addItem(){if([this.warehouse_id,this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:0};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.item_id+=1},getProducts(){la.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("product/setProducts",t.data.data.products)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}},mounted(){this.getProducts(),this.sale.city=this.cities[0].name||1}};const OO=(0,p.Z)(FO,[["render",TO]]);var VO=OO;const IO={key:0,class:"md:tw-w-[80%] tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},jO={key:1,class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[950px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},RO=(0,s._)("h1",{class:"tw-text-lg"},"Update Order",-1),MO={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},NO={class:"md:tw-col-span-6 tw-col-span-12"},HO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Client",-1),YO={class:"md:tw-col-span-6 tw-col-span-12"},ZO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Phone",-1),KO={class:"md:tw-col-span-6 tw-col-span-12"},BO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"City",-1),QO=["value"],JO=["value"],GO={class:"md:tw-col-span-6 tw-col-span-12"},XO=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Address",-1),tV={class:"md:tw-col-span-12 tw-col-span-12 tw-mt-3 tw-border-t tw-border-neutral-300 tw-pt-3"},eV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Confirmation",-1),rV={class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},aV={class:"tw-col-span-12"},sV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Note:",-1),oV={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-3 tw-my-3"},lV={class:"tw-col-span-12 md:tw-col-span-4"},iV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Date:",-1),nV={class:"tw-col-span-12 md:tw-col-span-8"},dV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Reported Note:",-1),wV={class:"md:tw-col-span-6 tw-col-span-12"},cV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Affectation",-1),uV={class:"md:tw-col-span-6 tw-col-span-12"},pV=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Upsell",-1),mV=["value"],gV={class:"md:tw-col-span-6 tw-col-span-12 tw-mt-4"},hV={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},fV={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit -tw-rotate-90 tw-scale-75"},yV=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),xV={class:"tw-flex tw-flex-col tw-justify-center"},bV=(0,s._)("p",{class:"tw-col-span-12 tw-mt-5 tw-mb-2"},"Order Items",-1),vV={key:1,class:"tw-col-span-12 tw-rounded tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},_V={key:2,class:"md:tw-col-span-12 tw-col-span-12"},kV={class:"tw-max-w-full tw-overflow-auto"},CV={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},DV={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},SV={class:"tw-mx-auto tw-w-[50px] tw-h-[35px] tw-shadow tw-shadow-gray-200 tw-rounded tw-overflow-hidden tw-cursor-pointer"},zV=["src"],UV={scope:"row",class:"tw-pr-6 tw-py-2 tw-font-medium tw-text-gray-900"},PV=["onUpdate:modelValue"],LV=(0,s._)("option",{value:0},"Select",-1),qV=["value"],$V={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},AV=["disabled","onUpdate:modelValue"],WV=(0,s._)("option",{value:0},"Select",-1),EV=["value"],TV={key:0},FV={key:1},OV={key:2},VV={key:3},IV=["value"],jV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},RV={class:"md:tw-col-span-6 tw-col-span-12"},MV=["onUpdate:modelValue"],NV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},HV={key:0},YV={key:1,class:"md:tw-col-span-6 tw-col-span-12"},ZV=["onUpdate:modelValue"],KV={scope:"row",class:"tw-px-6 tw-py-2 tw-font-medium tw-text-gray-900"},BV={class:"tw-w-full tw-col-span-12 tw-flex tw-justify-end tw-mt-3"},QV=(0,s._)("span",{class:"!tw-text-sm !tw-capitalize"},"Add",-1),JV={class:"md:tw-col-span-12 tw-col-span-12"},GV={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},XV=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),tI={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},eI=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-mb-2 tw-whitespace-nowrap"},"Price: ",-1),rI={class:"md:tw-col-span-12 tw-col-span-12 tw-grid tw-grid-cols-12 tw-mt-5 tw-gap-5"},aI=(0,s._)("div",{class:"md:tw-col-span-6 tw-col-span-12"},null,-1),sI={class:"md:tw-col-span-6 tw-col-span-12 tw-flex tw-items-center tw-mb-2 tw-gap-5 tw-justify-end"},oI=(0,s._)("div",{class:"tw-font-medium tw-text-zinc-700 tw-whitespace-nowrap"},"Total Price: ",-1),lI={class:"tw-text-xl tw-text-green-500 tw-font-bold tw-px-2 tw-py-1 tw-rounded tw-bg-green-100"},iI={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},nI=(0,s._)("span",{class:"text-white"}," Cancel ",-1),dI=(0,s._)("span",{class:"text-white"}," Create ",-1);function wI(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("AddOrderConfirmation"),w=(0,s.up)("AddOrderAffectation"),c=(0,s.up)("ProductOffers"),u=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{onCancel:e[14]||(e[14]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[i.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",IO,[(0,s.Wm)(n)])),i.isLoaded?((0,s.wg)(),(0,s.iD)("div",jO,[RO,(0,s._)("div",MO,[(0,s._)("div",NO,[HO,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sale.fullname=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.fullname]])]),(0,s._)("div",YO,[ZO,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sale.phone=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.phone]])]),(0,s._)("div",KO,[BO,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.sale.city=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[(0,s._)("option",{disabled:"",value:l.sale.city},(0,at.zw)(l.sale.city),9,QO),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,JO)))),128))],512),[[a.bM,l.sale.city]])]),(0,s._)("div",GO,[XO,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.sale.adresse=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.adresse]])]),(0,s._)("div",tV,[eV,(0,s.Wm)(d,{order:l.sale,id:l.sale.id,confirmation:l.sale.confirmation,"onUpdate:confirmation":e[4]||(e[4]=t=>l.sale.confirmation=t),onConfirmed:e[5]||(e[5]=t=>l.sale.note=t),onReported:i.handleReported,onChange:i.handleConfirmationChange},null,8,["order","id","confirmation","onReported","onChange"]),(0,s._)("div",rV,[(0,s._)("div",aV,[sV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[6]||(e[6]=t=>l.sale.note=t)},null,512),[[a.nr,l.sale.note]])])]),"reporter"==l.sale.confirmation&&l.sale.reported_agente_date?((0,s.wg)(),(0,s.iD)("div",oV,[(0,s._)("div",lV,[iV,(0,s._)("div",null,(0,at.zw)(l.sale.reported_agente_date.split("T")[0]),1)]),(0,s._)("div",nV,[dV,(0,s.wy)((0,s._)("textarea",{class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500","onUpdate:modelValue":e[7]||(e[7]=t=>l.sale.reported_agente_note=t)},null,512),[[a.nr,l.sale.reported_agente_note]])])])):(0,s.kq)("",!0)]),(0,s._)("div",wV,[cV,(0,s.Wm)(w,{"product-ids":i.product_ids,items:l.items,"onUpdate:items":e[8]||(e[8]=t=>l.items=t),order:l.sale,confirmation:l.sale.confirmation,affectation:l.sale.affectation,"onUpdate:affectation":e[9]||(e[9]=t=>l.sale.affectation=t),id:l.sale.id},null,8,["product-ids","items","order","confirmation","affectation","id"])]),(0,s._)("div",uV,[pV,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.sale.upsell=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id},(0,at.zw)(t.name),9,mV)))),128))],512),[[a.bM,l.sale.upsell]])]),(0,s.kq)("",!0),(0,s._)("div",gV,[(0,s._)("div",hV,[(0,s._)("label",fV,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=t=>l.sale.counts_from_warehouse=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sale.counts_from_warehouse]]),yV]),(0,s._)("label",xV,[(0,s._)("span",{class:(0,at.C_)([[l.sale.counts_from_warehouse?"tw-text-orange-500":"tw-text-neutral-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Warehouse",2),(0,s._)("span",{class:(0,at.C_)([[l.sale.counts_from_warehouse?"tw-text-neutral-500":"tw-text-orange-500"],"tw-ml-1 tw-text-sm tw-font-medium tw-duration-300"])},"Delivery",2)])])]),bV,l.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",vV," No Order items ")),l.items.length?((0,s.wg)(),(0,s.iD)("div",_V,[(0,s._)("div",kV,[((0,s.wg)(),(0,s.iD)("table",{key:l.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",CV,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",DV,(0,at.zw)(t),1)],2))),64))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:t.product.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[((0,s.wg)(),(0,s.iD)("th",{scope:"row",class:"tw-px-2 tw-py-2",key:t.product.id},[(0,s._)("div",SV,[i.product_images[e]?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"tw-w-full tw-h-full tw-object-contain",src:l.serverUrl+"storage/"+i.product_images[e]},null,8,zV)):(0,s.kq)("",!0)])])),(0,s._)("th",UV,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e=>t.product.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[LV,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filtredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,qV)))),128))],8,PV),[[a.bM,t.product.id]])])])]),(0,s._)("th",$V,[(0,s._)("div",null,[0!=t.product.id?(0,s.wy)(((0,s.wg)(),(0,s.iD)("select",{key:0,disabled:1==i.getVariations(t.product)?.variations?.length,"onUpdate:modelValue":e=>t.product_variation.id=e,class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},[WV,i.getVariations(t.product)?.variations?.length>1?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(i.getVariations(t.product)?.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},[t.size||t.color?t.size&&"-"!=t.size&&t.color&&"-"!=t.color?((0,s.wg)(),(0,s.iD)("p",FV,(0,at.zw)(t.size)+" / "+(0,at.zw)(t.color),1)):t.size&&"-"!=t.size?((0,s.wg)(),(0,s.iD)("p",OV,(0,at.zw)(t.size),1)):t.color?((0,s.wg)(),(0,s.iD)("p",VV,(0,at.zw)(t.color),1)):(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",TV,"-"))],8,EV)))),128)):((0,s.wg)(),(0,s.iD)("option",{key:1,value:i.getVariations(t.product)?.variations[0]?.id}," Default ",8,IV))],8,AV)),[[a.bM,t.product_variation.id]]):(0,s.kq)("",!0)])]),(0,s._)("th",jV,[(0,s._)("div",RV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.quantity=e,placeholder:"Quantity",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-[80px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,MV),[[a.nr,t.quantity]])])]),(0,s._)("th",NV,[(0,s._)("div",null,[null==t.price?((0,s.wg)(),(0,s.iD)("div",HV," - ")):((0,s.wg)(),(0,s.iD)("div",YV,[(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e=>t.price=e,placeholder:"Price",class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-min-w-[100px] tw-max-w-[150px] tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,8,ZV),[[a.nr,t.price]])]))])]),(0,s._)("th",KV,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:e=>i.deleteItem(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])]))])])):(0,s.kq)("",!0),(0,s._)("div",BV,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:i.addNewRow,class:"mr-2 !tw-px-1 !tw-py-1 !tw-pr-2 tw-flex tw-items-center tw-gap-2","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),QV])),_:1},8,["onClick"])])]),(0,s._)("div",JV,[(0,s.Wm)(c,{"product-ids":i.product_ids},null,8,["product-ids"])]),(0,s._)("div",GV,[XV,(0,s._)("div",tI,[eI,(0,s.wy)((0,s._)("input",{type:"number","onUpdate:modelValue":e[13]||(e[13]=t=>l.sale.price=t),class:"tw-py-1 tw-max-w-[100px] tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sale.price]])])]),(0,s._)("div",rI,[aI,(0,s._)("div",sI,[oI,(0,s._)("div",lI,(0,at.zw)(l.currency)+" "+(0,at.zw)(i.total_price),1)])])]),(0,s._)("div",iI,[(0,s.Wm)(st.T,{onClick:i.handleCancel,color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[nI])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[dI])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}var cI={components:{AddOrderConfirmation:Kc,AddOrderAffectation:ru,ProductOffers:yu},props:["visible","order"],data(){return{upsells:rd,serverUrl:d,currency:c,isLoading:!1,isAddItem:!1,product_id:0,product_variation_id:0,warehouse_id:0,quantity:1,item_id:1,items:[],reported_date:null,price:0,sale:{fullname:"",phone:"",city:"",adresse:"",price:0,upsell:null,confirmation:null,counts_from_warehouse:!0}}},watch:{product_id(){this.product_variation_id=0},warehouse_id(){this.product_id=0,this.product_variation_id=0},"sale.confirmation":{deep:!0,handler(t){"confirmer"!=t&&(this.sale.affectation=null,this.sale.delivery=null)}},product_ids:{deep:!0,handler(t,e){this.items.map(((r,a)=>{if(0==r.product.id)return r;const s=this.getVariations(r.product)?.variations;return e[a]==t[r]||s.some((t=>t.id==r.product_variation.id))||(r.product_variation={id:0},r.product_variation_id=0),1==s?.length&&(r.product_variation=s[0],r.product_variation_id=s[0].id),r}))}}},computed:{products(){return this.$store.getters["product/products"]},product_images(){return this.items.map((t=>0==t.product.id?null:this.products.find((e=>e.id==t.product.id))?.image))},product_ids(){return this.items.map((t=>t.product.id))},isLoaded(){return this.$store.getters["product/fetched"]},warehouses(){const t=this.products.flatMap((t=>t.variations.map((t=>t.warehouse)))),e=t.map((t=>t.id));return t.filter(((t,r)=>e.indexOf(t.id)===r))},filtredProducts(){return this.products},cities(){return this.$store.getters["city/cities"]},variations(){return 0==this.product_id?[]:this.products.find((t=>t.id==this.product_id)).variations},selectedProduct(){return this.products.find((t=>t.id==this.product_id))},total_price:{get(){const t=this.items.reduce(((t,e)=>t+(e.price?e.price:0)),0);return parseFloat(this.sale.price?this.sale.price:0)+parseFloat(t)}},isItemsValid(){if(0==this.items.length)return!1;const t=this.items.some((t=>0==t.product.id||0==t.product_variation_id||0==t.quantity));return!t},isFormValid(){return!!this.sale.fullname&&!!this.sale.phone&&!!this.sale.adresse&&this.items.length>0&&!!this.sale.city}},methods:{deleteItem(t){this.items=this.items.filter((e=>e.id!=t))},handleConfirmationChange(){"confirmer"!=this.sale.confirmation&&(this.sale.affectation=null)},addNewRow(){const t={id:this.item_id,product_id:0,product_ref:null,product:{id:0},product_variation:{id:0},product_variation_id:0,quantity:0,price:0};this.items.push(t)},getVariations(t){return this.products.find((e=>e.id==t.id))},formatItems(){const t=this.items.map((t=>{const e=this.products.find((e=>e.id==t.product.id));if(!e)return t;const r=e.variations.find((e=>e.id==t.product_variation.id));return r?{...t,product:e,product_id:e.id,product_variation:r,product_variation_id:r.id,product_ref:e.ref}:t}));return this.items=t,t},addItem(){if([this.product_id,this.product_variation_id].includes(0))return this.$alert({title:"Choose a product",type:"warning"}),!1;const t=this.filtredProducts.find((t=>t.id==this.product_id)),e=this.variations.find((t=>t.id==this.product_variation_id)),r={id:this.item_id,product_id:t.id,product_ref:t.ref,product:t,product_variation:e,product_variation_id:e.id,quantity:this.quantity,price:this.price};this.items.push(r),this.product_id=0,this.product_variation_id=0,this.price=0,this.item_id+=1},create(){if(this.formatItems(),!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;if("annuler"==this.sale.confirmation&&!this.sale.note)return this.$alert({type:"warning",title:"Add Cancellation note."}),!1;if(!this.isItemsValid)return this.$alert({type:"warning",title:"Order Items are not valid"}),!1;this.isLoading=!0;const t={fullname:this.sale.fullname,phone:this.sale.phone,city:this.sale.city,price:this.sale.price,adresse:this.sale.adresse,upsell:this.sale.upsell,counts_from_warehouse:this.sale.counts_from_warehouse,orderItems:this.items,confirmation:this.sale.confirmation,note:this.sale.note,affectation:this.sale.affectation,reported_agente_note:this.sale.reported_agente_note,reported_agente_date:this.sale.reported_agente_date};this.isLoading=!0,na.create(t).then((t=>{"SALE_ADDED"==t.data.code&&(this.showUpdatePopup=!1,this.$alert({type:"success",title:"New Order Added"}),this.$store.dispatch("sale/add",t.data.data.sale),this.$emit("update:visible",!1))})).catch((t=>{this.$handleApiError(t)})).finally((()=>{this.isLoading=!1}))},handleCancel(){this.$emit("update:visible",!1)},handleReported(t){this.sale.reported_agente_note=t.reported_agente_note,this.sale.reported_agente_date=t.reported_agente_date},checkVariant(t,e){const r=this.products.find((e=>e.id==t));if(!r)return{exists:!1};let a=r.variations.find((t=>t.id==e));return a||(a=r.variations.length>0?r.variations[0]:null),{exists:!0,variation:a}},getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){}};const uI=(0,p.Z)(cI,[["render",wI]]);var pI=uI;const mI={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},gI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},hI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},fI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},yI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},xI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},bI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},vI={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},_I={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"};function kI(t,e,r,a,o,l){const i=(0,s.up)("DateFilter"),n=(0,s.up)("UpsellFilter"),d=(0,s.up)("ConfirmationFilter"),w=(0,s.up)("AffectationFilter"),c=(0,s.up)("AgenteFilter"),u=(0,s.up)("DeliveryFilter"),p=(0,s.up)("ProductFilter"),m=(0,s.up)("ExcelExport");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",mI,[(0,s._)("div",gI,[(0,s.Wm)(i,{filter:o.config.dateFilter,"onUpdate:filter":e[0]||(e[0]=t=>o.config.dateFilter=t)},null,8,["filter"])]),(0,s._)("div",hI,[(0,s.Wm)(n,{filter:o.config.upsellFilter,"onUpdate:filter":e[1]||(e[1]=t=>o.config.upsellFilter=t)},null,8,["filter"])]),(0,s._)("div",fI,[(0,s.Wm)(d,{filter:o.config.confirmationFilter,"onUpdate:filter":e[2]||(e[2]=t=>o.config.confirmationFilter=t)},null,8,["filter"])]),(0,s._)("div",yI,[(0,s.Wm)(w,{filter:o.config.affectationFilter,"onUpdate:filter":e[3]||(e[3]=t=>o.config.affectationFilter=t)},null,8,["filter"])]),(0,s._)("div",xI,[(0,s.Wm)(c,{filter:o.config.agenteFilter,"onUpdate:filter":e[4]||(e[4]=t=>o.config.agenteFilter=t)},null,8,["filter"])]),(0,s._)("div",bI,[(0,s.Wm)(u,{filter:o.config.deliveryFilter,"onUpdate:filter":e[5]||(e[5]=t=>o.config.deliveryFilter=t)},null,8,["filter"])]),(0,s._)("div",vI,[(0,s.Wm)(p,{filter:o.config.productFilter,"onUpdate:filter":e[6]||(e[6]=t=>o.config.productFilter=t)},null,8,["filter"])]),(0,s._)("div",_I,[(0,s.Wm)(m,{selected:r.selected,filtered:r.filtered,sales:r.sales},null,8,["selected","filtered","sales"])])])])}const CI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),DI=["onClick"];function SI(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[CI,(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,DI)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var zI={data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,jo.Z)(new Date),(0,Ro.Z)(new Date)]},{label:"Last month",range:[(0,jo.Z)((0,Mo.Z)(new Date,1)),(0,Ro.Z)((0,Mo.Z)(new Date,1))]},{label:"This year",range:[(0,No.Z)(new Date),(0,Ho.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const UI=(0,p.Z)(zI,[["render",SI]]);var PI=UI;const LI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Upsell",-1),qI={class:"tw-relative"},$I=(0,s._)("option",{value:"all"},"Select",-1),AI=(0,s._)("option",{value:"oui"},"Oui",-1),WI=(0,s._)("option",{value:"non"},"Non",-1),EI=[$I,AI,WI];function TI(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[LI,(0,s._)("div",qI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},EI,512),[[a.bM,l.value]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var FI={data(){return{value:"all"}},watch:{value(t){this.$emit("update:filter",t)}}};const OI=(0,p.Z)(FI,[["render",TI]]);var VI=OI;const II=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),jI={class:"tw-relative"},RI=["value"];function MI(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[II,(0,s._)("div",jI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value?t.value:"all",key:t.id},(0,at.zw)(t.value?t.name:"Select"),9,RI)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var NI={props:["filter"],data(){return{deliveryFilter:"all",deliveryStatus:ad}},watch:{deliveryFilter(t){this.$emit("update:filter",t)}}};const HI=(0,p.Z)(NI,[["render",MI]]);var YI=HI;const ZI=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Confirmation",-1),KI={class:"tw-relative"},BI=(0,s._)("option",{value:"all"}," Select ",-1),QI=["value"];function JI(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[ZI,(0,s._)("div",KI,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.confirmationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[BI,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value},(0,at.zw)(t.name),9,QI)))),128))],512),[[a.bM,l.confirmationFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var GI={props:["filter"],data(){return{confirmationFilter:"all",confirmations:Xn}},watch:{confirmationFilter(t){this.$emit("update:filter",t)}}};const XI=(0,p.Z)(GI,[["render",JI]]);var tj=XI;const ej=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Affecté",-1),rj={class:"tw-relative"},aj=(0,s._)("option",{value:"all"},"Select",-1),sj=(0,s._)("option",{value:null},"Without delivery",-1),oj=["value"];function lj(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[ej,(0,s._)("div",rj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.affectationFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[aj,sj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,oj)))),128))],512),[[a.bM,l.affectationFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var ij={props:["filter"],data(){return{affectationFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))}},watch:{affectationFilter(t){this.$emit("update:filter",t)}}};const nj=(0,p.Z)(ij,[["render",lj]]);var dj=nj;const wj=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Agente",-1),cj={class:"tw-relative"},uj=(0,s._)("option",{value:"all"},"Select",-1),pj=(0,s._)("option",{value:null},"Without agente",-1),mj=["value"];function gj(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[wj,(0,s._)("div",cj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.agenteFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[uj,pj,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.agentes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,mj)))),128))],512),[[a.bM,l.agenteFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])}var hj={props:["filter"],data(){return{agenteFilter:"all"}},computed:{users(){return this.$store.getters["user/users"]},agentes(){return this.users.filter((t=>2==t.role.id))}},watch:{agenteFilter(t){this.$emit("update:filter",t)}}};const fj=(0,p.Z)(hj,[["render",gj]]);var yj=fj;const xj=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Product",-1),bj={key:0},vj={key:1,class:"tw-relative"},_j=(0,s._)("option",{value:"all"},"Select",-1),kj=["value"];function Cj(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[xj,i.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bj,[(0,s._)("div",null,[(0,s.Wm)(lt.t,{class:"tw-text-orange-500 tw-animate-spin tw-text-lg tw-"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})])])),i.fetched?((0,s.wg)(),(0,s.iD)("div",vj,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.productFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[_j,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,kj)))),128))],512),[[a.bM,l.productFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])):(0,s.kq)("",!0)])}var Dj={props:["filter"],data(){return{productFilter:"all"}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},watch:{productFilter(t){this.$emit("update:filter",t)}},methods:{getProducts(){la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}},mounted(){this.fetched||this.getProducts(),console.log(this.products)}};const Sj=(0,p.Z)(Dj,[["render",Cj]]);var zj=Sj;function Uj(t,e,r,{confirmationFilter:a,affectationFilter:s,upsellFilter:o,deliveryFilter:l,agenteFilter:i,dateFilter:n,productFilter:d}){const w=n[0],c=n[1];return t.filter((t=>{const n=new Date(t.created_at);if(""!=r&&r!=t.id)return!1;if("all"!==a&&t.confirmation!==a)return!1;if("all"!==s&&t.affectation!=s)return!1;if("all"!==o&&t.upsell!=o)return!1;if("all"!==l&&t.delivery!=l)return!1;if("all"!==i&&t.agente_id!=i)return!1;const u=((t,e)=>{for(const r in t)if(!["created_at","updated_at","sheets_id","reported_agente_note","reported_agente_note","reported_agente_date","reported_delivery_note","reported_delivery_date"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(t,e);if(!u)return!1;if("all"!==d&&!t.items.some((t=>t.product_id==d)))return!1;const p=n.getDate(),m=n.getMonth(),g=n.getFullYear();if(w){const t=w.getDate(),e=w.getMonth(),r=w.getFullYear();if(g<r||g===r&&m<e||g===r&&m===e&&p<t)return!1}if(c){const t=c.getDate(),e=c.getMonth(),r=c.getFullYear();if(g>r||g===r&&m>e||g===r&&m===e&&p>t)return!1}return!0}))}function Pj(t){return{id:1,title:"New",value:t.filter((t=>!t.confirmation||"new"==t.confirmation)).length,pourcentage:(100*t.filter((t=>!t.confirmation||"new"==t.confirmation)).length/t.length).toFixed(2),color:"primary-green",icon:"mdi mdi-new-box"}}function Lj(t){return{id:3,title:"Confirmed",value:t.filter((t=>"confirmer"==t.confirmation)).length,pourcentage:(100*t.filter((t=>"confirmer"==t.confirmation)).length/t.length).toFixed(2),color:"deep-purple-accent-2",icon:"mdi-phone-check"}}function qj(t){return{id:4,title:"Delivered",value:t.filter((t=>"livrer"==t.delivery)).length,pourcentage:(100*t.filter((t=>"livrer"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"primary-blue",icon:"mdi-account-check-outline"}}function $j(t){return{id:5,title:"Shipped",value:t.filter((t=>"expidier"==t.delivery)).length,pourcentage:(100*t.filter((t=>"expidier"==t.delivery)).length/t.filter((t=>"confirmer"==t.confirmation)).length).toFixed(2),color:"red",icon:"mdi-truck"}}const Aj=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Export",-1),Wj={class:"tw-relative tw-flex tw-items-center tw-gap-2 tw-justify-between"},Ej={class:"tw-relative tw-w-full"},Tj=(0,s._)("option",{value:"all"},"All Sales",-1),Fj=(0,s._)("option",{value:"selected"},"Selected Sales",-1),Oj=(0,s._)("option",{value:"filtered"},"Filtered Sales",-1),Vj=[Tj,Fj,Oj];function Ij(t,e,r,o,l,i){const n=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",null,[Aj,(0,s._)("div",Wj,[(0,s._)("div",Ej,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.selection=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},Vj,512),[[a.bM,l.selection]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})]),(0,s.Wm)(n,{delimiter:";",data:i.toImport},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{onClick:i.handleImport,icon:"",rounded:"lg",variant:"flat",size:"x-small",color:"green",class:"text-white tw-mr-2"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",icon:"mdi-download",size:"x-large"})])),_:1},8,["onClick"])])),_:1},8,["data"])])])}var jj={props:["selected","filtered","sales"],data(){return{selection:"all"}},computed:{toImport(){const t=this.data.map((t=>({...t}))),e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));return a.map((t=>(delete t["items"],t)))},data(){switch(this.selection){case"selected":return this.selected;case"filtered":return this.filtered;default:return this.sales}}},methods:{handleImport(){0==this.data.length&&this.$alert({title:"No Data To Export",type:"warning"})}}};const Rj=(0,p.Z)(jj,[["render",Ij]]);var Mj=Rj,Nj={components:{DateFilter:PI,UpsellFilter:VI,DeliveryFilter:YI,ConfirmationFilter:tj,AffectationFilter:dj,AgenteFilter:yj,ProductFilter:zj,ExcelExport:Mj},props:["sales","filtered","search","searchId","selected"],data(){return{config:{confirmationFilter:"all",affectationFilter:"all",upsellFilter:"all",deliveryFilter:"all",agenteFilter:"all",productFilter:"all",dateFilter:[null,null]}}},computed:{results(){return Uj(this.sales,this.search,this.searchId,this.config)}},watch:{results(t){this.$emit("update:filtered",t)}},mounted(){this.$emit("update:filtered",this.sales)}};const Hj=(0,p.Z)(Nj,[["render",kI]]);var Yj=Hj;const Zj={class:"mb-5 tw-border-b tw-border-solid tw-pb-5 tw-border-neutral-200"},Kj={class:"tw-grid tw-grid-cols-4 lg:tw-grid-cols-4 tw-gap-2"},Bj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},Qj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},Jj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-2"},Gj={class:"lg:tw-col-span-1 md:tw-col-span-4 tw-col-span-4"};function Xj(t,e,r,a,o,l){const i=(0,s.up)("DashItem");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zj,[(0,s._)("div",Kj,[(0,s._)("div",Bj,[(0,s.Wm)(i,{dash:l.newSales},null,8,["dash"])]),(0,s._)("div",Qj,[(0,s.Wm)(i,{dash:l.confirmedSales},null,8,["dash"])]),(0,s._)("div",Jj,[(0,s.Wm)(i,{dash:l.deliveredSales},null,8,["dash"])]),(0,s._)("div",Gj,[(0,s.Wm)(i,{dash:l.shippedSales},null,8,["dash"])])])])])}const tR={class:"tw-flex tw-justify-between tw-items-center tw-w-full tw-h-full pa-3 px-4"},eR={class:"tw-flex tw-flex-col tw-justify-center tw-w-full tw-h-full tw-text-white"},rR={class:"tw-text-xl tw-font-bold"},aR={class:"tw-flex tw-items-center tw-gap-1 tw-w-full tw-h-full tw-text-white"},sR={class:"tw-text-sm"},oR={class:"rounded-circle tw-w-fit tw-mr-3"};function lR(t,e,r,a,o,l){const i=(0,s.up)("number");return(0,s.wg)(),(0,s.j4)(Pa.C,{class:"tw-rounded-lg",color:r.dash.color,height:"70"},{default:(0,s.w5)((()=>[(0,s._)("div",tR,[(0,s._)("div",eR,[(0,s._)("p",rR,(0,at.zw)(isNaN(r.dash.pourcentage)?"0.00":r.dash.pourcentage)+" "+(0,at.zw)(r.symbol),1),(0,s._)("span",aR,[r.numbers?((0,s.wg)(),(0,s.j4)(i,{key:0,class:"tw-font-bold",ref:"number1",from:0,to:r.dash.value,duration:1,delay:0,easing:"Power.easeOut"},null,8,["to"])):(0,s.kq)("",!0),(0,s._)("p",sR,(0,at.zw)(r.dash.title),1)])]),(0,s._)("div",oR,[(0,s.Wm)(lt.t,{color:"white",size:"large",class:"md:tw-scale-[1.8] tw-scale-[1.3]",icon:r.dash.icon},null,8,["icon"])])])])),_:1},8,["color"])}var iR={props:{dash:{required:!0},symbol:{required:!1,default:"%"},numbers:{required:!1,default:!0}}};const nR=(0,p.Z)(iR,[["render",lR]]);var dR=nR,wR={components:{DashItem:dR},props:["sales"],computed:{newSales(){return Pj(this.sales)},confirmedSales(){return Lj(this.sales)},deliveredSales(){return qj(this.sales)},shippedSales(){return $j(this.sales)}}};const cR=(0,p.Z)(wR,[["render",Xj]]);var uR=cR,pR={components:{SalesTable:zu,AddSale:VO,SalesAnalytics:uR,IndexFilter:Yj,NewAddSale:pI},data(){return{localUrl:n,isLoaded:!1,isLoadingReset:!1,showFilters:!1,isButtonDisabled:!0,filteredSales:[],search:"",searchId:"",selected:[],showPopup:!1}},computed:{fetched(){return this.$store.getters["sale/fetched"]},users(){return this.$store.getters["user/users"]},deliveries(){return this.users.filter((t=>3==t.role.id))},agentes(){return this.users.filter((t=>2==t.role.id))},sales(){return this.$store.getters["sale/sales"]},cities(){return this.$store.getters["city/cities"]},selectedSales(){return this.sales.filter((t=>this.selected.includes(t.id)))}},methods:{handleSelected(t){this.selected=t,this.selected.length>0?this.isButtonDisabled=!1:this.isButtonDisabled=!0},async getDeliveries(){await et.deliveries().then((t=>{this.$store.dispatch("user/setDeliveries",t.data.data)}),this.$handleApiError)},async getUsers(){await et.all().then((t=>{this.$store.dispatch("user/setUsers",t.data.data.users)}),this.$handleApiError)},getSales(){return na.all().then((t=>{if("SUCCESS"==t?.data.code){const e=t.data.data.orders;this.$store.dispatch("sale/setSales",e),this.$store.dispatch("sale/setFetched",!0)}})).catch(this.$handleApiError)},getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))},getCities(){if(0==this.cities.length)return et.cities().then((t=>{const e=t.data.data;this.$store.dispatch("city/setCities",e)}))},handleReset(){this.isLoadingReset=!0,0!=this.selected.length&&na.resetSale(this.selected).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("sale/resetSales",this.selected),this.selected=[])})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoadingReset=!1))}},async mounted(){0==this.deliveries.length&&(await this.getDeliveries(),this.getUsers()),this.fetched&&(this.isLoaded=!0),this.fetched&&(this.getProducts(),this.getCities())}};const mR=(0,p.Z)(pR,[["render",jF]]);var gR=mR;const hR={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},fR={class:"tw-px-3"},yR={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},xR={class:"tw-flex tw-items-center tw-gap-x-3"},bR=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),vR={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},_R=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of all orders. ",-1),kR={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},CR=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),DR=(0,s._)("span",null,"Create",-1),SR=[CR,DR],zR={class:"tw-overflow-hidden tw-col-span-1"},UR={key:0};function PR(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",hR,[(0,s._)("section",fR,[(0,s._)("div",yR,[(0,s._)("div",null,[(0,s._)("div",xR,[bR,(0,s._)("span",vR,(0,at.zw)(o.totalOrders)+" order",1)]),_R]),(0,s._)("div",kR,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},SR)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),"search-by-field":o.searchByField,"onUpdate:search-by-field":e[2]||(e[2]=t=>o.searchByField=t),filters:o.filters,"onUpdate:filters":e[3]||(e[3]=t=>o.filters=t),onFilter:e[4]||(e[4]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","search-by-field","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",zR,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[6]||(e[6]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",UR,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[7]||(e[7]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const LR={class:"tw-flex tw-flex-col"},qR={class:"tw-overflow-x-auto"},$R={class:"tw-inline-block tw-min-w-full tw-align-middle"},AR={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},WR={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},ER={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},TR={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},FR={class:"tw-max-w-[25px]"},OR={class:"tw-inline-flex tw-items-center"},VR={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},IR=["checked"],jR=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),RR=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),MR={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},NR=(0,s._)("span",null,"Created",-1),HR=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),YR=[NR,HR],ZR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Seller ",-1),KR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),BR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),QR=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),JR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),GR=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),XR=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),tM=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),eM=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),rM={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},aM={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},sM=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),oM=[sM],lM={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},iM={colspan:"11"},nM={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},dM=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),wM=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),cM=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),uM=[wM,cM],pM={class:"tw-mt-6"};function mM(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",LR,[(0,s._)("div",qR,[(0,s._)("div",$R,[(0,s._)("div",AR,[(0,s._)("table",WR,[(0,s._)("thead",ER,[(0,s._)("tr",null,[(0,s._)("th",TR,[(0,s._)("div",FR,[(0,s._)("div",OR,[(0,s._)("label",VR,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,IR),jR])])])]),RR,(0,s._)("th",MR,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},YR)]),ZR,KR,BR,QR,JR,GR,XR,tM,eM])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",rM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",aM,oM)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",lM,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",iM,[(0,s._)("div",nM,[dM,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},uM)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",pM,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const gM={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},hM={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},fM={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},yM={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},xM=["disabled"],bM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),vM=(0,s._)("span",null," previous ",-1),_M=[bM,vM],kM=["disabled"],CM=(0,s._)("span",null," Next ",-1),DM=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),SM=[CM,DM];function zM(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",gM,[(0,s._)("div",hM,[(0,s.Uk)(" Page "),(0,s._)("span",fM,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",yM,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},_M,10,xM),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},SM,10,kM)])])])}var UM={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const PM=(0,p.Z)(UM,[["render",zM]]);var LM=PM;const qM={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$M={class:"tw-max-w-[25px]"},AM={class:"tw-inline-flex tw-items-center"},WM={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},EM=["checked","id"],TM=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),FM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},OM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},VM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},IM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},jM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},RM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},MM={key:0},NM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},HM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},YM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ZM={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},KM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},BM={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},QM={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},JM={class:"tw-space-y-1"},GM={class:"tw-font-bold tw-text-green-500"},XM={class:"tw-block tw-max-w-[150px] tw-truncate"},tN={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},eN={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},rN={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aN={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},sN={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},oN={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function lN(t,e,r,a,o,l){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",qM,[(0,s._)("div",$M,[(0,s._)("div",AM,[(0,s._)("label",WM,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,EM),TM])])])]),(0,s._)("td",FM,[(0,s._)("div",null,[(0,s._)("h2",OM,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",VM,[(0,s._)("div",null,[(0,s._)("h2",IM,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",jM,[(0,s._)("div",null,[(0,s._)("h2",RM,[r.item.seller_user?((0,s.wg)(),(0,s.iD)("span",MM,(0,at.zw)(r.item.seller_user.username),1)):(0,s.kq)("",!0)])])]),(0,s._)("td",NM,[(0,s._)("div",null,[(0,s._)("h2",HM,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",YM,[(0,s._)("div",null,[(0,s._)("h2",ZM,(0,at.zw)(r.item.city),1)])]),(0,s._)("td",KM,[(0,s._)("div",null,[(0,s._)("h2",BM,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",QM,[(0,s._)("div",null,[(0,s._)("ul",JM,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",GM,(0,at.zw)(t.quantity)+" x ",1),(0,s._)("span",XM,(0,at.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",tN,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",eN,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",rN,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.confirmation.name),3)])]),(0,s._)("td",aN,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",sN,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",oN,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const iN={class:"tw-h-full"},nN={class:"tw-flex tw-items-center tw-gap-2"},dN=["href"],wN={key:0},cN={key:1},uN={key:2};function pN(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup"),d=(0,s.up)("HistoryItemPopup");return(0,s.wg)(),(0,s.iD)("div",iN,[(0,s._)("div",nN,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,dN),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.history=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})]),(0,s._)("button",{onClick:e[2]||(e[2]=t=>o.historyItem=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-yellow-500/20 hover:tw-bg-yellow-500/10 hover:tw-border-yellow-500/70 tw-duration-300 tw-text-yellow-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-alphabetical-descending")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",wN,[(0,s.Wm)(i,{onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[4]||(e[4]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.history?((0,s.wg)(),(0,s.iD)("div",cN,[(0,s.Wm)(n,{visible:o.history,"onUpdate:visible":e[5]||(e[5]=t=>o.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.historyItem?((0,s.wg)(),(0,s.iD)("div",uN,[(0,s.Wm)(d,{visible:o.historyItem,"onUpdate:visible":e[6]||(e[6]=t=>o.historyItem=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const mN={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},gN=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),hN={class:"tw-bg-white tw-p-4"},fN={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},yN={class:"tw-col-span-2 md:tw-col-span-1"},xN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),bN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},vN={class:"tw-col-span-2 md:tw-col-span-1"},_N=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),kN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},CN={class:"tw-col-span-2 md:tw-col-span-1"},DN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),SN={class:"tw-relative"},zN=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),UN=["value"],PN=["value"],LN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),qN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$N={class:"tw-col-span-2 md:tw-col-span-1"},AN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),WN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},EN={class:"tw-col-span-2"},TN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),FN={class:"tw-relative"},ON=["value"],VN=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),IN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jN={key:0,class:"md:tw-col-span-1 tw-col-span-2"},RN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),MN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},NN={key:1,class:"md:tw-col-span-1 tw-col-span-2"},HN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),YN={class:"tw-col-span-2"},ZN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),KN={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BN={class:"md:tw-col-span-1 tw-col-span-2"},QN={class:"tw-col-span-1"},JN=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),GN={class:"tw-relative"},XN=["value"],tH=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eH={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},rH={class:"md:tw-col-span-1 tw-col-span-2"},aH=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),sH={class:"tw-relative"},oH=["value"],lH=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iH={class:"tw-col-span-2"},nH={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},dH={key:0,class:"tw-text-red-400 tw-text-xs"},wH={key:2,class:"tw-col-span-2"},cH={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},uH=["disabled"],pH=(0,s._)("span",null,"Update",-1);function mH(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",mN,[gN,(0,s._)("div",hN,[(0,s._)("div",fN,[(0,s._)("div",yN,[xN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",bN,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",vN,[_N,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",kN,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",CN,[DN,(0,s._)("div",SN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[zN,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,UN),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,PN)))),128))],34),[[a.bM,l.itemCopy.city]]),LN]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",qN,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",$N,[AN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",WN,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",EN,[TN,(0,s._)("div",FN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,at.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,ON)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),VN]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",IN,(0,at.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",jN,[RN,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,at.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",MN,(0,at.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",NN,[HN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",YN,[ZN,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",KN,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",BN,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",QN,[JN,(0,s._)("div",GN,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.delivery=t),onChange:e[18]||(e[18]=t=>l.errors.delivery=null),class:(0,at.C_)([[l.errors.delivery&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,XN)))),128))],34),[[a.bM,l.itemCopy.delivery]]),tH]),l.errors.delivery?((0,s.wg)(),(0,s.iD)("label",eH,(0,at.zw)(l.errors.delivery),1)):(0,s.kq)("",!0)]),(0,s._)("div",rH,[aH,(0,s._)("div",sH,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,oH)))),128))],512),[[a.bM,l.itemCopy.upsell]]),lH])]),(0,s._)("div",iH,[(0,s._)("label",nH,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",dH," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",wH,[(0,s.Wm)(w,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",cH,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),pH],8,uH)])])])),_:1},8,["visible","onCancel"])])}const gH=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!hH(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),hH=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},fH=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},yH=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},xH=(t,e)=>{t.isLoading=!0,t.errors={},Yh.update(e.id,e).then((e=>fH(t,e.data))).catch((e=>yH(t,e.response.data))).finally((()=>t.isLoading=!1))},bH={key:0},vH=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),_H={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},kH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),CH=(0,s._)("span",null,"Add Item",-1),DH=[kH,CH],SH={key:1,class:"md:tw-col-span-12 tw-col-span-12"},zH={class:"tw-max-w-full tw-overflow-auto"},UH={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},PH={class:"tw-bg-gray-50"},LH={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},qH={key:0},$H={colspan:"6"},AH={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},WH=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),EH=(0,s._)("span",null,"Add Item",-1),TH=[WH,EH],FH=(0,s._)("td",{colspan:"4"},null,-1),OH=(0,s._)("td",null,null,-1),VH={colspan:"1",class:"tw-p-2"},IH={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},jH={key:1},RH={colspan:"6"},MH={class:"tw-scale-75 tw-p-5"};function NH(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bH,[vH,(0,s._)("div",_H,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},DH)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",SH,[(0,s._)("div",zH,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",UH,[(0,s._)("tr",PH,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",LH,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",qH,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",$H,[(0,s._)("div",AH,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},TH)])])]),(0,s._)("tr",null,[FH,OH,(0,s._)("td",VH,[(0,s._)("div",IH,[(0,s._)("p",null,(0,at.zw)(o.currency)+" "+(0,at.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",jH,[(0,s._)("tr",null,[(0,s._)("td",RH,[(0,s._)("div",MH,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const HH=(0,s._)("td",null,null,-1),YH={class:"tw-p-2"},ZH={class:"tw-relative"},KH=["value"],BH=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),QH=["value"],JH=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),GH={class:"tw-p-2"},XH={key:0,class:"tw-relative"},tY=["value"],eY=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),rY=["value"],aY={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},sY=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),oY=[sY],lY={class:"tw-p-2"},iY=["value"],nY={class:"tw-p-2"},dY=["value"],wY={class:"tw-flex tw-justify-center"};function cY(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[HH,(0,s._)("td",null,[(0,s._)("div",YH,[(0,s._)("div",ZH,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[BH,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,QH)))),128))],40,KH),JH])])]),(0,s._)("td",null,[(0,s._)("div",GH,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",XH,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[eY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,rY)))),128))],40,tY)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",aY,oY)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",lY,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,iY)])]),(0,s._)("td",null,[(0,s._)("div",nY,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,dY)])]),(0,s._)("td",null,[(0,s._)("div",wY,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var uY={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const pY=(0,p.Z)(uY,[["render",cY]]);var mY=pY,gY={components:{ItemRow:mY},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const hY=(0,p.Z)(gY,[["render",NH]]);var fY=hY;const yY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),xY={key:0,class:"tw-relative"},bY=["value","disabled"],vY=(0,s._)("option",{value:""},"Choose a Delivery",-1),_Y=["value"],kY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),CY={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DY={key:2,class:"tw-relative"},SY={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},zY=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),UY=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function PY(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[yY,o.fetched?((0,s.wg)(),(0,s.iD)("div",xY,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,at.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[vY,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,_Y)))),128))],42,bY),kY])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",CY,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",DY,[(0,s._)("div",SY,[(0,s.Wm)(i)]),zY,UY]))])}var LY={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const qY=(0,p.Z)(LY,[["render",PY]]);var $Y=qY;const AY={key:0},WY=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),EY={class:"md:tw-col-span-12 tw-col-span-12"},TY={class:"tw-max-w-full tw-overflow-auto"},FY={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},OY=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),VY={class:"tw-px-3 tw-py-2"},IY={class:"tw-px-3 tw-py-2"},jY={class:"tw-px-3 tw-py-2"},RY={class:"tw-px-3 tw-py-2"},MY={class:"tw-max-w-[250px] tw-text-sm"};function NY(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",AY,[WY,(0,s._)("div",EY,[(0,s._)("div",TY,[(0,s._)("table",FY,[OY,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",VY,(0,at.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",IY,(0,at.zw)(t.quantity),1),(0,s._)("td",jY,(0,at.zw)(t.price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",RY,[(0,s._)("p",MY,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var HY={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const YY=(0,p.Z)(HY,[["render",NY]]);var ZY=YY,KY={components:{OrderItems:fY,OrderAffectation:$Y,ProductOffersTable:ZY},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Xn,deliveryStatus:ad,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=gH(this,this.itemCopy);if(!t)return!1;xH(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const BY=(0,p.Z)(KY,[["render",mH]]);var QY=BY;const JY={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},GY=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),XY={class:"tw-bg-white tw-p-4"},tZ={key:0},eZ={key:1,class:"tw-p-5"},rZ={class:"d-flex tw-flex-col justify-space-between flex-grow-1"},aZ={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},sZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},oZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},lZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},iZ={class:"tw-flex tw-flex-col tw-my-2"},nZ=(0,s._)("div",null,"New Order Created",-1),dZ={class:"tw-flex tw-flex-col"},wZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},cZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},uZ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function pZ(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",JY,[GY,(0,s._)("div",XY,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",tZ,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",eZ,[(0,s.Wm)(Md.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(Nd.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",rZ,[(0,s._)("div",aZ,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Rd.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(!t.historique&&["affectation","delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),(0,s._)("div",sZ,[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1)]),(0,s._)("div",oZ,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(Nd.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",lZ,[(0,s._)("div",iZ,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),nZ]),(0,s._)("div",dZ,[(0,s._)("div",wZ,[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(r.item.created_by.firstname)+" "+(0,at.zw)(r.item.created_by.lastname),1)]),(0,s._)("div",cZ,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",uZ,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var mZ={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,na.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple",affectation:"cyan"};return["confirmation","delivery","upsell","affectation"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const gZ=(0,p.Z)(mZ,[["render",pZ]]);var hZ=gZ;const fZ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},yZ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Item History ",-1),xZ={class:"tw-bg-white tw-p-4"},bZ={key:0},vZ={key:1,class:"tw-p-5"},_Z={class:"d-flextw-flex-col justify-space-between flex-grow-1"},kZ={key:0,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},CZ={key:1,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},DZ={key:2,class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},SZ={class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},zZ={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},UZ={class:"d-flextw-flex-col justify-space-between flex-grow-1"},PZ={class:"tw-flex tw-flex-col tw-my-2"},LZ=(0,s._)("div",null,"No Changes Happend Yet",-1),qZ={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},$Z={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function AZ(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",fZ,[yZ,(0,s._)("div",xZ,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",bZ,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",vZ,[(0,s.Wm)(Md.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(Nd.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",_Z,[t.old_product.id!=t.new_product.id?((0,s.wg)(),(0,s.iD)("div",kZ,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"purple",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Product ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_product.name),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Rd.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_product.name),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_quantity!=t.new_quantity?((0,s.wg)(),(0,s.iD)("div",CZ,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"blue",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Quantity ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_quantity),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Rd.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_quantity),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),t.old_price!=t.new_price?((0,s.wg)(),(0,s.iD)("div",DZ,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"#118C4F",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Price ")])),_:1}),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-equal")])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.old_price),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Rd.v,{key:2,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.new_price),1)])),_:2},1024)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("div",SZ,[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-account")])),_:1}),(0,s._)("span",null,(0,at.zw)(t.users.firstname)+" "+(0,at.zw)(t.users.lastname),1)]),(0,s._)("div",zZ,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(Nd.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",UZ,[(0,s._)("div",PZ,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),LZ]),(0,s._)("div",qZ,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",$Z,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var WZ={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){return[...this.allEvents].reverse()}},methods:{cancel(){this.$emit("update:visible",!1)},getItemHistory(){this.isLoaded=!1,na.itemHistory(this.item.id).then((t=>{console.log(t.data),this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={old_product:"red",old_price:"green",old_quantity:"blue"};return["old_product","old_price","old_quantity"].includes(t)?e[t]:"primary-color"}},mounted(){this.getItemHistory()}};const EZ=(0,p.Z)(WZ,[["render",AZ]]);var TZ=EZ,FZ={components:{UpdatePopup:QY,HistoryPopup:hZ,HistoryItemPopup:TZ},props:{item:{required:!0}},data(){return{update:!1,history:!1,historyItem:!1,isLoading:!1}},methods:{handle(){}}};const OZ=(0,p.Z)(FZ,[["render",pN]]);var VZ=OZ;const IZ={key:0},jZ={key:0,class:"tw-relative tw-inline-block tw-text-left"},RZ={key:0},MZ=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),NZ=[MZ],HZ={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},YZ={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},ZZ=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),KZ=[ZZ],BZ={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},QZ={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},JZ={class:"tw-py-1",role:"none"},GZ=["onClick"],XZ={key:1},tK={class:"tw-p-2 tw-scale-75"};function eK(t,e,r,a,o,l){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",IZ,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",jZ,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[l.selected.id?((0,s.wg)(),(0,s.iD)("div",RZ,NZ)):(0,s.kq)("",!0),(0,s._)("p",HZ,(0,at.zw)(l.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",YZ,KZ)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",BZ,(0,at.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Et.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",QZ,[(0,s._)("div",JZ,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>l.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],8,GZ)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,l.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",XZ,[(0,s._)("div",tK,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var rK={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};xH(this,e,!1)}}};const aK=(0,p.Z)(rK,[["render",eK]]);var sK=aK,oK={components:{TableActions:VZ,TableRowAffectation:sK},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:Qg()}},computed:{confirmation(){return Xn.find((t=>t.value==this.item.confirmation))},deliveryState(){return ad.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const lK=(0,p.Z)(oK,[["render",lN]]);var iK=lK,nK={components:{TablePaginationNoNums:LM,TableRow:iK},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const dK=(0,p.Z)(nK,[["render",mM]]);var wK=dK;const cK={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},uK={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},pK=["disabled"],mK=["disabled"],gK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),hK=[gK],fK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),yK=[fK],xK=["disabled"],bK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M15.9 1C12.1 1.1 9 4.2 9 8c0 3.9 3.1 7 7 7s7-3.1 7-7s-3.1-7-7.1-7c.1 0 0 0 0 0m.1 2c2.8 0 5 2.2 5 5s-2.2 5-5 5s-5-2.2-5-5s2.2-5 5-5m-1 1v5l3.6 2.2l.8-1.2l-2.9-1.7V4H15M4.6 12.8c1.4 2.8 3.8 5.2 6.6 6.6l2.2-2.2c.3-.3.7-.4 1-.2c1.1.4 2.3.6 3.6.6c.5 0 1 .5 1 1V22c0 .5-.5 1-1 1C8.6 23 1 15.4 1 6c0-.6.5-1 1-1h3.5c.6 0 1 .4 1 1c0 1.2.2 2.4.6 3.6c.1.4 0 .7-.2 1l-2.3 2.2"})],-1),vK=[bK],_K=["disabled"],kK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),CK=[kK],DK=["disabled"],SK=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),zK=[SK],UK={class:"tw-relative"},PK=["value"],LK=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),qK=[LK],$K=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),AK={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},WK=["value"],EK=(0,s._)("option",{value:"all"},"All",-1),TK=(0,s._)("option",{value:"id"},"ID",-1),FK=[EK,TK],OK=["value"],VK={class:"tw-overflow-hidden tw-col-span-1"},IK={class:"tw-overflow-hidden tw-col-span-1"},jK={class:"tw-overflow-hidden tw-col-span-1"};function RK(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",cK,[(0,s._)("div",uK,[(0,s._)("button",{class:(0,at.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,pK),(0,s._)("button",{title:"Orders Created Today",class:(0,at.C_)([[l.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:l.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,mK),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,at.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},hK,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,at.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},yK,2)):(0,s.kq)("",!0),(0,s._)("button",{title:"Show Reported Orders First",onClick:e[4]||(e[4]=(...t)=>i.showReportedFirst&&i.showReportedFirst(...t)),disabled:r.loading,class:(0,at.C_)([[r.filters.reported_first&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},vK,10,xK),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},CK,8,_K),(0,s._)("button",{title:"Show Export Options",onClick:e[6]||(e[6]=t=>l.showExport=!l.showExport),class:(0,at.C_)([[l.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},zK,10,DK),(0,s._)("div",UK,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},qK,40,PK),$K])]),(0,s._)("div",AK,[(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},FK,40,WK),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[9]||(e[9]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[10]||(e[10]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,OK),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",VK,[(0,s.Wm)(n,{onClear:e[12]||(e[12]=e=>t.$emit("clear")),onFilter:e[13]||(e[13]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[14]||(e[14]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,at.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",IK,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jK,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const MK={class:"tw-mb-4"},NK={class:"tw-grid tw-grid-cols-12 tw-gap-4"},HK={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},YK={class:"tw-flex tw-items-center tw-justify-between"},ZK={class:"tw-text-xl tw-font-bold tw-text-gray-900"},KK={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function BK(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",MK,[(0,s._)("div",NK,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",HK,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",YK,[(0,s._)("span",ZK,(0,at.zw)(t.total),1),(0,s._)("span",KK,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var QK={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Xn.find((e=>e.value==t))}}};const JK=(0,p.Z)(QK,[["render",BK]]);var GK=JK;const XK={class:"tw-mb-4"},tB={class:"tw-flex tw-items-center tw-gap-2"},eB=["disabled"],rB=(0,s._)("span",null,"Select Filtered",-1),aB={class:"tw-flex tw-justify-end"},sB=["disabled"];function oB(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",XK,[(0,s._)("div",tB,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),rB],8,eB)]),(0,s._)("div",aB,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,at.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,sB)])])}var lB={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Yh["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const iB=(0,p.Z)(lB,[["render",oB]]);var nB=iB;const dB={class:"tw-mb-4"},wB={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},cB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},uB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),pB=["value"],mB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},gB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),hB=["value"],fB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},yB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),xB=["value"],bB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),_B=["value"],kB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),DB=["value"],SB=(0,s._)("option",{value:"all",selected:""},"All",-1),zB=["value"],UB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},PB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),LB=["value"],qB=(0,s._)("option",{value:"all",selected:""},"All",-1),$B=["value"],AB={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WB=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),EB=["value"],TB=(0,s._)("option",{value:"all",selected:""},"All",-1),FB=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),OB=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),VB=[TB,FB,OB],IB={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},jB=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),RB=(0,s._)("span",null,"Clear",-1),MB=[jB,RB],NB=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),HB=(0,s._)("span",null,"Filter",-1),YB=[NB,HB];function ZB(t,e,r,a,o,l){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter"),n=(0,s.up)("AgentFilter"),d=(0,s.up)("SellerFilter"),w=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",dB,[(0,s._)("div",wB,[(0,s.kq)("",!0),(0,s._)("div",cB,[uB,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,pB)]),(0,s._)("div",mB,[gB,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,hB)]),(0,s._)("div",fB,[yB,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xB)]),(0,s._)("div",bB,[vB,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,_B)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",kB,[CB,(0,s._)("select",{value:r.filters.confirmation,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[SB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,zB)))),128))],40,DB)]),(0,s.Wm)(w,{filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",UB,[PB,(0,s._)("select",{onChange:e[10]||(e[10]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[qB,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,$B)))),128))],40,LB)]),(0,s._)("div",AB,[WB,(0,s._)("select",{value:r.filters.upsell,onChange:e[11]||(e[11]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},VB,40,EB)]),(0,s._)("div",IB,[(0,s._)("button",{onClick:e[12]||(e[12]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},MB),(0,s._)("button",{onClick:e[13]||(e[13]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},YB)])])])}const KB={class:"tw-text-sm tw-text-neutral-600"},BB=["onClick"];function QB(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",KB,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,BB)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var JB={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,jo.Z)(new Date),(0,Ro.Z)(new Date)]},{label:"Last month",range:[(0,jo.Z)((0,Mo.Z)(new Date,1)),(0,Ro.Z)((0,Mo.Z)(new Date,1))]},{label:"This year",range:[(0,No.Z)(new Date),(0,Ho.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const GB=(0,p.Z)(JB,[["render",QB]]);var XB=GB;const tQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),rQ=["value"],aQ=(0,s._)("option",{value:"all"},"All",-1),sQ=(0,s._)("option",{value:""},"No Delivery",-1),oQ=["value"];function lQ(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",tQ,[eQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[aQ,sQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,oQ)))),128))],40,rQ)])}var iQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const nQ=(0,p.Z)(iQ,[["render",lQ]]);var dQ=nQ;const wQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},cQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),uQ=["value"],pQ=(0,s._)("option",{value:"all"},"All",-1),mQ=(0,s._)("option",{value:""},"No Agent",-1),gQ=["value"];function hQ(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",wQ,[cQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[pQ,mQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,gQ)))),128))],40,uQ)])}var fQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const yQ=(0,p.Z)(fQ,[["render",hQ]]);var xQ=yQ;const bQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),_Q=["value"],kQ=(0,s._)("option",{value:"all"},"All",-1),CQ=["value"];function DQ(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",bQ,[vQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[kQ,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,CQ)))),128))],40,_Q)])}var SQ={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const zQ=(0,p.Z)(SQ,[["render",DQ]]);var UQ=zQ;const PQ={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},LQ=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),qQ=["value"],$Q=(0,s._)("option",{value:"all"},"All",-1),AQ=["value"];function WQ(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",PQ,[LQ,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[$Q,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,AQ)))),128))],40,qQ)])}var EQ={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const TQ=(0,p.Z)(EQ,[["render",WQ]]);var FQ=TQ,OQ={components:{DateFilter:XB,AffectationFilter:dQ,AgentFilter:xQ,ProductFilter:FQ,SellerFilter:UQ},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Xn,deliveries:ad,dateFilter:["",""]}}};const VQ=(0,p.Z)(OQ,[["render",ZB]]);var IQ=VQ,jQ={components:{IndexStatistics:GK,FiltersWrapper:IQ,IndexExport:nB},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Qg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const RQ=(0,p.Z)(jQ,[["render",RK]]);var MQ=RQ;const NQ={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},HQ=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),YQ={class:"tw-bg-white tw-p-4"},ZQ={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},KQ={class:"tw-col-span-2 md:tw-col-span-1"},BQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),QQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},JQ={class:"tw-col-span-2 md:tw-col-span-1"},GQ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),XQ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},tJ={class:"tw-col-span-2 md:tw-col-span-1"},eJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),rJ={class:"tw-relative"},aJ=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),sJ=["value"],oJ=["value"],lJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),iJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},nJ={class:"tw-col-span-2 md:tw-col-span-1"},dJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),wJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},cJ={class:"tw-col-span-2"},uJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),pJ={class:"tw-relative"},mJ=["value"],gJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),hJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fJ={key:0,class:"md:tw-col-span-1 tw-col-span-2"},yJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),xJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bJ={key:1,class:"md:tw-col-span-1 tw-col-span-2"},vJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),_J={class:"tw-col-span-2"},kJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),CJ={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},DJ={class:"md:tw-col-span-1 tw-col-span-2"},SJ={class:"md:tw-col-span-1 tw-col-span-2"},zJ=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),UJ={class:"tw-relative"},PJ=["value"],LJ=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),qJ={class:"tw-col-span-2"},$J={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},AJ={key:0,class:"tw-text-red-400 tw-text-xs"},WJ={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},EJ=["disabled"],TJ=(0,s._)("span",null,"Create",-1);function FJ(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",NQ,[HQ,(0,s._)("div",YQ,[(0,s._)("div",ZQ,[(0,s._)("div",KQ,[BQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",QQ,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",JQ,[GQ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",XQ,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",tJ,[eJ,(0,s._)("div",rJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[aJ,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,sJ),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,oJ)))),128))],34),[[a.bM,l.itemCopy.city]]),lJ]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",iJ,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",nJ,[dJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",wJ,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",cJ,[uJ,(0,s._)("div",pJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,at.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,mJ)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),gJ]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",hJ,(0,at.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",fJ,[yJ,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,at.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",xJ,(0,at.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",bJ,[vJ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",_J,[kJ,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",CJ,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",DJ,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",SJ,[zJ,(0,s._)("div",UJ,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,PJ)))),128))],512),[[a.bM,l.itemCopy.upsell]]),LJ])]),(0,s._)("div",qJ,[(0,s._)("label",$J,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",AJ," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",WJ,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),TJ],8,EJ)])])])),_:1},8,["visible","onCancel"])])}const OJ=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},VJ=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},IJ=(t,e)=>{t.isLoading=!0,t.errors={},Yh.create(e).then((e=>OJ(t,e.data))).catch((e=>VJ(t,e.response.data))).finally((()=>t.isLoading=!1))};var jJ={components:{OrderItems:fY,OrderAffectation:$Y},props:{visible:{required:!0}},data(){return{confirmations:Xn,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=gH(this,this.itemCopy);if(!t)return!1;IJ(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const RJ=(0,p.Z)(jJ,[["render",FJ]]);var MJ=RJ;const NJ={class:"tw-mb-4"},HJ={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},YJ={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},ZJ={class:"tw-flex tw-items-center tw-gap-2"},KJ={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},BJ=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),QJ={class:"tw-flex tw-items-center tw-gap-2"},JJ=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),GJ=(0,s._)("span",null," Clear Selection ",-1),XJ=[JJ,GJ],tG=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),eG=(0,s._)("span",null," Actions ",-1),rG=[tG,eG],aG={key:0};function sG(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",NJ,[(0,s._)("div",HJ,[(0,s._)("div",YJ,[(0,s._)("div",ZJ,[(0,s._)("div",KJ,(0,at.zw)(r.selected.length),1),BJ]),(0,s._)("div",QJ,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},XJ),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},rG)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",aG,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const oG={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},lG={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},iG=(0,s._)("span",null,"Quick Actions",-1),nG={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},dG={class:"tw-bg-white tw-p-4"},wG={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},cG={class:"tw-col-span-2 md:tw-col-span-1"},uG={key:0,class:"tw-col-span-2 md:tw-col-span-1"},pG={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},mG=(0,s._)("span",null,"Apply",-1);function gG(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",oG,[(0,s._)("div",lG,[iG,(0,s._)("span",nG,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",dG,[(0,s._)("div",wG,[(0,s._)("div",cG,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",uG,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",pG,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),mG])])])])),_:1},8,["visible","closeable","onCancel"])])}const hG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),fG={class:"tw-relative"},yG=["value"],xG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function bG(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[hG,(0,s._)("div",fG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,yG)))),128))],512),[[a.bM,i.vaction]]),xG]),(0,s.kq)("",!0)])}var vG={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const _G=(0,p.Z)(vG,[["render",bG]]);var kG=_G;const CG=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),DG={class:"tw-relative"},SG=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),zG=["value"],UG=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function PG(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[CG,(0,s._)("div",DG,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[SG,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,zG)))),128))],512),[[a.bM,i.vvalue]]),UG]),(0,s.kq)("",!0)])}var LG={props:{value:{required:!0}},data(){return{statuses:ad}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const qG=(0,p.Z)(LG,[["render",PG]]);var $G=qG;class AG{async execute(t){return await A.getCookie(),q.post("api/v1/bulk/execute",t)}}var WG=new AG,EG=(t,e)=>{t.isLoading=!0,WG.execute(e).then((e=>TG(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const TG=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var FG={components:{BulkSelectAction:kG,BulkDeliveryAction:$G},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};EG(this,t)}}};const OG=(0,p.Z)(FG,[["render",gG]]);var VG=OG,IG={components:{BulkPopup:VG},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const jG=(0,p.Z)(IG,[["render",sG]]);var RG=jG,MG={components:{IndexTable:wK,IndexFilters:MQ,CreatePopup:MJ,BulkActions:RG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Yh.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const NG=(0,p.Z)(MG,[["render",PR]]);var HG=NG;const YG={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},ZG={class:"tw-px-3"},KG={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},BG={class:"tw-flex tw-items-center tw-gap-x-3"},QG=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Dispatched Orders ",-1),JG={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},GG=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of dispatched orders. ",-1),XG={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},tX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),eX=(0,s._)("span",null,"Create",-1),rX=[tX,eX],aX={class:"tw-overflow-hidden tw-col-span-1"},sX={key:0};function oX(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",YG,[(0,s._)("section",ZG,[(0,s._)("div",KG,[(0,s._)("div",null,[(0,s._)("div",BG,[QG,(0,s._)("span",JG,(0,at.zw)(o.totalOrders)+" order",1)]),GG]),(0,s._)("div",XG,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},rX)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",aX,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[4]||(e[4]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",sX,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var lX={components:{IndexTable:wK,IndexFilters:MQ,CreatePopup:MJ,BulkActions:RG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Yh.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"dispatch",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const iX=(0,p.Z)(lX,[["render",oX]]);var nX=iX;const dX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},wX={class:"tw-px-3"},cX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},uX={class:"tw-flex tw-items-center tw-gap-x-3"},pX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Shipped Orders ",-1),mX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},gX=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," List of shipped orders. ",-1),hX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},fX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),yX=(0,s._)("span",null,"Create",-1),xX=[fX,yX],bX={class:"tw-overflow-hidden tw-col-span-1"},vX={key:0};function _X(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",dX,[(0,s._)("section",wX,[(0,s._)("div",cX,[(0,s._)("div",null,[(0,s._)("div",uX,[pX,(0,s._)("span",mX,(0,at.zw)(o.totalOrders)+" order",1)]),gX]),(0,s._)("div",hX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},xX)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",bX,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[4]||(e[4]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",vX,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}var kX={components:{IndexTable:wK,IndexFilters:MQ,CreatePopup:MJ,BulkActions:RG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Yh.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"confirmer",product_id:"all",delivery:"expidier",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const CX=(0,p.Z)(kX,[["render",_X]]);var DX=CX;const SX={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},zX={class:"tw-px-3"},UX={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},PX={class:"tw-flex tw-items-center tw-gap-x-3"},LX=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),qX={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},$X=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),AX={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},WX=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),EX=(0,s._)("span",null,"Create",-1),TX=[WX,EX],FX={class:"tw-overflow-hidden tw-col-span-1"},OX={key:0};function VX(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("BulkActions"),d=(0,s.up)("IndexTable"),w=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",SX,[(0,s._)("section",zX,[(0,s._)("div",UX,[(0,s._)("div",null,[(0,s._)("div",PX,[LX,(0,s._)("span",qX,(0,at.zw)(o.totalOrders)+" order",1)]),$X]),(0,s._)("div",AX,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},TX)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",FX,[(0,s.Wm)(n,{onUpdate:l.handleBulkUpdate,selected:o.selected,"onUpdate:selected":e[4]||(e[4]=t=>o.selected=t)},null,8,["onUpdate","selected"])])],2),(0,s._)("div",null,[(0,s.Wm)(d,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",OX,[(0,s.Wm)(w,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const IX={class:"tw-flex tw-flex-col"},jX={class:"tw-overflow-x-auto"},RX={class:"tw-inline-block tw-min-w-full tw-align-middle"},MX={class:"tw-border tw-overflow-auto tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},NX={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},HX={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},YX={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},ZX={class:"tw-max-w-[25px]"},KX={class:"tw-inline-flex tw-items-center"},BX={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},QX=["checked"],JX=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),GX=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),XX={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},t0=(0,s._)("span",null,"Created",-1),e0=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),r0=[t0,e0],a0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),s0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," City ",-1),o0=(0,s._)("th",{scope:"col",class:"tw-px-3 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),l0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),i0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),n0=(0,s._)("th",{scope:"col",class:"tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),d0=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-3 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),w0=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),c0={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},u0={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},p0=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),m0=[p0],g0={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},h0={colspan:"11"},f0={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},y0=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),x0=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),b0=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),v0=[x0,b0],_0={class:"tw-mt-6"};function k0(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",IX,[(0,s._)("div",jX,[(0,s._)("div",RX,[(0,s._)("div",MX,[(0,s._)("table",NX,[(0,s._)("thead",HX,[(0,s._)("tr",null,[(0,s._)("th",YX,[(0,s._)("div",ZX,[(0,s._)("div",KX,[(0,s._)("label",BX,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,QX),JX])])])]),GX,(0,s._)("th",XX,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},r0)]),a0,s0,o0,l0,i0,n0,d0,w0])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",c0,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,((a,o,n)=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),deliveries:r.deliveries,onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),all:n,index:o,key:a.id,item:a},null,8,["selected","deliveries","all","index","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",u0,m0)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",g0,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",h0,[(0,s._)("div",f0,[y0,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},v0)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",_0,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const C0={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},D0={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},S0={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},z0={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},U0=["disabled"],P0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),L0=(0,s._)("span",null," previous ",-1),q0=[P0,L0],$0=["disabled"],A0=(0,s._)("span",null," Next ",-1),W0=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),E0=[A0,W0];function T0(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",C0,[(0,s._)("div",D0,[(0,s.Uk)(" Page "),(0,s._)("span",S0,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",z0,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},q0,10,U0),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},E0,10,$0)])])])}var F0={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const O0=(0,p.Z)(F0,[["render",T0]]);var V0=O0;const I0={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},j0={class:"tw-max-w-[25px]"},R0={class:"tw-inline-flex tw-items-center"},M0={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},N0=["checked","id"],H0=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),Y0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Z0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},K0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},B0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Q0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},J0={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[150px] tw-truncate"},G0={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},X0={class:"tw-font-medium tw-max-w-[100px] tw-truncate tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},t1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},e1={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo] tw-max-w-[120px] tw-truncate"},r1={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},a1={class:"tw-space-y-1"},s1={class:"tw-font-bold tw-text-green-500"},o1={class:"tw-block tw-max-w-[150px] tw-truncate"},l1={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},i1={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},n1={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},d1={class:"tw-px-2 tw-py-2 tw-text-sm tw-whitespace-nowrap"},w1={class:"tw-px-2 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},c1={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function u1(t,e,r,a,o,l){const i=(0,s.up)("TableRowAffectation"),n=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",{class:(0,at.C_)(["hover:tw-bg-gray-50",[null!=r.item.reported_diff&&"reporter"==r.item.confirmation&&r.item.reported_diff<=0&&" !tw-shadow-sm !tw-border !tw-border-emerald-300"]])},[(0,s._)("td",I0,[(0,s._)("div",j0,[(0,s._)("div",R0,[(0,s._)("label",M0,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,N0),H0])])])]),(0,s._)("td",Y0,[(0,s._)("div",null,[(0,s._)("h2",Z0,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",K0,[(0,s._)("div",null,[(0,s._)("h2",B0,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Q0,[(0,s._)("div",null,[(0,s._)("h2",J0,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",G0,[(0,s._)("div",null,[(0,s._)("h2",X0,(0,at.zw)(r.item.city),1)])]),(0,s._)("td",t1,[(0,s._)("div",null,[(0,s._)("h2",e1,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",r1,[(0,s._)("div",null,[(0,s._)("ul",a1,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",s1,(0,at.zw)(t.quantity)+" x ",1),(0,s._)("span",o1,(0,at.zw)(t.product.name),1),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",l1,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",i1,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",n1,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.confirmation.name),3)])]),(0,s._)("td",d1,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),deliveries:r.deliveries,item:r.item},null,8,["deliveries","item"])]),(0,s.kq)("",!0)]),(0,s._)("td",w1,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)])]),(0,s._)("td",c1,[(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])],2)}const p1={class:"tw-h-full"},m1={class:"tw-flex tw-items-center tw-gap-2"},g1=["href"],h1={key:0};function f1(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",p1,[(0,s._)("div",m1,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,g1),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-bg-whites tw-shadow-sm tw-px-2 tw-py-1 tw-w-[30px] tw-h-[30px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",h1,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[2]||(e[2]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const y1={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},x1=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),b1={class:"tw-bg-white tw-p-4"},v1={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},_1={class:"tw-col-span-2 md:tw-col-span-1"},k1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),C1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},D1={class:"tw-col-span-2 md:tw-col-span-1"},S1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),z1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U1={class:"tw-col-span-2 md:tw-col-span-1"},P1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),L1={class:"tw-relative"},q1=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),$1=["value"],A1=["value"],W1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),E1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},T1={class:"tw-col-span-2 md:tw-col-span-1"},F1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),O1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},V1={class:"tw-col-span-2"},I1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),j1={class:"tw-relative"},R1=["value"],M1=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),N1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H1={key:0,class:"md:tw-col-span-1 tw-col-span-2"},Y1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),Z1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},K1={key:1,class:"md:tw-col-span-1 tw-col-span-2"},B1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),Q1={class:"tw-col-span-2"},J1=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),G1={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X1={class:"md:tw-col-span-1 tw-col-span-2"},t2={class:"md:tw-col-span-1 tw-col-span-2"},e2=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),r2={class:"tw-relative"},a2=["value"],s2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),o2={class:"tw-col-span-2"},l2={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},i2={key:0,class:"tw-text-red-400 tw-text-xs"},n2={key:3,class:"tw-col-span-2"},d2={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},w2=["disabled"],c2=(0,s._)("span",null,"Update",-1);function u2(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",y1,[x1,(0,s._)("div",b1,[(0,s._)("div",v1,[(0,s._)("div",_1,[k1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",C1,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",D1,[S1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",z1,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",U1,[P1,(0,s._)("div",L1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[q1,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,$1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,A1)))),128))],34),[[a.bM,l.itemCopy.city]]),W1]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",E1,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",T1,[F1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",O1,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",V1,[I1,(0,s._)("div",j1,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.followup_confirmation=null),class:(0,at.C_)([[l.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,R1)))),128))],34),[[a.bM,l.itemCopy.followup_confirmation]]),M1]),l.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",N1,(0,at.zw)(l.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",H1,[Y1,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>l.errors.followup_reported_date=null),class:(0,at.C_)([[l.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.followup_reported_date]]),l.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",Z1,(0,at.zw)(l.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",K1,[B1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",Q1,[J1,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",G1,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",X1,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s.kq)("",!0),(0,s._)("div",t2,[e2,(0,s._)("div",r2,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[19]||(e[19]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,a2)))),128))],512),[[a.bM,l.itemCopy.upsell]]),s2])]),(0,s._)("div",o2,[(0,s._)("label",l2,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",i2," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[20]||(e[20]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",n2,[(0,s.Wm)(w,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",d2,[(0,s._)("button",{onClick:e[21]||(e[21]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[22]||(e[22]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),c2],8,w2)])])])),_:1},8,["visible","onCancel"])])}const p2=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!m2(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),m2=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},g2=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},h2=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},f2=(t,e)=>{t.isLoading=!0,t.errors={},Yh.update(e.id,e).then((e=>g2(t,e.data))).catch((e=>h2(t,e.response.data))).finally((()=>t.isLoading=!1))},y2={key:0},x2=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),b2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},v2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),_2=(0,s._)("span",null,"Add Item",-1),k2=[v2,_2],C2={key:1,class:"md:tw-col-span-12 tw-col-span-12"},D2={class:"tw-max-w-full tw-overflow-auto"},S2={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},z2={class:"tw-bg-gray-50"},U2={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},P2={key:0},L2={colspan:"6"},q2={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},$2=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),A2=(0,s._)("span",null,"Add Item",-1),W2=[$2,A2],E2=(0,s._)("td",{colspan:"4"},null,-1),T2=(0,s._)("td",null,null,-1),F2={colspan:"1",class:"tw-p-2"},O2={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},V2={key:1},I2={colspan:"6"},j2={class:"tw-scale-75 tw-p-5"};function R2(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",y2,[x2,(0,s._)("div",b2,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},k2)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",C2,[(0,s._)("div",D2,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",S2,[(0,s._)("tr",z2,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",U2,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",P2,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",L2,[(0,s._)("div",q2,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},W2)])])]),(0,s._)("tr",null,[E2,T2,(0,s._)("td",F2,[(0,s._)("div",O2,[(0,s._)("p",null,(0,at.zw)(o.currency)+" "+(0,at.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",V2,[(0,s._)("tr",null,[(0,s._)("td",I2,[(0,s._)("div",j2,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const M2=(0,s._)("td",null,null,-1),N2={class:"tw-p-2"},H2={class:"tw-relative"},Y2=["value"],Z2=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),K2=["value"],B2=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Q2={class:"tw-p-2"},J2={key:0,class:"tw-relative"},G2=["value"],X2=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),t5=["value"],e5={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},r5=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),a5=[r5],s5={class:"tw-p-2"},o5=["value"],l5={class:"tw-p-2"},i5=["value"],n5={class:"tw-flex tw-justify-center"};function d5(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[M2,(0,s._)("td",null,[(0,s._)("div",N2,[(0,s._)("div",H2,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Z2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,K2)))),128))],40,Y2),B2])])]),(0,s._)("td",null,[(0,s._)("div",Q2,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",J2,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[X2,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,t5)))),128))],40,G2)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",e5,a5)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",s5,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,o5)])]),(0,s._)("td",null,[(0,s._)("div",l5,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,i5)])]),(0,s._)("td",null,[(0,s._)("div",n5,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var w5={props:{item:{required:!0},products:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};this.$emit("update",a)},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const c5=(0,p.Z)(w5,[["render",d5]]);var u5=c5,p5={components:{ItemRow:u5},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const m5=(0,p.Z)(p5,[["render",R2]]);var g5=m5;const h5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),f5={key:0,class:"tw-relative"},y5=["value","disabled"],x5=(0,s._)("option",{value:""},"Choose a Delivery",-1),b5=["value"],v5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),_5={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},k5={key:2,class:"tw-relative"},C5={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},D5=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),S5=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function z5(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[h5,o.fetched?((0,s.wg)(),(0,s.iD)("div",f5,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[x5,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,b5)))),128))],42,y5),v5])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",_5,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",k5,[(0,s._)("div",C5,[(0,s.Wm)(i)]),D5,S5]))])}var U5={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const P5=(0,p.Z)(U5,[["render",z5]]);var L5=P5;const q5={key:0},$5=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),A5={class:"md:tw-col-span-12 tw-col-span-12"},W5={class:"tw-max-w-full tw-overflow-auto"},E5={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},T5=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),F5={class:"tw-px-3 tw-py-2"},O5={class:"tw-px-3 tw-py-2"},V5={class:"tw-px-3 tw-py-2"},I5={class:"tw-px-3 tw-py-2"},j5={class:"tw-max-w-[250px] tw-text-sm"};function R5(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",q5,[$5,(0,s._)("div",A5,[(0,s._)("div",W5,[(0,s._)("table",E5,[T5,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",F5,(0,at.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",O5,(0,at.zw)(t.quantity),1),(0,s._)("td",V5,(0,at.zw)(t.price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",I5,[(0,s._)("p",j5,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var M5={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const N5=(0,p.Z)(M5,[["render",R5]]);var H5=N5,Y5={components:{OrderItems:g5,OrderAffectation:L5,ProductOffersTable:H5},props:{visible:{required:!0},item:{required:!0}},data(){return{followup_confirmations:ed,deliveryStatus:ad,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=p2(this,this.itemCopy);if(!t)return!1;f2(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Z5=(0,p.Z)(Y5,[["render",u2]]);var K5=Z5,B5={components:{UpdatePopup:K5},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const Q5=(0,p.Z)(B5,[["render",f1]]);var J5=Q5;const G5={key:0},X5={key:0,class:"tw-relative tw-inline-block tw-text-left"},t4={key:0},e4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"#4ade80",d:"M9 16.17L5.53 12.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L20.29 7.71a.996.996 0 1 0-1.41-1.41L9 16.17z"})],-1),r4=[e4],a4={class:"tw-w-full tw-truncate tw-text-start tw-text-gray-500"},s4={key:0,xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},o4=(0,s.uE)('<g fill="none" stroke="#4ade80" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),l4=[o4],i4={key:0,class:"tw-text-xs tw-mt-2 tw-max-w-[150px] tw-text-red-400 tw-whitespace-normal"},n4={key:0,class:"tw-absolute tw-right-0 tw-z-10 tw-mt-2 tw-w-56 tw-origin-top-right tw-rounded-md tw-bg-white tw-shadow-lg tw-ring-1 tw-ring-black tw-ring-opacity-5 focus:tw-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},d4={class:"tw-py-1",role:"none"},w4=["onClick"],c4={key:1},u4={class:"tw-p-2 tw-scale-75"};function p4(t,e,r,a,o,l){const i=(0,s.up)("loading");return"confirmer"==r.item.confirmation?((0,s.wg)(),(0,s.iD)("div",G5,[r.deliveries.fetched?(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",X5,[(0,s._)("div",null,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.visible=!o.visible),type:"button",class:"tw-inline-flex tw-w-[150px] tw-truncate tw-relative tw-items-center tw-gap-x-1.5 tw-rounded-md tw-bg-white tw-px-3 tw-py-1 tw-text-sm tw-font-semibold tw-text-gray-900 tw-shadow-none hover:tw-shadow-sm tw-ring-1 tw-ring-inset tw-ring-gray-200",id:"menu-button","aria-expanded":"true","aria-haspopup":"true"},[l.selected.id?((0,s.wg)(),(0,s.iD)("div",t4,r4)):(0,s.kq)("",!0),(0,s._)("p",a4,(0,at.zw)(l.selected.name),1),(0,s._)("div",null,[o.isLoading?((0,s.wg)(),(0,s.iD)("svg",s4,l4)):(0,s.kq)("",!0)])]),o.errors.affectation?((0,s.wg)(),(0,s.iD)("p",i4,(0,at.zw)(o.errors.affectation),1)):(0,s.kq)("",!0)]),(0,s.Wm)(Et.cu,null,{default:(0,s.w5)((()=>[o.visible?((0,s.wg)(),(0,s.iD)("div",n4,[(0,s._)("div",d4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("button",{onClick:e=>l.handleChange(t.id),key:t.id,class:"hover:tw-bg-gray-100 tw-items-center tw-w-full tw-text-start hover:tw-text-gray-700 tw-text-gray-700 tw-flex tw-gap-2 tw-px-4 tw-py-2 tw-text-sm",role:"menuitem"},[(0,s._)("span",null,(0,at.zw)(t.name),1)],8,w4)))),128))])])):(0,s.kq)("",!0)])),_:1})])),[[re.L,l.handleClickOutside]]):((0,s.wg)(),(0,s.iD)("div",c4,[(0,s._)("div",u4,[(0,s.Wm)(i)])]))])):(0,s.kq)("",!0)}var m4={props:{deliveries:{required:!0},item:{required:!0}},data(){return{visible:!1,isLoading:!1,errors:{}}},computed:{availableDeliveries(){return[{id:null,name:"Select"},...this.deliveries.items.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))]},selected(){return this.availableDeliveries.find((t=>t.id==this.item.affectation))}},methods:{handleClickOutside(){this.visible&&(this.visible=!1)},handleChange(t){this.visible=!1,this.errors={};const e={...this.item,affectation:t};f2(this,e,!1)}}};const g4=(0,p.Z)(m4,[["render",p4]]);var h4=g4,f4={components:{TableActions:J5,TableRowAffectation:h4},props:{item:{required:!0},selected:{required:!0},deliveries:{required:!0},all:{required:!0},index:{required:!0}},data(){return{moment:Qg()}},computed:{confirmation(){return Xn.find((t=>t.value==this.item.confirmation))},deliveryState(){return ad.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}},mounted(){}};const y4=(0,p.Z)(f4,[["render",u1]]);var x4=y4,b4={components:{TablePaginationNoNums:V0,TableRow:x4},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0},deliveries:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const v4=(0,p.Z)(b4,[["render",k0]]);var _4=v4;const k4={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},C4={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},D4=["disabled"],S4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),z4=[S4],U4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),P4=[U4],L4=["disabled"],q4=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),$4=[q4],A4={class:"tw-relative"},W4=["value"],E4=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option>',7),T4=[E4],F4=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),O4={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},V4=["value"],I4={class:"tw-overflow-hidden tw-col-span-1"},j4={class:"tw-overflow-hidden tw-col-span-1"};function R4(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=((0,s.up)("IndexExport"),(0,s.up)("IndexStatistics"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",k4,[(0,s._)("div",C4,[(0,s._)("button",{class:(0,at.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,D4),(0,s.kq)("",!0),(0,s._)("button",{title:"Show Filters Tab",onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,at.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},z4,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:1,title:"Show Statistics Tab",onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,at.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},P4,2)):(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("button",{title:"Refresh",onClick:e[5]||(e[5]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},$4,8,L4),(0,s.kq)("",!0),(0,s._)("div",A4,[(0,s._)("select",{onChange:e[7]||(e[7]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},T4,40,W4),F4])]),(0,s._)("div",O4,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,V4),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",I4,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s.kq)("",!0),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:1,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",j4,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const M4={class:"tw-mb-4"},N4={class:"tw-grid tw-grid-cols-12 tw-gap-4"},H4={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Y4={class:"tw-flex tw-items-center tw-justify-between"},Z4={class:"tw-text-xl tw-font-bold tw-text-gray-900"},K4={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function B4(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",M4,[(0,s._)("div",N4,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",H4,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",Y4,[(0,s._)("span",Z4,(0,at.zw)(t.total),1),(0,s._)("span",K4,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var Q4={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Xn.find((e=>e.value==t))}}};const J4=(0,p.Z)(Q4,[["render",B4]]);var G4=J4;const X4={class:"tw-mb-4"},t3={class:"tw-flex tw-items-center tw-gap-2"},e3=["disabled"],r3=(0,s._)("span",null,"Select Filtered",-1),a3={class:"tw-flex tw-justify-end"},s3=["disabled"];function o3(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",X4,[(0,s._)("div",t3,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),r3],8,e3)]),(0,s._)("div",a3,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,at.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,s3)])])}var l3={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Yh["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const i3=(0,p.Z)(l3,[["render",o3]]);var n3=i3;const d3={class:"tw-mb-4"},w3={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},c3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},u3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),p3=["value"],m3=(0,s._)("option",{value:"all",selected:""},"All",-1),g3=["value"],h3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},f3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),y3=["value"],x3=(0,s._)("option",{value:"all",selected:""},"All",-1),b3=["value"],v3={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},_3=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),k3=(0,s._)("span",null,"Clear",-1),C3=[_3,k3],D3=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),S3=(0,s._)("span",null,"Filter",-1),z3=[D3,S3];function U3(t,e,r,a,o,l){(0,s.up)("ProductFilter"),(0,s.up)("AgentFilter");const i=(0,s.up)("AffectationFilter");return(0,s.wg)(),(0,s.iD)("div",d3,[(0,s._)("div",w3,[(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",c3,[u3,(0,s._)("select",{value:r.filters.followup_confirmation,onChange:e[6]||(e[6]=e=>t.$emit("update",{...r.filters,followup_confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[m3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.value},(0,at.zw)(t.name),11,g3)))),128))],40,p3)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[7]||(e[7]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",h3,[f3,(0,s._)("select",{onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[x3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value?t.value:"",key:t.id},(0,at.zw)(t.name),11,b3)))),128))],40,y3)]),(0,s.kq)("",!0),(0,s._)("div",v3,[(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},C3),(0,s._)("button",{onClick:e[11]||(e[11]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},z3)])])])}const P3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},L3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),q3=["value"],$3=(0,s._)("option",{value:"all"},"All",-1),A3=(0,s._)("option",{value:""},"No Delivery",-1),W3=["value"];function E3(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",P3,[L3,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[$3,A3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,W3)))),128))],40,q3)])}var T3={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const F3=(0,p.Z)(T3,[["render",E3]]);var O3=F3;const V3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},I3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),j3=["value"],R3=(0,s._)("option",{value:"all"},"All",-1),M3=(0,s._)("option",{value:""},"No Agent",-1),N3=["value"];function H3(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",V3,[I3,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[R3,M3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,N3)))),128))],40,j3)])}var Y3={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const Z3=(0,p.Z)(Y3,[["render",H3]]);var K3=Z3;const B3={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Q3=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),J3=["value"],G3=(0,s._)("option",{value:"all"},"All",-1),X3=["value"];function t6(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",B3,[Q3,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[G3,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,X3)))),128))],40,J3)])}var e6={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const r6=(0,p.Z)(e6,[["render",t6]]);var a6=r6,s6={components:{AffectationFilter:O3,AgentFilter:K3,ProductFilter:a6},props:{filters:{required:!0,default:{}}},data(){return{followup_confirmations:ed,deliveries:ad,dateFilter:["",""]}}};const o6=(0,p.Z)(s6,[["render",U3]]);var l6=o6,i6={components:{IndexStatistics:G4,FiltersWrapper:l6,IndexExport:n3},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},showReportedFirst(){this.$emit("update:filters",{...this.filters,reported_first:!this.filters.reported_first}),this.$emit("filter")},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Qg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const n6=(0,p.Z)(i6,[["render",R4]]);var d6=n6;const w6={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},c6=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),u6={class:"tw-bg-white tw-p-4"},p6={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},m6={class:"tw-col-span-2 md:tw-col-span-1"},g6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),h6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},f6={class:"tw-col-span-2 md:tw-col-span-1"},y6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),x6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},b6={class:"tw-col-span-2 md:tw-col-span-1"},v6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),_6={class:"tw-relative"},k6=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),C6=["value"],D6=["value"],S6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),z6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},U6={class:"tw-col-span-2 md:tw-col-span-1"},P6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),L6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},q6={class:"tw-col-span-2"},$6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Reconfirmation",-1),A6={class:"tw-relative"},W6=["value"],E6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),T6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},F6={key:0,class:"md:tw-col-span-1 tw-col-span-2"},O6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),V6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},I6={key:1,class:"md:tw-col-span-1 tw-col-span-2"},j6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),R6={class:"tw-col-span-2"},M6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),N6={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},H6={class:"md:tw-col-span-1 tw-col-span-2"},Y6={class:"md:tw-col-span-1 tw-col-span-2"},Z6=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),K6={class:"tw-relative"},B6=["value"],Q6=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),J6={class:"tw-col-span-2"},G6={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},X6={key:0,class:"tw-text-red-400 tw-text-xs"},t7={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},e7=["disabled"],r7=(0,s._)("span",null,"Create",-1);function a7(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",w6,[c6,(0,s._)("div",u6,[(0,s._)("div",p6,[(0,s._)("div",m6,[g6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",h6,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",f6,[y6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",x6,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",b6,[v6,(0,s._)("div",_6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[k6,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,C6),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,D6)))),128))],34),[[a.bM,l.itemCopy.city]]),S6]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",z6,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",U6,[P6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",L6,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",q6,[$6,(0,s._)("div",A6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.followup_confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.followup_confirmation=null),class:(0,at.C_)([[l.errors.followup_confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.followup_confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,W6)))),128))],34),[[a.bM,l.itemCopy.followup_confirmation]]),E6]),l.errors.followup_confirmation?((0,s.wg)(),(0,s.iD)("label",T6,(0,at.zw)(l.errors.followup_confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",F6,[O6,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.followup_reported_date=t),onInput:e[11]||(e[11]=t=>l.errors.followup_reported_date=null),class:(0,at.C_)([[l.errors.followup_reported_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.followup_reported_date]]),l.errors.followup_reported_date?((0,s.wg)(),(0,s.iD)("label",V6,(0,at.zw)(l.errors.followup_reported_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.followup_confirmation?((0,s.wg)(),(0,s.iD)("div",I6,[j6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.followup_reported_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.followup_reported_note]])])):(0,s.kq)("",!0),(0,s._)("div",R6,[M6,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",N6,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",H6,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",Y6,[Z6,(0,s._)("div",K6,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,B6)))),128))],512),[[a.bM,l.itemCopy.upsell]]),Q6])]),(0,s._)("div",J6,[(0,s._)("label",G6,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",X6," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",t7,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),r7],8,e7)])])])),_:1},8,["visible","onCancel"])])}const s7=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},o7=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},l7=(t,e)=>{t.isLoading=!0,t.errors={},ei.create(e).then((e=>s7(t,e.data))).catch((e=>o7(t,e.response.data))).finally((()=>t.isLoading=!1))};var i7={components:{OrderItems:g5,OrderAffectation:L5},props:{visible:{required:!0}},data(){return{followup_confirmations:ed,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=p2(this,this.itemCopy);if(!t)return!1;l7(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:"confirmer",upsell:null,items:[]},this.getProducts()}};const n7=(0,p.Z)(i7,[["render",a7]]);var d7=n7,w7={components:{IndexTable:_4,IndexFilters:d6,CreatePopup:d7,BulkActions:RG},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ei.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const c7=(0,p.Z)(w7,[["render",VX]]);var u7=c7,p7={name:"sales",path:"/sales",component:ca,meta:{module:"sale"},children:[{name:"sale/list",path:"",component:gR,meta:{module:"sale",subModule:"sale/list",title:"Sales List",gate:"show_all_sales"}},{name:"sale/newlist",path:"new",component:HG,meta:{module:"sale",subModule:"sale/newlist",title:"Sales List",gate:"show_all_sales"}},{name:"sale/expidation",path:"expidation",component:nX,meta:{module:"sale",subModule:"sale/expidation",title:"Expidation",gate:"show_all_expidations"}},{name:"sale/shipping",path:"shipping",component:DX,meta:{module:"sale",subModule:"sale/shipping",title:"Shipping",gate:"show_all_expidations"}},{name:"sale/followup",path:"followup",component:u7,meta:{module:"followup",subModule:"sale/followup",title:"Follow Up",gate:"show_all_expidations"}}]};const m7={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},g7={class:"tw-px-3"},h7={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},f7={class:"tw-flex tw-items-center tw-gap-x-3"},y7=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),x7={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},b7=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"List of all orders.",-1),v7={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},_7=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),k7=(0,s._)("span",null,"Create",-1),C7=[_7,k7],D7={key:0};function S7(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",m7,[(0,s._)("section",g7,[(0,s._)("div",h7,[(0,s._)("div",null,[(0,s._)("div",f7,[y7,(0,s._)("span",x7,(0,at.zw)(o.totalOrders)+" order",1)]),b7]),(0,s._)("div",v7,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},C7)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",D7,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const z7={class:"tw-flex tw-flex-col"},U7={class:"tw-overflow-x-auto"},P7={class:"tw-inline-block tw-min-w-full tw-align-middle"},L7={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},q7={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},$7={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},A7=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),W7={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},E7=(0,s._)("span",null,"Created",-1),T7=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),F7=[E7,T7],O7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),V7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),I7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Products ",-1),j7=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),R7=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Affected ",-1),M7=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),N7={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},H7={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Y7=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Z7=[Y7],K7={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},B7={colspan:"8"},Q7={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},J7=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),G7=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),X7=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),t8=[G7,X7],e8={class:"tw-mt-6"};function r8(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",z7,[(0,s._)("div",U7,[(0,s._)("div",P7,[(0,s._)("div",L7,[(0,s._)("table",q7,[(0,s._)("thead",$7,[(0,s._)("tr",null,[A7,(0,s._)("th",W7,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},F7)]),O7,V7,I7,j7,R7,M7])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",N7,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",H7,Z7)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",K7,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",B7,[(0,s._)("div",Q7,[J7,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},t8)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",e8,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const a8={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},s8={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},o8={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},l8={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},i8=["disabled"],n8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),d8=(0,s._)("span",null," previous ",-1),w8=[n8,d8],c8=["disabled"],u8=(0,s._)("span",null," Next ",-1),p8=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),m8=[u8,p8];function g8(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",a8,[(0,s._)("div",s8,[(0,s.Uk)(" Page "),(0,s._)("span",o8,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",l8,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},w8,10,i8),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},m8,10,c8)])])])}var h8={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const f8=(0,p.Z)(h8,[["render",g8]]);var y8=f8;const x8={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},b8={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},v8={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},_8={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},k8={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},C8={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},D8={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},S8={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},z8={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},U8={class:"tw-space-y-1"},P8={class:"tw-font-bold tw-text-green-500"},L8={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},q8={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},$8={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},A8={class:"tw-px-12 tw-py-2 tw-text-sm tw-whitespace-nowrap"},W8=(0,s._)("div",{class:"tw-w-1.5 tw-h-1.5 tw-rounded-full tw-bg-emerald-500"},null,-1),E8={key:1},T8={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function F8(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",x8,[(0,s._)("div",null,[(0,s._)("h2",b8,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",v8,[(0,s._)("div",null,[(0,s._)("h2",_8,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",k8,[(0,s._)("div",null,[(0,s._)("h2",C8,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",D8,[(0,s._)("div",null,[(0,s._)("h2",S8,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",z8,[(0,s._)("div",null,[(0,s._)("ul",U8,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",P8,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",L8,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",q8,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",$8,[(0,s._)("span",{class:(0,at.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.confirmation.name),3)]),(0,s._)("td",A8,[r.item.delivery_fullname?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([["tw-text-emerald-800","tw-bg-emerald-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-pl-1.5 tw-py-0.5 tw-rounded tw-w-fit tw-flex tw-items-center tw-gap-2"])},[W8,(0,s._)("span",null,(0,at.zw)(r.item.delivery_fullname),1)])):((0,s.wg)(),(0,s.iD)("div",E8,[(0,s._)("span",{class:(0,at.C_)([["tw-text-gray-800","tw-bg-gray-100"],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},"No Delivery")]))]),(0,s._)("td",T8,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const O8={class:"tw-h-full"},V8={class:"tw-flex tw-items-center tw-gap-2"},I8=["href"],j8={key:0};function R8(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",O8,[(0,s._)("div",V8,[(0,s._)("a",{target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.item.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})],8,I8),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",j8,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const M8={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},N8=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),H8={class:"tw-bg-white tw-p-4"},Y8={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Z8={class:"tw-col-span-2 md:tw-col-span-1"},K8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),B8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Q8={class:"tw-col-span-2 md:tw-col-span-1"},J8=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),G8={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},X8={class:"tw-col-span-2 md:tw-col-span-1"},t9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),e9={class:"tw-relative"},r9=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),a9=["value"],s9=["value"],o9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),l9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},i9={class:"tw-col-span-2 md:tw-col-span-1"},n9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),d9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},w9={class:"tw-col-span-2"},c9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),u9={class:"tw-relative"},p9=["value"],m9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),g9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},h9={key:0,class:"md:tw-col-span-1 tw-col-span-2"},f9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),y9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},x9={key:1,class:"md:tw-col-span-1 tw-col-span-2"},b9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),v9={class:"tw-col-span-2"},_9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),k9={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},C9={class:"md:tw-col-span-1 tw-col-span-2"},D9={class:"md:tw-col-span-1 tw-col-span-2"},S9=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),z9={class:"tw-relative"},U9=["value"],P9=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),L9={class:"tw-col-span-2"},q9={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},$9={key:0,class:"tw-text-red-400 tw-text-xs"},A9={key:2,class:"tw-col-span-2"},W9={class:"tw-grid lg:tw-grid-cols-2 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},E9={class:"tw-space-y-2 tw-px-5"},T9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-youtube tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Video Link")],-1),F9=["href"],O9={class:"tw-space-y-2 tw-px-5"},V9=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("i",{class:"mdi mdi-store tw-text-orange-400 tw-text-2xl"}),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Store Link")],-1),I9=["href"],j9={key:3,class:"tw-col-span-2"},R9={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},M9=["disabled"],N9=(0,s._)("span",null,"Update",-1);function H9(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("ProductOffersTable"),c=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",M8,[N8,(0,s._)("div",H8,[(0,s._)("div",Y8,[(0,s._)("div",Z8,[K8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",B8,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Q8,[J8,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",G8,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",X8,[t9,(0,s._)("div",e9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[r9,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,a9),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,s9)))),128))],34),[[a.bM,l.itemCopy.city]]),o9]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",l9,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",i9,[n9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",d9,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",w9,[c9,(0,s._)("div",u9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,at.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,p9)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),m9]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",g9,(0,at.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",h9,[f9,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,at.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",y9,(0,at.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",x9,[b9,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",v9,[_9,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",k9,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",C9,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",D9,[S9,(0,s._)("div",z9,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,U9)))),128))],512),[[a.bM,l.itemCopy.upsell]]),P9])]),(0,s._)("div",L9,[(0,s._)("label",q9,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",$9," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{action:"update",order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])]),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",A9,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",W9,[(0,s._)("div",E9,[T9,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.video},(0,at.zw)(i.truncateText(t.video,30)),9,F9)]),(0,s._)("div",O9,[V9,(0,s._)("a",{target:"_blank",class:"tw-underline truncate-link tw-max-w-xs tw-overflow-hidden tw-overflow-ellipsis",href:t.store},(0,at.zw)(i.truncateText(t.store,30)),9,I9)])])])))),128))])):(0,s.kq)("",!0),l.products_fetched?((0,s.wg)(),(0,s.iD)("div",j9,[(0,s.Wm)(w,{products:l.products,item:l.itemCopy},null,8,["products","item"])])):(0,s.kq)("",!0)])]),(0,s._)("div",R9,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),N9],8,M9)])])])),_:1},8,["visible","onCancel"])])}const Y9=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&!["confirmer","refund","change"].includes(e.confirmation)?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!Z9(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),Z9=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},K9=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={},t.$store.dispatch("agent/refreshCounts")},B9=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Q9=(t,e)=>{t.isLoading=!0,t.errors={},E.update(e.id,e).then((e=>K9(t,e.data))).catch((e=>B9(t,e.response.data))).finally((()=>t.isLoading=!1))},J9={key:0},G9=(0,s._)("p",{class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"}," No Order items ",-1),X9={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},ttt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),ett=(0,s._)("span",null,"Add Item",-1),rtt=[ttt,ett],att={key:1,class:"md:tw-col-span-12 tw-col-span-12"},stt={class:"tw-max-w-full tw-overflow-auto"},ott={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},ltt={class:"tw-bg-gray-50"},itt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},ntt={key:0},dtt={colspan:"6"},wtt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},ctt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),utt=(0,s._)("span",null,"Add Item",-1),ptt=[ctt,utt],mtt=(0,s._)("td",{colspan:"4"},null,-1),gtt=(0,s._)("td",null,null,-1),htt={colspan:"1",class:"tw-p-2"},ftt={class:"tw-p-2 tw-py-1 tw-text-lg tw-font-['cairo'] tw-text-green-500 tw-w-24 tw-font-bold tw-tracking-wide tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},ytt={key:1},xtt={colspan:"6"},btt={class:"tw-scale-75 tw-p-5"};function vtt(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",J9,[G9,(0,s._)("div",X9,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},rtt)])])),r.items.length?((0,s.wg)(),(0,s.iD)("div",att,[(0,s._)("div",stt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",ott,[(0,s._)("tr",ltt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",itt,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",ntt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,action:r.action,item:t,order:r.order,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["action","item","order","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[(0,s._)("td",dtt,[(0,s._)("div",wtt,[(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},ptt)])])]),(0,s._)("tr",null,[mtt,gtt,(0,s._)("td",htt,[(0,s._)("div",ftt,[(0,s._)("p",null,(0,at.zw)(o.currency)+" "+(0,at.zw)(l.price),1)])])])])):((0,s.wg)(),(0,s.iD)("tbody",ytt,[(0,s._)("tr",null,[(0,s._)("td",xtt,[(0,s._)("div",btt,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}const _tt=(0,s._)("td",null,null,-1),ktt={class:"tw-p-2"},Ctt={class:"tw-relative"},Dtt=["value"],Stt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),ztt=["value"],Utt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Ptt={class:"tw-p-2"},Ltt={key:0,class:"tw-relative"},qtt=["value"],$tt=(0,s._)("option",{value:"",disabled:""},"Choose Variation",-1),Att=["value"],Wtt={key:1,class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},Ett=(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})],-1),Ttt=[Ett],Ftt={class:"tw-p-2"},Ott=["value"],Vtt={class:"tw-p-2"},Itt=["value"],jtt={class:"tw-flex tw-justify-center"};function Rtt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("tr",null,[_tt,(0,s._)("td",null,[(0,s._)("div",ktt,[(0,s._)("div",Ctt,[(0,s._)("select",{onChange:e[0]||(e[0]=(...t)=>l.handleProductChange&&l.handleProductChange(...t)),value:r.item.product_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[Stt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filteredProducts,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,ztt)))),128))],40,Dtt),Utt])])]),(0,s._)("td",null,[(0,s._)("div",Ptt,[r.item.product_id?((0,s.wg)(),(0,s.iD)("div",Ltt,[l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("select",{key:0,onChange:e[1]||(e[1]=(...t)=>l.handleVariationChange&&l.handleVariationChange(...t)),value:r.item.product_variation_id,class:"tw-block tw-border-solid focus:tw-outline-none tw-w-full tw-p-2 tw-pr-6 tw-text-xs tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},[$tt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.product.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.color)+" "+(0,at.zw)(t.size),9,Att)))),128))],40,qtt)):(0,s.kq)("",!0),l.product.variations.length>1?((0,s.wg)(),(0,s.iD)("div",Wtt,Ttt)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])]),(0,s._)("td",null,[(0,s._)("div",Ftt,[(0,s._)("input",{onInput:e[2]||(e[2]=e=>t.$emit("update",{...r.item,quantity:parseInt(e.target.value)>=0?parseInt(e.target.value):0})),value:r.item.quantity,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Ott)])]),(0,s._)("td",null,[(0,s._)("div",Vtt,[(0,s._)("input",{onInput:e[3]||(e[3]=e=>t.$emit("update",{...r.item,price:parseFloat(e.target.value)})),value:r.item.price,min:"0",type:"number",class:"focus:tw-outline-none tw-border-solid tw-block tw-w-24 tw-p-2 tw-text-gray-900 tw-border tw-border-gray-300 tw-rounded-lg tw-bg-gray-50 sm:tw-text-xs focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},null,40,Itt)])]),(0,s._)("td",null,[(0,s._)("div",jtt,[(0,s._)("button",{onClick:e[4]||(e[4]=(...t)=>l.handleDelete&&l.handleDelete(...t)),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])])])])}var Mtt={props:{item:{required:!0},products:{required:!0},order:{required:!1},action:{required:!0}},computed:{product(){return 0==this.item.product_id?null:this.products.find((t=>t.id==this.item.product_id))},productsForUpdate(){return this.products.filter((t=>t.user_id==this.order.user_id))},productsForCreate(){if(!this.order.items.length)return this.products;const t=this.order.items[0];return t.product_id?this.products.filter((e=>e.user_id==t.product.user_id)):this.products},filteredProducts(){return"update"==this.action?this.productsForUpdate:this.productsForCreate}},methods:{handleProductChange(t){const e=parseInt(t.target.value);if(!e)return!1;const r=this.products.find((t=>t.id==e));console.log(r.variations.length>0?r.variations[0].id:null);const a={...this.item,product_id:e,product:r,product_ref:r.ref,product_variation_id:r.variations.length>0?r.variations[0].id:null,product_variation:r.variations.length>0?r.variations[0]:null};if(this.$emit("update",a),console.log(this.order),this.order.items.length){const t=this.order.items[0];console.log(t)}},handleVariationChange(t){this.$emit("update",{...this.item,product_variation:this.product.variations.find((e=>e.id==parseInt(t.target.value))),product_variation_id:parseInt(t.target.value)})},handleDelete(){this.$emit("delete",this.item.id)}},mounted(){}};const Ntt=(0,p.Z)(Mtt,[["render",Rtt]]);var Htt=Ntt,Ytt={components:{ItemRow:Htt},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0},order:{required:!0},action:{required:!1,default:"update"}},data(){return{currency:c}},computed:{price(){return Go(this.order)},filteredProducts(){return this.products.filter((t=>t.user_id==this.order.user_id))}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1].id:1,e=t?t+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const Ztt=(0,p.Z)(Ytt,[["render",vtt]]);var Ktt=Ztt;const Btt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),Qtt={key:0,class:"tw-relative"},Jtt=["value","disabled"],Gtt=(0,s._)("option",{value:""},"Choose a Delivery",-1),Xtt=["value"],tet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),eet={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ret={key:2,class:"tw-relative"},aet={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},set=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),oet=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function iet(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[Btt,o.fetched?((0,s.wg)(),(0,s.iD)("div",Qtt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:!["confirmer","refund","change"].includes(r.item.confirmation),class:(0,at.C_)([[r.error&&"!tw-border-red-400",!["confirmer","refund","change"].includes(r.item.confirmation)&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[Gtt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Xtt)))),128))],42,Jtt),tet])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",eet,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",ret,[(0,s._)("div",aet,[(0,s.Wm)(i)]),set,oet]))])}var net={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){this.$emit("update:affectation",null)}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const det=(0,p.Z)(net,[["render",iet]]);var wet=det;const cet={key:0},uet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Offers",-1),pet={class:"md:tw-col-span-12 tw-col-span-12"},met={class:"tw-max-w-full tw-overflow-auto"},get={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},het=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 !tw-rounded-t-lg tw-border tw-border-solid"},[(0,s._)("tr",{class:"tw-bg-gray-50"},[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product Name"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Quantity"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 tw-w-32"},"Price"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Note")])],-1),fet={class:"tw-px-3 tw-py-2"},yet={class:"tw-px-3 tw-py-2"},xet={class:"tw-px-3 tw-py-2"},bet={class:"tw-px-3 tw-py-2"},vet={class:"tw-max-w-[250px] tw-text-sm"};function _et(t,e,r,a,o,l){return l.offers.length?((0,s.wg)(),(0,s.iD)("div",cet,[uet,(0,s._)("div",pet,[(0,s._)("div",met,[(0,s._)("table",get,[het,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.offers,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"odd:tw-bg-white even:tw-bg-gray-50 tw-border-b"},[(0,s._)("td",fet,(0,at.zw)(l.getProduct(t.product_id)?.name),1),(0,s._)("td",yet,(0,at.zw)(t.quantity),1),(0,s._)("td",xet,(0,at.zw)(t.price)+" "+(0,at.zw)(o.currency),1),(0,s._)("td",bet,[(0,s._)("p",vet,(0,at.zw)(t.note),1)])])))),128))])])])])])):(0,s.kq)("",!0)}var ket={props:{products:{required:!0},item:{required:!0}},data(){return{currency:c}},computed:{offers(){return this.products.filter((t=>this.item.items.map((t=>t.product_id)).includes(t.id))).flatMap((t=>t.offers))}},methods:{getProduct(t){return this.products.find((e=>e.id==t))}},mounted(){}};const Cet=(0,p.Z)(ket,[["render",_et]]);var Det=Cet,zet={components:{OrderItems:Ktt,OrderAffectation:wet,ProductOffersTable:Det},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Xn,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,product:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=Y9(this,this.itemCopy);if(!t)return!1;Q9(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder(this.itemCopy.user_id).then((t=>{if("SUCCESS"==t.data.code){this.products=t.data.data.products;const e=this.itemCopy.items.map((t=>t.product_id));this.product=this.products.filter((t=>e.includes(t.id)))}else this.products=[];this.products_fetched=!0})).catch(this.$handleApiError)},truncateText(t,e){return t.length>e?t.slice(0,e)+"...":t}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const Uet=(0,p.Z)(zet,[["render",H9]]);var Pet=Uet,Let={components:{UpdatePopup:Pet},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const qet=(0,p.Z)(Let,[["render",R8]]);var $et=qet,Aet={components:{TableActions:$et},props:{item:{required:!0}},data(){return{moment:Qg()}},computed:{confirmation(){return Xn.find((t=>t.value==this.item.confirmation))},deliveryState(){return ad.find((t=>t.value==this.item.delivery))}},methods:{}};const Wet=(0,p.Z)(Aet,[["render",F8]]);var Eet=Wet,Tet={components:{TablePaginationNoNums:y8,TableRow:Eet},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const Fet=(0,p.Z)(Tet,[["render",r8]]);var Oet=Fet;const Vet={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},Iet=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),jet={class:"tw-bg-white tw-p-4"},Ret={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},Met={class:"tw-col-span-2 md:tw-col-span-1"},Net=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),Het={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Yet={class:"tw-col-span-2 md:tw-col-span-1"},Zet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),Ket={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},Bet={class:"tw-col-span-2 md:tw-col-span-1"},Qet=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),Jet={class:"tw-relative"},Get=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),Xet=["value"],trt=["value"],ert=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),rrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},art={class:"tw-col-span-2 md:tw-col-span-1"},srt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),ort={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},lrt={class:"tw-col-span-2"},irt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),nrt={class:"tw-relative"},drt=["value"],wrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),crt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},urt={key:0,class:"md:tw-col-span-1 tw-col-span-2"},prt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Date",-1),mrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},grt={key:1,class:"md:tw-col-span-1 tw-col-span-2"},hrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Reported Note",-1),frt={class:"tw-col-span-2"},yrt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),xrt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},brt={class:"md:tw-col-span-1 tw-col-span-2"},vrt={class:"md:tw-col-span-1 tw-col-span-2"},_rt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),krt={class:"tw-relative"},Crt=["value"],Drt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Srt={class:"tw-col-span-2"},zrt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Urt={key:0,class:"tw-text-red-400 tw-text-xs"},Prt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},Lrt=["disabled"],qrt=(0,s._)("span",null,"Create",-1);function $rt(t,e,r,o,l,i){const n=(0,s.up)("OrderAffectation"),d=(0,s.up)("OrderItems"),w=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(w,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",Vet,[Iet,(0,s._)("div",jet,[(0,s._)("div",Ret,[(0,s._)("div",Met,[Net,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",Het,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",Yet,[Zet,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",Ket,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",Bet,[Qet,(0,s._)("div",Jet,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[Get,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,Xet),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,trt)))),128))],34),[[a.bM,l.itemCopy.city]]),ert]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",rrt,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",art,[srt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",ort,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s._)("div",lrt,[irt,(0,s._)("div",nrt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.itemCopy.confirmation=t),onChange:e[9]||(e[9]=t=>l.errors.confirmation=null),class:(0,at.C_)([[l.errors.confirmation&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:(0,at.C_)([t.text,!t.value&&"!tw-text-green-500"]),key:t.id},(0,at.zw)(t.name),11,drt)))),128))],34),[[a.bM,l.itemCopy.confirmation]]),wrt]),l.errors.confirmation?((0,s.wg)(),(0,s.iD)("label",crt,(0,at.zw)(l.errors.confirmation),1)):(0,s.kq)("",!0)]),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",urt,[prt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.itemCopy.reported_agente_date=t),onInput:e[11]||(e[11]=t=>l.errors.reported_agente_date=null),class:(0,at.C_)([[l.errors.reported_agente_date&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.itemCopy.reported_agente_date]]),l.errors.reported_agente_date?((0,s.wg)(),(0,s.iD)("label",mrt,(0,at.zw)(l.errors.reported_agente_date),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0),"reporter"==l.itemCopy.confirmation?((0,s.wg)(),(0,s.iD)("div",grt,[hrt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.itemCopy.reported_agente_note=t),rows:"1",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,512),[[a.nr,l.itemCopy.reported_agente_note]])])):(0,s.kq)("",!0),(0,s._)("div",frt,[yrt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",xrt,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)]),(0,s._)("div",brt,[(0,s.Wm)(n,{item:l.itemCopy,error:l.errors.affectation,"onUpdate:error":e[15]||(e[15]=t=>l.errors.affectation=t),affectation:l.itemCopy.affectation,"onUpdate:affectation":e[16]||(e[16]=t=>l.itemCopy.affectation=t)},null,8,["item","error","affectation"])]),(0,s._)("div",vrt,[_rt,(0,s._)("div",krt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[17]||(e[17]=t=>l.itemCopy.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.upsells,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,Crt)))),128))],512),[[a.bM,l.itemCopy.upsell]]),Drt])]),(0,s._)("div",Srt,[(0,s._)("label",zrt,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",Urt," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(d,{action:"create",order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",Prt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),qrt],8,Lrt)])])])),_:1},8,["visible","onCancel"])])}const Art=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},Wrt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Ert=(t,e)=>{t.isLoading=!0,t.errors={},E.create(e).then((e=>Art(t,e.data))).catch((e=>Wrt(t,e.response.data))).finally((()=>t.isLoading=!1))};var Trt={components:{OrderItems:Ktt,OrderAffectation:wet},props:{visible:{required:!0}},data(){return{confirmations:td,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleCreate(){const t=Y9(this,this.itemCopy);if(!t)return!1;Ert(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?(this.products=t.data.data.products,console.log(this.products)):this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy={confirmation:null,upsell:null,items:[]},this.getProducts()}};const Frt=(0,p.Z)(Trt,[["render",$rt]]);var Ort=Frt;const Vrt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},Irt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},jrt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Rrt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Mrt=[Rrt],Nrt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),Hrt=[Nrt],Yrt=["disabled"],Zrt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Krt=[Zrt],Brt={class:"tw-relative"},Qrt=["value"],Jrt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Grt=[Jrt],Xrt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),tat={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},eat=["value"],rat={class:"tw-overflow-hidden tw-col-span-1"},aat={class:"tw-overflow-hidden tw-col-span-1"};function sat(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vrt,[(0,s._)("div",Irt,[jrt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Mrt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Hrt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Krt,8,Yrt),(0,s._)("div",Brt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Grt,40,Qrt),Xrt])]),(0,s._)("div",tat,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,eat),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",rat,[(0,s.Wm)(n,{onFilter:e[7]||(e[7]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[8]||(e[8]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",aat,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const oat={class:"tw-mb-4"},lat={class:"tw-grid tw-grid-cols-12 tw-gap-4"},iat={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},nat={class:"tw-flex tw-items-center tw-justify-between"},dat={class:"tw-text-xl tw-font-bold tw-text-gray-900"},wat={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function cat(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",oat,[(0,s._)("div",lat,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",iat,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",nat,[(0,s._)("span",dat,(0,at.zw)(t.total),1),(0,s._)("span",wat,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var uat={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.confirmation)))}},methods:{getConfirmation(t){return Xn.find((e=>e.value==t))}}};const pat=(0,p.Z)(uat,[["render",cat]]);var mat=pat;const gat={class:"tw-mb-4"},hat={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},fat={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},yat=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created",-1),xat=["value"],bat={class:"md:tw-col-span-4 tw-col-span-12 tw-rounded"},vat=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),_at=["value"],kat=(0,s._)("option",{value:"all",selected:""},"All",-1),Cat=["value"],Dat=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})]),(0,s._)("span",null,"Filter")],-1),Sat=[Dat];function zat(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",gat,[(0,s._)("div",hat,[(0,s._)("div",fat,[yat,(0,s._)("input",{value:r.filters.created_at,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_at:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,xat)]),(0,s._)("div",bat,[vat,(0,s._)("select",{value:r.filters.confirmation,onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[kat,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,Cat)))),128))],40,_at)]),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",{onClick:e[3]||(e[3]=e=>t.$emit("filter")),class:"tw-col-span-12 tw-flex tw-justify-end"},Sat)])])}var Uat={props:{filters:{required:!0,default:{}}},data(){return{confirmations:Xn,deliveryStatus:ad,deliveries:[{id:1,value:"annuler",name:"Cancelled"},{id:2,value:"pas-de-reponse",name:"No Answer"}]}}};const Pat=(0,p.Z)(Uat,[["render",zat]]);var Lat=Pat,qat={components:{IndexStatistics:mat,FiltersWrapper:Lat},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const $at=(0,p.Z)(qat,[["render",sat]]);var Aat=$at,Wat={components:{IndexTable:Oet,IndexFilters:Aat,CreatePopup:Ort},data(){return{fetching:!0,items:[],statistics:null,create_popup:!1,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",delivery:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Eat=(0,p.Z)(Wat,[["render",S7]]);var Tat=Eat;const Fat={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Oat={class:"tw-px-3 tw-h-fit"},Vat={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Iat=(0,s._)("div",null,[(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-x-3"},[(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"New Orders")]),(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"take responsibility for new orders.")],-1),jat={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},Rat=["disabled"],Mat=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),Nat=(0,s._)("span",null,"Get Order",-1),Hat=[Mat,Nat],Yat={key:0,class:"tw-p-5"},Zat={key:1,class:"tw-mt-5 tw-space-y-5"},Kat={class:"tw-flex tw-items-center tw-justify-end"},Bat={key:2},Qat=(0,s._)("div",{class:"tw-p-5 tw-border tw-border-solid tw-shadow-sm tw-mt-5 tw-text-center tw-font-medium tw-text-xl tw-text-gray-600 tw-bg-gray-100 tw-w-full tw-rounded-lg"}," No Orders ",-1),Jat=[Qat];function Gat(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",Fat,[(0,s._)("section",Oat,[(0,s._)("div",Vat,[Iat,(0,s._)("div",jat,[(0,s._)("button",{disabled:o.fetching,onClick:e[0]||(e[0]=(...t)=>l.getOrder&&l.getOrder(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Hat,8,Rat)])]),o.fetching?((0,s.wg)(),(0,s.iD)("div",Yat,[(0,s.Wm)(i)])):(0,s.kq)("",!0),!o.fetching&&o.order_exists?((0,s.wg)(),(0,s.iD)("div",Zat,[(0,s.Wm)(n,{order:o.order,onUpdate:e[1]||(e[1]=t=>o.order=t)},null,8,["order"]),o.doubles.length?((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(o.doubles,(t=>((0,s.wg)(),(0,s.j4)(n,{double:!0,key:t.id,order:t,onUpdate:e[2]||(e[2]=t=>o.doubles=o.doubles.map((e=>e.id==t.id?t:e)))},null,8,["order"])))),128)):(0,s.kq)("",!0),(0,s._)("div",Kat,[(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.save&&l.save(...t)),type:"button",class:"tw-px-5 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-orange-500 hover:tw-bg-orange-600 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-orange-100 tw-rounded-lg tw-text-center dark:tw-bg-orange-600 dark:hover:tw-bg-orange-700 dark:focus:tw-ring-orange-800"}," Save ")])])):(0,s.kq)("",!0),o.fetching||o.order_exists?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Bat,Jat))])])}const Xat=t=>{t.fetching=!0,E.toConfirm().then((e=>{const r=e.data;if("NO_ORDER"===r.code)return t.order_exists=!1,!1;"SUCCESS"==r.code&&r.data.orders.length>0&&(t.order=r.data.orders[0],t.order_exists=!0),t.doubles=1==r.data.double?r.data.double_orders.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},tst=t=>null==t.order.confirmation?(t.$alert({title:"Confirmation Not Changed",type:"warning"}),!1):t.doubles.some((t=>null==t.confirmation))?(t.$alert({title:"Double Order Confirmation Not Changed",type:"warning"}),!1):(t.order_exists=!1,t.order=null,t.doubles=[],void t.$alert({title:"Your changes has been saved !",type:"success"})),est=t=>{let e=t.order;if(null!=e&&null==e.confirmation)return t.$alert({type:"warning",title:"Order Not Confirmed"}),!1;t.fetching=!0,E.getOrder().then((e=>{let r=e.data;if("ORDER_NOT_CONFIRMED"==r.code){t.$alert({type:"warning",title:"Order Not Confirmed"});let r=e.data.orders[0];return t.order=JSON.parse(JSON.stringify(r)),t.order_exists=!0,!1}if("SUCCESS"==r.code&&!e.data.orders?.id){let e=r.data.orders;t.order=JSON.parse(JSON.stringify(e)),t.order_exists=!0}if("NO_ORDERS"===r.code)return t.order_exists=!1,!1;t.doubles=1==r.data.double?r.data.double_orders?.filter((e=>e.id!=t.order?.id)):[]})).catch(t.$handleApiError).finally((()=>{t.fetching=!1}))},rst={class:"tw-bg-gray-50 tw-border tw-shadow-sm tw-rounded-lg tw-relative"},ast=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"white","fill-rule":"evenodd",d:"M21.455 5.416a.75.75 0 0 1-.096.943l-9.193 9.192a.75.75 0 0 1-.34.195l-3.829 1a.75.75 0 0 1-.915-.915l1-3.828a.778.778 0 0 1 .161-.312L17.47 2.47a.75.75 0 0 1 1.06 0l2.829 2.828a.756.756 0 0 1 .096.118Zm-1.687.412L18 4.061l-8.518 8.518l-.625 2.393l2.393-.625l8.518-8.519Z","clip-rule":"evenodd"}),(0,s._)("path",{fill:"white",d:"M19.641 17.16a44.4 44.4 0 0 0 .261-7.04a.403.403 0 0 1 .117-.3l.984-.984a.198.198 0 0 1 .338.127a45.91 45.91 0 0 1-.21 8.372c-.236 2.022-1.86 3.607-3.873 3.832a47.77 47.77 0 0 1-10.516 0c-2.012-.225-3.637-1.81-3.873-3.832a45.922 45.922 0 0 1 0-10.67c.236-2.022 1.86-3.607 3.873-3.832a47.75 47.75 0 0 1 7.989-.213a.2.2 0 0 1 .128.34l-.993.992a.402.402 0 0 1-.297.117a46.164 46.164 0 0 0-6.66.255a2.89 2.89 0 0 0-2.55 2.516a44.421 44.421 0 0 0 0 10.32a2.89 2.89 0 0 0 2.55 2.516c3.355.375 6.827.375 10.183 0a2.89 2.89 0 0 0 2.55-2.516Z"})],-1),sst={class:"tw-p-5 tw-flex tw-items-center tw-gap-2"},ost={class:"tw-text-xl tw-font-bold tw-text-gray-600"},lst=(0,s._)("span",{class:"tw-text-sm tw-text-gray-500"},null,-1),ist={key:0,class:"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded tw-bg-purple-100 tw-text-purple-600"},nst={class:"tw-grid lg:tw-grid-cols-4 md:tw-grid-cols-2 tw-grid-cols-1 tw-gap-5 tw-divide-x-2"},dst={class:"tw-space-y-2 tw-px-5"},wst=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke-linecap="round" stroke-width="1.5"><path d="M7 18v-1a5 5 0 0 1 5-5v0a5 5 0 0 1 5 5v1"></path><path stroke-linejoin="round" d="M12 12a3 3 0 1 0 0-6a3 3 0 0 0 0 6Z"></path><path stroke-linejoin="round" d="M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6Z"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">Client Name</span></div>',1),cst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},ust={class:"tw-space-y-2 tw-px-5"},pst=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{class:"tw-stroke-orange-500",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M18.118 14.702L14 15.5c-2.782-1.396-4.5-3-5.5-5.5l.77-4.13L7.815 2H4.064c-1.128 0-2.016.932-1.847 2.047c.42 2.783 1.66 7.83 5.283 11.453c3.805 3.805 9.286 5.456 12.302 6.113c1.165.253 2.198-.655 2.198-1.848v-3.584l-3.882-1.479Z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Phone Number")],-1),mst={class:"tw-flex tw-items-center tw-gap-2"},gst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},hst={class:"tw-space-y-2 tw-px-5"},fst=(0,s.uE)('<div class="tw-flex tw-items-center tw-gap-2"><svg class="tw-stroke-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none"><path d="M3.75 18a.75.75 0 0 0-1.5 0h1.5Zm-1.5-4a.75.75 0 0 0 1.5 0h-1.5ZM7 8.75c.964 0 1.612.002 2.095.067c.461.062.659.169.789.3l1.06-1.062c-.455-.455-1.022-.64-1.65-.725c-.606-.082-1.372-.08-2.294-.08v1.5ZM11.75 12c0-.922.002-1.688-.08-2.294c-.084-.628-.27-1.195-.726-1.65l-1.06 1.06c.13.13.237.328.3.79c.064.482.066 1.13.066 2.094h1.5ZM7 7.25c-.922 0-1.688-.002-2.294.08c-.628.084-1.195.27-1.65.725l1.06 1.061c.13-.13.328-.237.79-.3c.482-.064 1.13-.066 2.094-.066v-1.5ZM3.75 12c0-.964.002-1.612.067-2.095c.062-.461.169-.659.3-.789l-1.062-1.06c-.455.455-.64 1.022-.725 1.65c-.082.606-.08 1.372-.08 2.294h1.5Zm0 10v-4h-1.5v4h1.5Zm0-8v-2h-1.5v2h1.5Z"></path><path stroke="currentColor" stroke-linecap="round" stroke-width="1.5" d="M7 22v-6c0-1.886 0-2.828.586-3.414C8.172 12 9.114 12 11 12h2c1.886 0 2.828 0 3.414.586c.472.471.564 1.174.582 2.414M17 22v-2.75m4-11.478c0-1.34 0-2.011-.356-2.525c-.356-.514-.984-.75-2.24-1.22c-2.455-.921-3.682-1.381-4.543-.785C13 3.84 13 5.15 13 7.772V12m8 10V12M4 8V6.5c0-.943 0-1.414.293-1.707C4.586 4.5 5.057 4.5 6 4.5h2c.943 0 1.414 0 1.707.293C10 5.086 10 5.557 10 6.5V8M7 4V2m15 20H2m8-7h.5m3.5 0h-1.5M10 18h4"></path></g></svg><span class="tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600">City</span></div>',1),yst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},xst={class:"tw-space-y-2 tw-px-5"},bst=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 20 20"},[(0,s._)("path",{fill:"#f97316",d:"m19.799 5.165l-2.375-1.83a1.997 1.997 0 0 0-.521-.237A2.035 2.035 0 0 0 16.336 3H9.5l.801 5h6.035c.164 0 .369-.037.566-.098s.387-.145.521-.236l2.375-1.832c.135-.091.202-.212.202-.334s-.067-.243-.201-.335zM8.5 1h-1a.5.5 0 0 0-.5.5V5H3.664c-.166 0-.37.037-.567.099c-.198.06-.387.143-.521.236L.201 7.165C.066 7.256 0 7.378 0 7.5c0 .121.066.242.201.335l2.375 1.832c.134.091.323.175.521.235c.197.061.401.098.567.098H7v8.5a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-17a.5.5 0 0 0-.5-.5z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Address")],-1),vst={class:"tw-font-[cairo] tw-text-lg tw-font-bold tw-pl-8 tw-text-gray-700"},_st={class:"tw-p-5 tw-py-3 tw-w-full tw-border-t tw-border-solid tw-mt-3"},kst={class:""},Cst=(0,s._)("div",{class:"tw-flex tw-items-center tw-gap-2"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 2048 2048"},[(0,s._)("path",{fill:"#f97316",d:"M1024 1000v959l-64 32l-832-415V536l832-416l832 416v744h-128V680l-640 320zm-64-736L719 384l621 314l245-122l-625-312zm-64 1552v-816L256 680v816l640 320zM335 576l625 312l238-118l-622-314l-241 120zm1073 1216v-128h640v128h-640zm0-384h640v128h-640v-128zm-256 640v-128h128v128h-128zm0-512v-128h128v128h-128zm0 256v-128h128v128h-128zm-128 24h1h-1zm384 232v-128h640v128h-640z"})]),(0,s._)("span",{class:"tw-font-[cairo] tw-text-sm tw-font-medium tw-text-gray-600"},"Product")],-1),Dst={class:"tw-p-3 tw-pl-10 tw-space-y-2"},Sst={class:"tw-font-bold tw-text-green-500"},zst={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Ust={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},Pst={class:"tw-font-[cairo] tw-mt-2 tw-flex tw-items-center tw-justify-end tw-gap-1 tw-text-2xl tw-text-green-400 tw-font-bold"},Lst={key:0};function qst(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",rst,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),type:"button",class:"tw-px-5 tw-absolute tw-right-3 tw-top-3 tw-z-10 tw-py-2 tw-text-sm tw-gap-2 tw-font-medium tw-text-white tw-inline-flex tw-items-center tw-bg-green-400 hover:tw-bg-green-500 focus:tw-ring-4 focus:tw-outline-none focus:tw-ring-green-100 tw-rounded-lg tw-text-center dark:tw-bg-green-600 dark:hover:tw-bg-green-700 dark:focus:tw-ring-green-800"},[ast,(0,s.Uk)(" Edit ")]),(0,s._)("div",sst,[(0,s._)("span",ost,[lst,(0,s.Uk)(" ID: "+(0,at.zw)(r.order.id),1)]),(0,s._)("span",{class:(0,at.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.confirmation.name),3),r.double?((0,s.wg)(),(0,s.iD)("span",ist,"Maybe double")):(0,s.kq)("",!0)]),(0,s._)("div",nst,[(0,s._)("div",dst,[wst,(0,s._)("span",cst,(0,at.zw)(r.order.fullname),1)]),(0,s._)("div",ust,[pst,(0,s._)("div",mst,[(0,s._)("span",gst,(0,at.zw)(r.order.phone),1),(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"text",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"green"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])]),(0,s._)("div",hst,[fst,(0,s._)("span",yst,(0,at.zw)(r.order.city),1)]),(0,s._)("div",xst,[bst,(0,s._)("span",vst,(0,at.zw)(r.order.adresse),1)])]),(0,s._)("div",_st,[(0,s._)("div",kst,[Cst,(0,s._)("ul",Dst,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",Sst,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",null,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",zst,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",Ust,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128)),(0,s._)("li",Pst,[(0,s._)("span",null,(0,at.zw)(o.currency),1),(0,s._)("span",null,(0,at.zw)(l.price),1)])])])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",Lst,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.order},null,8,["visible","item"])])):(0,s.kq)("",!0)])}var $st={components:{UpdatePopup:Pet},props:{order:{required:!0},double:{required:!1}},data(){return{currency:c,popup:!1}},computed:{price(){return Go(this.order)},confirmation(){return Xn.find((t=>t.value==this.order.confirmation))}}};const Ast=(0,p.Z)($st,[["render",qst]]);var Wst=Ast,Est={components:{OrderCard:Wst},data(){return{fetching:!0,order_exists:!1,doubles:[],order:null}},methods:{toConfirm(){Xat(this)},getOrder(){est(this)},save(){tst(this)}},mounted(){this.toConfirm()}};const Tst=(0,p.Z)(Est,[["render",Gat]]);var Fst=Tst;const Ost={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Vst={class:"tw-px-3"},Ist={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},jst={class:"tw-flex tw-items-center tw-gap-x-3"},Rst=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),Mst={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Nst=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"Show all confirmed orders.",-1);function Hst(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Ost,[(0,s._)("section",Vst,[(0,s._)("div",Ist,[(0,s._)("div",null,[(0,s._)("div",jst,[Rst,(0,s._)("span",Mst,(0,at.zw)(o.totalOrders)+" order",1)]),Nst]),(0,s.kq)("",!0)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":""},null,8,["search","filters","onPerPageChange","onFresh","loading","statistics"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}var Yst={components:{IndexTable:Oet,IndexFilters:Aat},data(){return{fetching:!0,items:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{confirmation:"all",created_at:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters,confirmation:"confirmer"};return this.fetching=!0,E.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Zst=(0,p.Z)(Yst,[["render",Hst]]);var Kst=Zst,Bst={name:"orders",path:"/agent/orders",component:ca,meta:{module:"order"},children:[{name:"order/list",path:"",component:Tat,meta:{module:"order",subModule:"order/list",title:"Orders List",gate:"show_all_orders"}},{name:"order/show",path:"add",component:Fst,meta:{module:"order",subModule:"order/show",title:"Current Order",gate:"show_all_orders"}},{name:"order/confirmed",path:"confirmed",component:Kst,meta:{module:"order",subModule:"order/confirmed",title:"Confirmed Orders",gate:"show_all_orders"}}]};const Qst=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Orders")])],-1),Jst={key:0},Gst={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Xst={key:0,class:"tw-grid tw-grid-cols-12 tw-gap-5"},tot={key:1},eot={class:"tw-min-h-[400px] tw-flex tw-flex-col tw-justify-center tw-items-center"},rot=(0,s._)("p",{class:"tw-font-medium tw-text-neutral-400 tw-text-lg tw-mb-n3"},"No Confirmed orders for now.",-1),aot=["src"];function sot(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation"),n=(0,s.up)("OrderCard");return(0,s.wg)(),(0,s.iD)("div",null,[Qst,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Jst,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Gst,[l.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Xst,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filteredOrders,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"tw-col-span-12 md:tw-col-span-4"},[((0,s.wg)(),(0,s.j4)(n,{order:t,key:t.id},null,8,["order"]))])))),128))])):((0,s.wg)(),(0,s.iD)("div",tot,[(0,s._)("div",eot,[rot,(0,s._)("img",{src:o.localUrl+"images/delivery.jpg",class:"tw-mt-0 tw-mx-auto tw-max-w-[600px] tw-w-full",alt:""},null,8,aot)])]))])):(0,s.kq)("",!0)])}var oot=r(9875),lot=r(1888),iot=r(1334);const not={class:"tw-text-sm tw-text-orange-500x tw-bg-orange-500x/10 tw-underline tw-underline-offset-2 tw-px-1 tw-w-fit tw-rounded"},dot={class:"tw-w-full tw-whitespace-normal"},wot=(0,s._)("div",{class:"tw-border-b tw-mb-1 tw-border-dashed"},null,-1),cot={class:"tw-flex tw-items-center"},uot={key:0},pot={key:1},mot={class:"tw-min-w-fit tw-w-[25px] tw-h-[25px] tw-flex tw-items-center tw-justify-center tw-text-md tw-font-bold tw-p-1 tw-rounded tw-text-orange-400 tw-bg-orange-400/10"},got=(0,s._)("span",{class:"tw-text-sm"},"x",-1),hot={key:0},fot={key:0,class:"tw-px-5 tw-py-2 tw-mt-2 tw-border-neutral-200 tw-border-t tw-border-dashed"},yot=(0,s._)("p",{class:"tw-text-md tw-font-bold tw-text-pink-500"},"NOTE",-1),xot={class:"tw-flex tw-items-center tw-text-gray-500"},bot={class:"tw-flex tw-items-center tw-text-gray-500"};function vot(t,e,r,a,o,l){const i=(0,s.up)("OrderCardDelivery");return(0,s.wg)(),(0,s.j4)(os._,{class:(0,at.C_)(["tw-mx-auto tw-relative tw-border-dashed !tw-shadow-lg !tw-shadow-gray-100/70",[!!r.order.note&&"tw-border-pink-00","livrer"==r.order.delivery&&"tw-border-emerald-400"]]),flat:"",border:""},{default:(0,s.w5)((()=>[(0,s._)("div",{class:(0,at.C_)(["tw-absolute tw-top-0 tw-right-0 tw-py-1 tw-px-2 tw-rounded-bl tw-text-xs",[l.delivery?.bg,l.delivery?.text]])},(0,at.zw)(r.order.delivery),3),(0,s.Wm)(oot._,null,{title:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("p",not,(0,at.zw)(r.order.city),1),(0,s._)("p",dot,(0,at.zw)(r.order.adresse),1)]),wot])),_:1}),(0,s.Wm)(lot.Z,{class:"py-0"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,{align:"center","no-gutters":""},{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",class:"tw-flex tw-items-center tw-flex-wrap tw-text-gray-500"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-account",size:"small",class:"tw-mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.fullname)+" ",1),r.order.note?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,icon:"mdi-note-outline",size:"small",class:"tw-ml-2 tw-text-sm !tw-text-pink-500"})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(ga.D,{cols:"12",class:"tw-text-gray-500 tw-space-y-1 tw-mt-2"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-flex tw-items-center tw-gap-3",key:t.id},[(0,s._)("div",cot,[(0,s._)("span",null,[(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",uot,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",pot,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])]),(0,s._)("div",null,[(0,s._)("p",mot,[got,(0,s.Uk)(" "+(0,at.zw)(t.quantity),1)])])])))),128))])),_:1}),(0,s.Wm)(ga.D,{class:"text-h4 tw-my-3",cols:"12"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.getPrice(r.order)),1)])),_:1})])),_:1})])),_:1}),(0,s.kq)("",!0),(0,s.Wm)(Et.Fx,null,{default:(0,s.w5)((()=>[t.expand?((0,s.wg)(),(0,s.iD)("div",hot,[r.order.note?((0,s.wg)(),(0,s.iD)("div",fot,[yot,(0,s._)("p",null,(0,at.zw)(r.order.note),1)])):(0,s.kq)("",!0),(0,s.Wm)(ar.i,{class:"bg-transparent tw-space-y-2 !tw-px-5 tw-py-3 tw-border-neutral-200 tw-border-dashed tw-border-t tw-mt-5"},{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s._)("div",xot,[(0,s.Wm)(lt.t,{icon:"mdi-phone",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.phone),1)])]),(0,s._)("div",null,[(0,s._)("div",bot,[(0,s.Wm)(lt.t,{icon:"mdi-calendar",class:"mr-2 tw-text-sm"}),(0,s.Uk)(" "+(0,at.zw)(r.order.created_at?.split("T")[0].split("-").reverse().join(".")),1)])])])),_:1})])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(te.J),(0,s.Wm)(iot.h,{class:"tw-flex tw-justify-end tw-gap-2 tw-flex-wrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(st.T,{class:"tw-capitalize tw-mx-auto tw-bg-orange-500/5 tw-text-orange-500",rounded:"lg",density:"comfortable",icon:"",variant:"flat",onClick:e[0]||(e[0]=e=>t.expand=!t.expand)},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.expand?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})])),_:1}),(0,s.Wm)(nr.C),r.order.phone?((0,s.wg)(),(0,s.j4)(st.T,{key:0,link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"tw-capitalize tw-bg-green-500/5 tw-text-green-500 tw-border tw-border-green-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),r.order.phone?((0,s.wg)(),(0,s.j4)(st.T,{key:1,link:"",target:"_blank",href:"tel:"+r.order.phone,class:"tw-capitalize tw-bg-blue-500/5 tw-text-blue-500 tw-border tw-border-blue-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-phone")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=e=>t.confirmPopup=!0),class:"tw-capitalize tw-bg-emerald-500 tw-text-white tw-border tw-border-emerald-500/30",icon:"",rounded:"lg",variant:"flat",density:"comfortable"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-check")])),_:1})])),_:1})])),_:1}),((0,s.wg)(),(0,s.j4)(i,{delivery:r.order.delivery,order:r.order,key:r.order,visible:t.confirmPopup,onCancel:e[2]||(e[2]=e=>t.confirmPopup=!1)},null,8,["delivery","order","visible"]))])),_:1},8,["class"])}const _ot={class:"md:tw-w-[80%] tw-overflow-hidden tw-w-[95%] tw-max-w-[550px] tw-mx-auto tw-my-3 tw-min-h-[200px] tw-bg-white tw-rounded-lg tw-shadow-lg"},kot={class:"tw-px-5 tw-pt-5"},Cot=(0,s._)("h1",{class:"tw-font-bold tw-text-gray-600"},"Select Status",-1),Dot={class:"tw-mt-3 tw-flex tw-gap-3 tw-flex-wrap"},Sot=["disabled","onClick"],zot={class:"tw-mt-5 tw-px-5 tw-py-3 tw-bg-gray-50 tw-border-t tw-flex tw-gap-2 tw-justify-end"},Uot=(0,s._)("span",{class:"!tw-text-gray-500"},"Cancel",-1),Pot=(0,s._)("span",{class:"!tw-text-white"},"Confirm",-1);function Lot(t,e,r,a,o,l){const i=(0,s.up)("popup-full"),n=(0,s.up)("OrderReporting");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:l.cancel,visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",_ot,[(0,s._)("div",kot,[Cot,(0,s._)("div",Dot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(e=>((0,s.wg)(),(0,s.iD)("button",{disabled:l.isDisabled(e),onClick:t=>l.handleChange(e),key:e.value,class:(0,at.C_)([[l.isDisabled(e)&&"tw-saturate-0",e.text,e.bg,e.id==t.delivery&&[e.ring,"tw-ring"]],"tw-px-4 tw-py-2 tw-rounded"])},(0,at.zw)(e.name),11,Sot)))),128))])]),(0,s._)("div",zot,[(0,s.Wm)(st.T,{onClick:l.cancel,class:"!tw-capitalize",color:"grey-lighten-3",flat:""},{default:(0,s.w5)((()=>[Uot])),_:1},8,["onClick"]),(0,s.Wm)(st.T,{onClick:l.handleConfirm,loading:t.isLoading,class:"!tw-capitalize",color:"primary-color",flat:""},{default:(0,s.w5)((()=>[Pot])),_:1},8,["onClick","loading"])])])])),_:1},8,["onCancel","visible"]),(0,s.Wm)(n,{onOrderReported:l.cancel,order:r.order,visible:t.showPopupReporter,onCancel:e[0]||(e[0]=e=>t.showPopupReporter=!1)},null,8,["onOrderReported","order","visible"])])}const qot={class:"md:tw-max-w-[400px] tw-bg-white tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5 !tw-w-[95%] tw-mx-auto"},$ot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Reported Date",-1),Aot=(0,s._)("br",null,null,-1),Wot=(0,s._)("p",{class:"tw-text-neutral-600 mb-2"},"Enter Note",-1),Eot={class:"tw-flex tw-justify-end tw-mt-2"};function Tot(t,e,r,o,l,i){const n=(0,s.up)("VueDatePicker"),d=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.order.id},[(0,s.Wm)(d,{type:"info",title:"Add Note","btn-color":"blue",onCancel:e[2]||(e[2]=t=>i.cancel()),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",qot,[$ot,(0,s.Wm)(n,{modelValue:l.date,"onUpdate:modelValue":e[0]||(e[0]=t=>l.date=t),format:i.format},null,8,["modelValue","format"]),Aot,Wot,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.note=t),cols:"30",rows:"12",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n        ",512),[[a.nr,l.note]]),(0,s._)("div",Eot,[(0,s.Wm)(st.T,{class:"tw-capitalize",loading:l.isLoading,variant:"flat",color:"green",onClick:i.handleConfirm},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Fot={props:["visible","order"],data(){return{isLoading:!1,note:"",date:null,realDate:null,newOrder:null}},methods:{handleConfirm(){if(!this.date)return this.$alert({type:"warning",title:"Please select a date"}),!1;const t={...this.order};t.reported_delivery_date=this.realDate,t.reported_delivery_note=this.note,t.delivery="reporter",this.isLoading=!0,na.deliveryUpdateDelivery(t.id,"reporter",t).then((e=>{console.log(e.data),this.$alert({type:"success",title:"Order reported successfully"}),this.$emit("orderReported"),this.$store.dispatch("order/update",{id:t.id,order:t}),this.cancel()}),this.$handleApiError).finally((()=>this.isLoading=!1))},format(t){const e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();return this.realDate=`${o}-${s}-${r}`,`${r}/${s}/${o}`},cancel(){this.$emit("cancel")}},mounted(){console.log(this.order)}};const Oot=(0,p.Z)(Fot,[["render",Tot]]);var Vot=Oot,Iot={props:["visible","order"],components:{OrderReporting:Vot},data:()=>({status:ad,disabled:sd,delivery:2,isLoading:!1,note:"",showPopupReporter:!1}),computed:{deliveryStatus(){return this.status.filter((t=>!!t.value))},selected(){return this.status.find((t=>t.id==this.delivery))}},watch:{order:{handler(t){this.delivery=this.getDeliveryId(t.delivery)},deep:!0,immediate:!0}},methods:{cancel(){this.getCurrentStatus(),this.$emit("cancel")},isDisabled(t){return this.disabled.includes(t.value)},handleChange(t){if(this.isDisabled(t))return!1;this.delivery=t.id},handleConfirm(){const t=this.selected;if(t.value===this.order.delivery)return this.cancel(),!1;"reporter"!=t.value&&this.updateOrder().then((()=>{this.cancel()})),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,na.deliveryUpdateDelivery(this.order.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.order.id,this.selected.value),this.isLoading=!1,this.cancel())}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})},getDeliveryId(t){return this.status.find((e=>e.value==t)).id||0},getCurrentStatus(){this.delivery=this.getDeliveryId(this.order.delivery)}},mounted(){this.getCurrentStatus()}};const jot=(0,p.Z)(Iot,[["render",Lot]]);var Rot=jot,Mot={components:{OrderCardDelivery:Rot},props:["order"],data:()=>({deliveryStatus:ad,expand:!1,confirmPopup:!1,labels:[{name:"Telephone",field:"phone",icon:"mdi-phone"},{name:"Date",field:"created_at",icon:"mdi-calendar"}]}),computed:{delivery(){return this.getDeliveryStatus(this.order.delivery)}},methods:{getDeliveryStatus(t){return this.deliveryStatus.find((e=>e.value==t))||this.deliveryStatus[0]},getPrice(t){return Go(t)}}};const Not=(0,p.Z)(Mot,[["render",vot]]);var Hot=Not,Yot={components:{OrderCard:Hot},data(){return{localUrl:n,deliveryStatus:ad,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"].filter((t=>"livrer"!=t.delivery))},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){na.deliveryOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const Zot=(0,p.Z)(Yot,[["render",sot]]);var Kot=Zot;const Bot=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Delivered Orders"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Delivered orders list")])],-1),Qot={key:0},Jot={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Got={class:"mb-5 tw-flex"},Xot={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},tlt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},elt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},rlt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Delivery",-1),alt={class:"tw-relative"},slt=["value"],olt={key:0,class:""},llt={key:1},ilt=(0,s._)("p",null,"No orders for now",-1),nlt=[ilt];function dlt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("OrdersTable");return(0,s.wg)(),(0,s.iD)("div",null,[Bot,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qot,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Jot,[(0,s._)("div",Got,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Xot,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",tlt,[(0,s._)("div",elt,[rlt,(0,s._)("div",alt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.deliveryFilter=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveryStatus,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.value?t.value:"all"},(0,at.zw)(t.name),9,slt)))),128))],512),[[a.bM,l.deliveryFilter]]),(0,s.Wm)(lt.t,{class:"tw-pointer-events-none tw-absolute tw-right-1 tw-text-neutral-500 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])],2),i.orders.length>0?((0,s.wg)(),(0,s.iD)("div",olt,[(0,s.Wm)(d,{orders:i.filteredOrders},null,8,["orders"])])):((0,s.wg)(),(0,s.iD)("div",llt,nlt))])):(0,s.kq)("",!0)])}const wlt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},clt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ult={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},plt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),mlt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},glt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},hlt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},flt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),ylt=["value"],xlt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},blt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},vlt={class:"tw-text-white"};function _lt(t,e,r,o,l,i){const n=(0,s.up)("OrderRow");return(0,s.wg)(),(0,s.iD)("div",{key:r.orders.length},[(0,s._)("div",wlt,[(0,s._)("table",clt,[(0,s._)("thead",ult,[(0,s._)("tr",null,[plt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",mlt,(0,at.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.j4)(n,{key:t.id,order:t},null,8,["order"])))),128))])])]),(0,s._)("div",glt,[(0,s._)("div",hlt,[flt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,ylt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",xlt,[(0,s._)("div",blt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.orders.length:i.nextRange)+" of "+(0,at.zw)(r.orders.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",vlt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const klt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Clt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Dlt={class:"tw-px-6 tw-py-4 tw-relative"},Slt={key:0},zlt={class:"tw-px-6 tw-py-4"},Ult={class:"tw-px-6 tw-py-4"},Plt={class:"tw-px-6 tw-py-4"},Llt={class:"tw-px-6 tw-py-4"},qlt={class:"tw-pb-2"},$lt={class:"tw-text-orange-500 tw-font-bold tw-pr-1 tw-text-xs"},Alt={key:0},Wlt={key:1},Elt={class:"tw-px-6 tw-py-4 tw-relative"},Tlt={class:"tw-flex tw-items-center tw-justify-center"},Flt={class:"tw-flex tw-gap-1"},Olt={key:0},Vlt={class:"tw-px-6 tw-py-4"},Ilt={class:"tw-px-6 tw-py-4"},jlt={class:"tw-px-6 tw-py-4"},Rlt={class:"tw-max-w-[300px] tw-min-w-[150px] tw-whitespace-normal"},Mlt={class:"tw-px-6 tw-py-4"};function Nlt(t,e,r,a,o,l){const i=(0,s.up)("OrderDelivery"),n=(0,s.up)("OrderActions");return(0,s.wg)(),(0,s.iD)("tr",{key:r.order.id,class:(0,at.C_)([["reporter"==r.order.delivery&&"tw-relative",l.isReportedToday(r.order)&&"!tw-border tw-border-red-400"],"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"])},[klt,(0,s._)("th",Clt,(0,at.zw)(r.order.id),1),(0,s._)("td",Dlt,[(0,s.Uk)((0,at.zw)(r.order?.created_at?.split("T")[0])+" ",1),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([l.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[l.isReportedToday(r.order)?((0,s.wg)(),(0,s.iD)("span",Slt," Reported for today ")):(0,s.kq)("",!0)],2)):(0,s.kq)("",!0)]),(0,s._)("td",zlt,(0,at.zw)(r.order.fullname),1),(0,s._)("td",Ult,(0,at.zw)(r.order.adresse),1),(0,s._)("td",Plt,(0,at.zw)(r.order.phone),1),(0,s._)("td",Llt,[(0,s._)("div",qlt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.order.items,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"tw-font-bold"},[(0,s.Uk)(" - "),(0,s._)("span",$lt,(0,at.zw)(t.quantity)+" X ",1),(0,s.Uk)((0,at.zw)(t.product.name)+" ",1),t.product_variation.size?((0,s.wg)(),(0,s.iD)("span",Alt,"| "+(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0),t.product_variation.color?((0,s.wg)(),(0,s.iD)("span",Wlt,"| "+(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",Elt,[(0,s._)("div",Tlt,[((0,s.wg)(),(0,s.j4)(i,{class:(0,at.C_)("reporter"==r.order.delivery&&"tw-mb-1"),order:r.order,id:r.order.id,key:r.order.delivery,delivery:r.order.delivery},null,8,["class","order","id","delivery"])),"reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([l.isReportedToday(r.order)&&"!tw-bg-red-400","tw-text-xs tw-text-white tw-px-1 tw-rounded-t tw-bottom-0 tw-left-1/2 -tw-translate-x-1/2 tw-absolute tw-bg-gray-500"])},[(0,s._)("span",Flt,["reporter"==r.order.delivery?((0,s.wg)(),(0,s.iD)("span",Olt,[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1}),(0,s._)("span",null,(0,at.zw)(r.order?.reported_delivery_date?.split("T")[0]),1)])):(0,s.kq)("",!0)])],2)):(0,s.kq)("",!0)])]),(0,s._)("td",Vlt,(0,at.zw)(l.getPrice(r.order)),1),(0,s._)("td",Ilt,(0,at.zw)(r.order.city),1),(0,s._)("td",jlt,[(0,s._)("div",Rlt,(0,at.zw)(r.order.note),1)]),(0,s._)("td",Mlt,[((0,s.wg)(),(0,s.j4)(n,{key:r.order.id,order:r.order},null,8,["order"]))])],2)}const Hlt={key:0,class:"focus:tw-ring-4 tw-min-w-fit focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between tw-bg-green-500/10 tw-text-green-500"},Ylt={key:1},Zlt={class:"tw-py-2 tw-space-y-1 tw-text-sm tw-text-gray-700 tw-max-h-[250px] tw-overflow-y-auto"},Klt=["onClick"];function Blt(t,e,r,a,o,l){const i=(0,s.up)("OrderReporting");return(0,s.wy)(((0,s.wg)(),(0,s.iD)("div",{key:r.delivery,class:"tw-relative tw-min-w-[100px]"},["livrer"==r.delivery?((0,s.wg)(),(0,s.iD)("div",Hlt,(0,at.zw)(l.selected.name),1)):(0,s.kq)("",!0),"livrer"!=r.delivery?((0,s.wg)(),(0,s.iD)("div",Ylt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.toggle&&l.toggle(...t)),class:(0,at.C_)([[l.selected.text,l.selected.bg,l.selected.ring],"focus:tw-ring-4 tw-min-w-[100px] focus:tw-outline-none tw-font-medium tw-rounded-lg tw-text-sm tw-px-2 tw-py-1 tw-text-center tw-inline-flex tw-items-center tw-justify-between"]),type:"button"},[(0,s.Uk)((0,at.zw)(l.selected.name)+" ",1),o.isLoading?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(lt.t,{key:0,class:"tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(o.isOpen?"mdi-chevron-up":"mdi-chevron-down"),1)])),_:1})),o.isLoading?((0,s.wg)(),(0,s.j4)(lt.t,{key:1,class:"tw-animate-spin tw-ml-1"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)],2),(0,s._)("div",{class:(0,at.C_)([{"tw-hidden":!o.isOpen},"tw-z-[20] tw-bg-white tw-absolute tw-top-full tw-left-0 tw-divide-y tw-divide-gray-100 tw-rounded-lg tw-shadow tw-w-44"])},[(0,s._)("ul",Zlt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.options,(t=>((0,s.wg)(),(0,s.iD)("li",{onClick:e=>!o.disabled.includes(t.value)&&l.handleChange(t),key:t.id},[(0,s._)("a",{class:(0,at.C_)(["tw-block tw-px-4 tw-py-2",[o.disabled.includes(t.value)?"tw-text-neutral-400/80 tw-bg-neutral-400/10":[t.text,t.bg]]])},(0,at.zw)(t.name),3)],8,Klt)))),128))])],2),(0,s.Wm)(i,{order:r.order,visible:o.showPopupReporter,onCancel:e[1]||(e[1]=t=>o.showPopupReporter=!1)},null,8,["order","visible"])])):(0,s.kq)("",!0)])),[[re.L,l.close]])}var Qlt={props:["delivery","id","order"],components:{OrderReporting:Vot},data(){return{isLoading:!1,isOpen:!1,showPopup:!1,nextOption:null,note:"",selectedId:0,allOptions:ad,disabled:sd,showPopupReporter:!1}},computed:{options(){return this.allOptions.filter((t=>t.id!==this.selectedId))},selected(){return this.allOptions.filter((t=>t.id==this.selectedId))[0]},availableOptions(){return this.allOptions.map((t=>t.value))}},methods:{close(){this.isOpen=!1},toggle(){this.isOpen=!this.isOpen},handleChange(t){if(t.id===this.selectedId)return!1;"reporter"!=t.value&&(this.selectedId=t.id,this.updateOrder(),this.close()),"reporter"==t.value&&(this.showPopupReporter=!0)},async updateOrder(){return this.isLoading=!0,na.deliveryUpdateDelivery(this.id,this.selected.value).then((t=>{"SUCCESS"===t.data.code&&(this.$alert({type:"success",title:t.data.data}),this.updateDelivery(this.id,this.selected.value),this.isLoading=!1)}),(t=>this.$handleApiError(t))).then((()=>this.$emit("update",this.selected.value)))},updateDelivery(t,e){this.$store.dispatch("order/updateDelivery",{id:t,delivery:e})}},mounted(){this.availableOptions.includes(this.delivery)?this.selectedId=this.allOptions.find((t=>t.value==this.delivery)).id:this.selectedId=0}};const Jlt=(0,p.Z)(Qlt,[["render",Blt]]);var Glt=Jlt;const Xlt={key:0};function tit(t,e,r,a,o,l){return o.newOrder?((0,s.wg)(),(0,s.iD)("div",Xlt,[(0,s.Wm)(st.T,{link:"",target:"_blank",href:"https://api.whatsapp.com/send?phone="+r.order.phone.replace("+","").replace("-","").replace(" ",""),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-whatsapp")])),_:1})])),_:1},8,["href"])])):(0,s.kq)("",!0)}var eit={props:["order"],name:"orderActions",data(){return{newOrder:null}},computed:{},methods:{},mounted(){this.newOrder={...this.order}}};const rit=(0,p.Z)(eit,[["render",tit]]);var ait=rit,sit={props:["order","showNote"],components:{OrderDelivery:Glt,OrderActions:ait},data(){return{showPopup:!1,isLoading:!1,todayDate:null}},methods:{handleClick(){this.showPopup=!0},isReportedToday(t){return"reporter"==t.delivery&&t.reported_delivery_date==this.todayDate},getPrice(t){return Go(t)}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const oit=(0,p.Z)(sit,[["render",Nlt]]);var lit=oit,iit={props:["orders"],components:{OrderRow:lit},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,todayDate:null,columns:["#","Date","Client","Address","Phone","Product","Delivery","Price","City","Note","Actions"]}},computed:{deliveries(){return this.$store.getters["user/deliveries"]},prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.orders.length/this.paginationLimit)},items(){const t=[...this.reportedForToday,...this.orders.filter((t=>!this.isReportedToday(t)))];return t.slice(this.prevRange,this.nextRange)},reportedForToday(){return this.orders.filter(this.isReportedToday)}},methods:{isReportedToday(t){return"reporter"==t.confirmation&&t.reported_agente_date==this.todayDate}},mounted(){const t=new Date,e=t.getDate(),r=e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),a=t.getMonth()+1,s=a.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),o=t.getFullYear();this.todayDate=`${o}-${s}-${r}`}};const nit=(0,p.Z)(iit,[["render",_lt]]);var dit=nit,wit={components:{OrdersTable:dit},data(){return{localUrl:n,deliveryStatus:ad,isLoaded:!1,showFilters:!1,deliveryFilter:"all",affectationFilter:"all",upsellFilter:"all",search:""}},computed:{orders(){return this.$store.getters["order/orders"]},filteredOrders(){const t=this.deliveryFilter;return this.orders.filter((e=>{if("all"!==t&&e.delivery!==t)return!1;const r=((t,e)=>{for(const r in t)if(!["created_at","updated_at"].includes(r)&&String(t[r]).toLowerCase().includes(e.toLowerCase()))return!0;return!1})(e,this.search);return!!r}))}},methods:{getOrders(){na.deliveryDeliveredOrders().then((t=>{const e=t.data.data.orders;this.$store.dispatch("order/setOrders",e),this.isLoaded=!0}),this.$handleApiError)}},mounted(){this.$store.dispatch("order/setOrders",[]),this.getOrders()}};const cit=(0,p.Z)(wit,[["render",dlt]]);var uit=cit,pit={name:"deliveries",path:"/deliveries",component:ca,meta:{module:"delivery"},children:[{name:"delivery/list",path:"",component:Kot,meta:{module:"delivery",subModule:"delivery/list",title:"Orders List",gate:"all"}},{name:"delivery/delivered",path:"/delivered",component:uit,meta:{module:"delivery",subModule:"delivery/delivered",title:"Delivered Orders List",gate:"all"}}]};const mit=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Inventory State List "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),git={key:0},hit={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},fit={class:"mb-5 tw-flex"},yit={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},xit={key:0,class:""};function bit(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("InventoryStateTable");return(0,s.wg)(),(0,s.iD)("div",null,[mit,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",git,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",hit,[(0,s._)("div",fit,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",yit,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),i.inventoryState.length>0?((0,s.wg)(),(0,s.iD)("div",xit,[(0,s.Wm)(d,{columns:l.columns,states:i.filteredInventoryState},null,8,["columns","states"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}class vit{async inventoryStates(){return await A.getCookie(),q.get("api/inventorystates")}async inventoryMovements(){return await A.getCookie(),q.get("api/inventorymovements")}async getMovement(t){return await A.getCookie(),q.get("api/inventorymovements/"+t)}async inventoryMovementCreate({product_id:t,delivery_id:e,variants:r}){return await A.getCookie(),q.post("api/inventorymovements/new",{product_id:t,delivery_id:e,variations:r})}async inventoryMovementUpdate(t,{product_id:e,delivery_id:r,variants:a,quantity:s}){return await A.getCookie(),q.post("api/inventorymovements/update/"+t,{product_id:e,delivery_id:r,variants:a,quantity:s})}async deliveryUpdateMovement(t,e,r){return await A.getCookie(),q.post("api/delivery/inventorymovements/update/"+t,{is_received:e,note:r})}async delete(t){return await A.getCookie(),q["delete"]("api/inventorymovements/delete/"+t)}}var _it=new vit;const kit={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Cit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Dit={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Sit=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),zit={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Uit=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Pit={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Lit={class:"tw-px-6 tw-py-4 tw-underline tw-underline-offset-1 tw-font-medium"},qit={class:"tw-px-6 tw-py-4"},$it={class:"tw-px-6 tw-py-4"},Ait={class:"tw-px-6 tw-py-4 tw-font-bold tw-text-green-500"},Wit={class:"tw-px-6 tw-py-4"},Eit={class:"tw-px-6 tw-py-4"},Tit=(0,s._)("br",null,null,-1),Fit={class:"tw-px-6 tw-py-4"},Oit={class:"mt-5 tw-flex tw-justify-between"},Vit={class:"d-flex align-center"},Iit=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700"},"Show per page: ",-1),jit={class:"d-flex align-center"},Rit={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Mit={class:"tw-text-white"};function Nit(t,e,r,a,o,l){const i=(0,s.up)("router-link"),n=(0,s.up)("InventoryStateActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",kit,[(0,s._)("table",Cit,[(0,s._)("thead",Dit,[(0,s._)("tr",null,[Sit,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",zit,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.items,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Uit,(0,s._)("th",Pit,(0,at.zw)(t.id),1),(0,s._)("td",Lit,[(0,s.Wm)(i,{to:"products/"+t.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.name),1)])),_:2},1032,["to"])]),(0,s._)("td",qit,(0,at.zw)(t.buying_price)+" DH ",1),(0,s._)("td",$it,(0,at.zw)(t.selling_price)+" DH ",1),(0,s._)("td",Ait,(0,at.zw)(l.availableQuantity(t)),1),(0,s._)("td",Wit,(0,at.zw)(t.total_quantity),1),(0,s._)("td",Eit,[(0,s.Uk)((0,at.zw)(t.updated_at?.split("T")[0])+" ",1),Tit,(0,s.Uk)(" "+(0,at.zw)(t.updated_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Fit,[(0,s.Wm)(n,{state:t},null,8,["state"])])])))),128))])])]),(0,s._)("div",Oit,[(0,s._)("div",Vit,[Iit,(0,s.Wm)(eb.r,{"hide-details":!0,modelValue:o.paginationLimit,"onUpdate:modelValue":e[0]||(e[0]=t=>o.paginationLimit=t),items:o.allowedLimit,variant:"outlined",density:"compact",color:"primary-color"},null,8,["modelValue","items"])]),(0,s._)("div",jit,[(0,s._)("div",Rit,(0,at.zw)(l.prevRange+1)+" - "+(0,at.zw)(o.currentPage==l.pageCount?r.states.length:l.nextRange)+" of "+(0,at.zw)(r.states.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>o.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==o.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Mit,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}function Hit(t,e,r,a,o,l){const i=(0,s.up)("InventoryStateDetails"),n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",{key:r.state.id,class:"tw-flex tw-items-center"},[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>o.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1}),(0,s.Wm)(n,{visible:o.detailsPopup,onCancel:e[2]||(e[2]=t=>o.detailsPopup=!1)},{default:(0,s.w5)((()=>[o.detailsPopup?((0,s.wg)(),(0,s.j4)(i,{key:0,onCancel:e[1]||(e[1]=t=>o.detailsPopup=!1),state:r.state},null,8,["state"])):(0,s.kq)("",!0)])),_:1},8,["visible"])])}const Yit={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},Zit={class:"tw-p-5"},Kit={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},Bit=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Qit={class:"tw-w-4 tw-p-4"},Jit={class:"tw-w-4 tw-p-4"},Git={class:"tw-w-4 tw-p-4"},Xit={class:"tw-w-4 tw-p-4"},tnt={class:"tw-flex tw-items-center tw-gap-1"},ent={class:"tw-text-green-500"},rnt={key:0},ant={class:"tw-text-red-400"},snt=(0,s.uE)('<div class="tw-flex tw-gap-3 mt-5"><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-green-500"></div><span>Available</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-neutral-700"></div><span>Initial</span></div><div class="tw-flex tw-items-center tw-gap-1 tw-text-xs"><div class="tw-w-[10px] tw-h-[10px] tw-rounded-full tw-bg-red-400"></div><span>Not Received</span></div></div>',1);function ont(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Yit,[(0,s.Wm)(st.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",Zit,[(0,s._)("table",Kit,[Bit,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.state.variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Qit,(0,at.zw)(t.id),1),(0,s._)("td",Jit,(0,at.zw)(t.size),1),(0,s._)("td",Git,(0,at.zw)(t.color),1),(0,s._)("td",Xit,[(0,s._)("div",tnt,[(0,s._)("span",ent,(0,at.zw)(t.available_quantity),1),(0,s._)("span",null,"/ "+(0,at.zw)(t.quantity),1),t.on_hold>0?((0,s.wg)(),(0,s.iD)("span",rnt,[(0,s.Uk)(" / "),(0,s._)("span",ant,(0,at.zw)(t.on_hold),1)])):(0,s.kq)("",!0)])])])))),128))])]),snt])])}var lnt={props:["state"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){console.log(this.state)}};const int=(0,p.Z)(lnt,[["render",ont]]);var nnt=int,dnt={props:["rowIndex","state"],components:{InventoryStateDetails:nnt},name:"inventoryStateActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{},mounted(){}};const wnt=(0,p.Z)(dnt,[["render",Hit]]);var cnt=wnt,unt={props:["columns","states"],components:{InventoryStateActions:cnt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.states.length/this.paginationLimit)},items(){return this.states.slice(this.prevRange,this.nextRange)}},methods:{availableQuantity(t){let e=0;return t.variations.forEach((t=>{e+=t.available_quantity})),e}}};const pnt=(0,p.Z)(unt,[["render",Nit]]);var mnt=pnt,gnt={components:{InventoryStateTable:mnt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"product_name",name:"Product Name"},{prop:"buying_price",name:"Buying Price"},{prop:"selling_price",name:"Selling Price"},{prop:"available",name:"Available"},{prop:"quantity",name:"Quantity"},{prop:"updated_at",name:"Updated At"},{prop:"actions",name:"Actions"}]}},computed:{inventoryState(){return this.$store.getters["inventory/inventoryState"]},filteredInventoryState(){return this.inventoryState.filter((t=>!!(t.ref.toLowerCase().includes(this.search.toLowerCase())||t.name.toLowerCase().includes(this.search.toLowerCase())||t.description.toLowerCase().includes(this.search.toLowerCase()))))}},methods:{async getInventoryStates(){await _it.inventoryStates().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryState",e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryStates()}};const hnt=(0,p.Z)(gnt,[["render",bit]]);var fnt=hnt;const ynt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Add Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create New Movement")],-1),xnt={key:0},bnt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},vnt={class:"tw-w-full"},_nt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),knt={class:"tw-relative"},Cnt=["disabled"],Dnt=["value"],Snt={class:"tw-w-full"},znt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Product Name",-1),Unt={class:"tw-relative"},Pnt=["disabled"],Lnt=["value"],qnt={class:"tw-w-full"},$nt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),Ant={class:"tw-relative"},Wnt=["value"],Ent={class:"tw-w-full"},Tnt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),Fnt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},Ont=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),Vnt={class:"tw-max-w-full"},Int={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jnt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),Rnt={class:"tw-w-4 tw-p-4"},Mnt={class:"tw-w-4 tw-p-4"},Nnt={class:"tw-w-4 tw-p-4"},Hnt={class:"tw-w-4 tw-p-4"},Ynt={class:"tw-w-4 tw-p-4"},Znt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Knt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Bnt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Qnt=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function Jnt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[ynt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",xnt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",bnt,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",vnt,[_nt,(0,s._)("div",knt,[(0,s.wy)((0,s._)("select",{disabled:l.selectedVariations.length,"onUpdate:modelValue":e[0]||(e[0]=t=>l.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,Dnt)))),128))],8,Cnt),[[a.bM,l.delivery]]),(0,s.Wm)(lt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Snt,[znt,(0,s._)("div",Unt,[(0,s.wy)((0,s._)("select",{disabled:l.selectedVariations.length>0,"onUpdate:modelValue":e[1]||(e[1]=t=>l.product=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,Lnt)))),128))],8,Pnt),[[a.bM,l.product]]),(0,s.Wm)(lt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",qnt,[$nt,(0,s._)("div",Ant,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.color+" - "+t.size+"  ("+t.available_quantity+" items)"),9,Wnt)))),128))],512),[[a.bM,l.variation]]),(0,s.Wm)(lt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",Ent,[Tnt,(0,s._)("div",null,[(0,s.Wm)(it.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[3]||(e[3]=t=>l.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",Fnt,[(0,s.Wm)(st.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ont])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",Vnt,[(0,s._)("table",Int,[jnt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Rnt,(0,at.zw)(t.id),1),(0,s._)("td",Mnt,(0,at.zw)(t.size),1),(0,s._)("td",Nnt,(0,at.zw)(t.color),1),(0,s._)("td",Hnt,(0,at.zw)(t.quantity),1),(0,s._)("td",Ynt,[(0,s._)("div",Znt,[(0,s.Wm)(st.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Knt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Bnt])),_:1}),(0,s.Wm)(st.T,{onClick:i.create,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Qnt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Gnt={data(){return{isLoading:!1,isLoaded:!1,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.available_quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.available_quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},create(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,_it.inventoryMovementCreate({product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.selectedVariations=[],this.getData()),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await et.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return _it.inventoryStates().then((t=>{if("SHOW_ALL_INVENTORY_STATES"==t.data.code){const e=t.data.data;if(this.$store.dispatch("product/setProducts",e),e.length>0){const t=e[0];this.product=t.id,this.variations.length>0&&(this.variation=this.variations[0].id)}else this.product=null}}),(t=>{this.$handleApiError(t)}))},getData(){this.isLoaded=!1,Promise.allSettled([this.getProducts(),this.getDeliveries()]).then((()=>{this.isLoaded=!0}))}},mounted(){this.getData()}};const Xnt=(0,p.Z)(Gnt,[["render",Jnt]]);var tdt=Xnt;const edt=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Inventory Movement"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Edit an existing Movement")],-1),rdt={key:0},adt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},sdt={class:"tw-w-full"},odt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),ldt={class:"tw-relative"},idt=["value"],ndt={class:"tw-w-full"},ddt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Variation",-1),wdt={class:"tw-relative"},cdt=["value"],udt={class:"tw-w-full"},pdt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Quantity",-1),mdt={class:"tw-w-full tw-h-full tw-flex tw-items-end"},gdt=(0,s._)("span",{class:"text-white text-capitalize"},"Add",-1),hdt={class:"tw-max-w-full"},fdt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},ydt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate tw-max-w-[50px]"}," ACTIONS ")])],-1),xdt={class:"tw-w-4 tw-p-4"},bdt={class:"tw-w-4 tw-p-4"},vdt={class:"tw-w-4 tw-p-4"},_dt={class:"tw-w-4 tw-p-4"},kdt={class:"tw-w-4 tw-p-4"},Cdt={class:"tw-w-fit tw-h-full tw-flex tw-items-end"},Ddt={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Sdt=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),zdt=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function Udt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[edt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",rdt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",adt,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",sdt,[odt,(0,s._)("div",ldt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.delivery=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-capitalize tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.firstname+" "+t.lastname),9,idt)))),128))],512),[[a.bM,l.delivery]]),(0,s.Wm)(lt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",ndt,[ddt,(0,s._)("div",wdt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.variation=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-cursor-pointer tw-border-neutral-400 focus:tw-border-orange-500"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.variations,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.color+" / "+t.size+" / "+t.quantity),9,cdt)))),128))],512),[[a.bM,l.variation]]),(0,s.Wm)(lt.t,{size:"small",class:"tw-absolute tw-right-3 tw-top-1/2 -tw-translate-y-1/2"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-chevron-down")])),_:1})])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"4",md:"4"},{default:(0,s.w5)((()=>[(0,s._)("div",udt,[pdt,(0,s._)("div",null,[(0,s.Wm)(it.hw,{type:"number",onChange:i.handleQuantityChange,"hide-details":!0,modelValue:l.quantity,"onUpdate:modelValue":e[2]||(e[2]=t=>l.quantity=t),"clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["onChange","modelValue"])])])])),_:1}),(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"2",md:"2"},{default:(0,s.w5)((()=>[(0,s._)("div",mdt,[(0,s.Wm)(st.T,{onClick:i.addVariation,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[gdt])),_:1},8,["onClick"])])])),_:1}),(0,s.Wm)(ga.D,{cols:"12"},{default:(0,s.w5)((()=>[(0,s._)("div",hdt,[(0,s._)("table",fdt,[ydt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.selectedVariations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",xdt,(0,at.zw)(t.id),1),(0,s._)("td",bdt,(0,at.zw)(t.size),1),(0,s._)("td",vdt,(0,at.zw)(t.color),1),(0,s._)("td",_dt,(0,at.zw)(t.quantity),1),(0,s._)("td",kdt,[(0,s._)("div",Cdt,[(0,s.Wm)(st.T,{onClick:e=>i.deleteVariation(t.id),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:2},1032,["onClick"])])])])))),128))])])])])),_:1})])),_:1})]),(0,s._)("div",Ddt,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Sdt])),_:1}),(0,s.Wm)(st.T,{onClick:i.update,loading:l.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[zdt])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var Pdt={data(){return{isLoading:!1,isLoaded:!1,movement:null,variationId:0,product:1,delivery:1,quantity:0,variation:0,selectedVariations:[]}},computed:{products(){return this.$store.getters["product/products"]},deliveries(){return this.$store.getters["user/deliveries"]},id(){return this.$route.params.id},variations(){return this.products.find((t=>t.id==this.product))?.variations.filter((t=>{let e=!0;return this.selectedVariations.forEach((r=>{t.id==r.id&&(e=!1)})),e}))}},watch:{product(){this.variations.length>0?this.variation=this.variations[0].id:this.variation=null}},methods:{addVariation(){if(0==this.variations.length)return!1;const t=this.variations.find((t=>t.id==this.variation));if(!t)return!1;if(this.quantity>t.quantity||0==this.quantity)return this.$alert({type:"warning",title:"Quantity should be between 1 and "+t.quantity}),!1;const e={id:t.id,size:t.size,color:t.color,quantity:this.quantity};this.quantity=0,this.selectedVariations.push(e),this.variations.length>0?this.variation=this.variations[0].id:this.variation=null},deleteVariation(t){this.selectedVariations=this.selectedVariations.filter((e=>e.id!==t)),1==this.variations.length&&(this.variation=this.variations[0].id)},update(){if(0==this.selectedVariations.length)return this.$alert({type:"warning",title:"You need to add some variations"}),!1;let t=0;this.selectedVariations.forEach((e=>t+=e.quantity)),this.isLoading=!0,_it.inventoryMovementUpdate(this.id,{product_id:this.product,delivery_id:this.delivery,variants:this.selectedVariations,quantity:this.qty}).then((t=>{"SUCCESS"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"ERROR_QUANTITY"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).finally((()=>this.isLoading=!1))},handleQuantityChange(){this.quantity<=0&&(this.quantity=0)},async getDeliveries(){await et.deliveries().then((t=>{const e=t.data.data;this.$store.dispatch("user/setDeliveries",e),e.length>0?this.delivery=e[0].id:this.delivery=null}),this.$handleApiError)},getProducts(){return la.all().then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.products;this.$store.dispatch("product/setProducts",e),e.length>0?this.product=e[0].id:this.product=null}}),(t=>{this.$handleApiError(t)}))},getMovement(){return _it.getMovement(this.id).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.movement;this.product=e.product.id,this.delivery=e.delivery.id,this.selectedVariations=e.inventory_movement_variations;let r=0;this.selectedVariations.forEach((t=>{r+=t.quantity})),this.quantity_total=r}}),(t=>{this.$handleApiError(t)}))}},mounted(){Promise.allSettled([this.getProducts(),this.getDeliveries(),this.getMovement()]).then((()=>{this.isLoaded=!0}))}};const Ldt=(0,p.Z)(Pdt,[["render",Udt]]);var qdt=Ldt;const $dt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Inventory State List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"See your inventory state")])],-1),Adt={key:0},Wdt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Edt={class:"mb-5 tw-flex"},Tdt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Fdt={key:0,class:""};function Odt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("InventoryMovementsTable");return(0,s.wg)(),(0,s.iD)("div",null,[$dt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Adt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Wdt,[(0,s._)("div",Edt,[(0,s.Wm)(st.T,{icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white !tw-w-0 !tw-overflow-hidden"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Tdt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-w-full tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),i.inventoryMovements.length>0?((0,s.wg)(),(0,s.iD)("div",Fdt,[(0,s.Wm)(d,{columns:l.columns,movements:i.inventoryMovements},null,8,["columns","movements"])])):(0,s.kq)("",!0)])):(0,s.kq)("",!0)])}const Vdt={class:"tw-relative tw-min-h-[400px] tw-overflow-x-auto tw-overflow-y-visible sm:tw-rounded-lg"},Idt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},jdt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Rdt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Mdt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Ndt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Hdt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Ydt={class:"tw-px-6 tw-py-4"},Zdt=(0,s._)("br",null,null,-1),Kdt={class:"tw-px-6 tw-py-4"},Bdt={class:"tw-px-6 tw-py-4"},Qdt={class:"tw-px-6 tw-py-4"},Jdt={class:"tw-px-6 tw-py-4"},Gdt={class:"tw-px-6 tw-py-4"},Xdt={class:"tw-w-[200px] !tw-whitespace-normal"},twt={class:"tw-px-6 tw-py-4"},ewt={class:"tw-px-6 tw-py-4"},rwt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},awt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},swt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),owt=["value"],lwt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},iwt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},nwt={class:"tw-text-white"};function dwt(t,e,r,o,l,i){const n=(0,s.up)("router-link"),d=(0,s.up)("InventoryMovementsActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vdt,[(0,s._)("table",Idt,[(0,s._)("thead",jdt,[(0,s._)("tr",null,[Rdt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Mdt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movements,((t,e)=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Ndt,(0,s._)("th",Hdt,(0,at.zw)(t.id),1),(0,s._)("td",Ydt,[(0,s.Uk)((0,at.zw)(t.created_at?.split("T")[0])+" ",1),Zdt,(0,s.Uk)(" "+(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)]),(0,s._)("td",Kdt,(0,at.zw)(t.delivery.firstname+" "+t.delivery.lastname),1),(0,s._)("td",Bdt,[(0,s.Wm)(n,{to:"products/"+t.product.id},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.product.name),1)])),_:2},1032,["to"])]),(0,s._)("td",Qdt,(0,at.zw)(i.quantityTotal(t.inventory_movement_variations)),1),(0,s._)("td",Jdt,[(0,s._)("div",{class:(0,at.C_)([[t.is_received?"tw-text-green-500 tw-bg-green-500/10":"tw-text-red-500 tw-bg-red-500/10"],"tw-flex tw-justify-center tw-py-1 tw-rounded-lg tw-items-center"])},[(0,s._)("span",null,(0,at.zw)(t.is_received?"Yes":"No"),1)],2)]),(0,s._)("td",Gdt,[(0,s._)("div",Xdt,(0,at.zw)(t.note?t.note:"-"),1)]),(0,s._)("td",twt,(0,at.zw)(t.delivery.city?.name),1),(0,s._)("td",ewt,[(0,s.Wm)(d,{movement:t},null,8,["movement"])])])))),128))])])]),(0,s._)("div",rwt,[(0,s._)("div",awt,[swt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,owt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",lwt,[(0,s._)("div",iwt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.movements.length:i.nextRange)+" of "+(0,at.zw)(r.movements.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",nwt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const wwt={class:"md:tw-w-[50%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},cwt=(0,s._)("h1",{class:"tw-text-lg tw-font-medium tw-text-blue-500"},"Confirmation",-1),uwt={class:"mt-3"},pwt=(0,s._)("h2",{class:"mb-2"},"Received",-1),mwt={class:"tw-mt-3"},gwt=(0,s._)("h2",{class:"tw-text-md mb-1"},"Add note",-1),hwt={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},fwt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),ywt=(0,s._)("span",{class:"text-white"}," Update ",-1);function xwt(t,e,r,o,l,i){const n=(0,s.up)("popup-full"),d=(0,s.up)("MovementDetails"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",{key:r.movement.id,class:"tw-flex tw-items-center"},[["delivery","admin"].includes(i.user.role)?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>l.confirmPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-checkbox-marked-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.kq)("",!0),(t.$can("view_inventory_movement"),(0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>l.detailsPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-eye-outline")])),_:1})])),_:1})),t.$can("delete_inventory_movement")?((0,s.wg)(),(0,s.j4)(st.T,{key:3,onClick:e[2]||(e[2]=t=>l.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("confirmation_inventory_movement")?((0,s.wg)(),(0,s.j4)(n,{key:4,visible:l.confirmPopup,onCancel:e[6]||(e[6]=t=>l.confirmPopup=!1)},{default:(0,s.w5)((()=>[(0,s._)("div",wwt,[cwt,(0,s._)("div",uwt,[pwt,(0,s.Wm)(Ci.G,{density:"compact","hide-details":!0,modelValue:l.isConfirmed,"onUpdate:modelValue":e[3]||(e[3]=t=>l.isConfirmed=t),color:"blue"},null,8,["modelValue"])]),(0,s._)("div",mwt,[gwt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.note=t),cols:"30",rows:"3",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-600 focus:tw-border-orange-500"},"\r\n\r\n              ",512),[[a.nr,l.note]])]),(0,s._)("div",hwt,[(0,s.Wm)(st.T,{onClick:e[5]||(e[5]=t=>l.confirmPopup=!1),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[fwt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.updateMovement,color:"blue",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ywt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])):(0,s.kq)("",!0),(0,s.Wm)(n,{visible:l.detailsPopup,onCancel:e[8]||(e[8]=t=>l.detailsPopup=!1)},{default:(0,s.w5)((()=>[l.detailsPopup?((0,s.wg)(),(0,s.j4)(d,{key:0,onCancel:e[7]||(e[7]=t=>l.detailsPopup=!1),movement:r.movement},null,8,["movement"])):(0,s.kq)("",!0)])),_:1},8,["visible"]),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this movement?</p> You won't be able to revert this!",loading:l.isLoading,visible:l.showPopup,onResolved:i.handleResolved},null,8,["loading","visible","onResolved"])])}const bwt={class:"md:tw-w-[50%] tw-relative tw-max-h-full tw-w-[95%] tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg"},vwt={class:"tw-p-5"},_wt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-rounded-md tw-overflow-hidden"},kwt=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-4 tw-max-w-[50px] tw-py-3 text-truncate"}," ID "),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3 text-truncate"}," SIZE "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," COLOR "),(0,s._)("th",{scope:"col",class:"tw-px-4 tw-py-3 text-truncate"}," QUANTITY ")])],-1),Cwt={class:"tw-w-4 tw-p-4"},Dwt={class:"tw-w-4 tw-p-4"},Swt={class:"tw-w-4 tw-p-4"},zwt={class:"tw-w-4 tw-p-4"};function Uwt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",bwt,[(0,s.Wm)(st.T,{onClick:l.cancel,icon:"mdi-close",variant:"flat",size:"w-small",color:"red",class:"tw-absolute tw-top-3 tw-z-10 tw-right-3"},null,8,["onClick"]),(0,s._)("div",vwt,[(0,s._)("table",_wt,[kwt,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.movement.inventory_movement_variations,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[(0,s._)("td",Cwt,(0,at.zw)(t.id),1),(0,s._)("td",Dwt,(0,at.zw)(t.product_variation.size),1),(0,s._)("td",Swt,(0,at.zw)(t.product_variation.color),1),(0,s._)("td",zwt,(0,at.zw)(t.quantity),1)])))),128))])])])])}var Pwt={props:["movement"],data(){return{}},computed:{},methods:{cancel(){this.$emit("cancel")}},mounted(){}};const Lwt=(0,p.Z)(Pwt,[["render",Uwt]]);var qwt=Lwt,$wt={props:["rowIndex","movement"],components:{MovementDetails:qwt},name:"inventoryActions",data(){return{showPopup:!1,confirmPopup:!1,detailsPopup:!1,isConfirmed:!1,note:"",isLoading:!1}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleResolved(t){t?(this.isLoading=!0,_it["delete"](this.movement.id).then((t=>{"SUCCESS"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Inventory Movement Deleted Successfully"})),this.getMovements()})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1},updateMovement(){this.isLoading=!0,_it.deliveryUpdateMovement(this.movement.id,this.isConfirmed?1:0,this.note).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({type:"success",title:"Inventory Movement Updated Successfully"}),this.getMovements())}),this.$handleApiError).finally((()=>{this.isLoading=!1,this.confirmPopup=!1}))},getMovements(){_it.inventoryMovements().then((t=>{if("SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e)}})).catch(this.$handleApiError)}},mounted(){this.note=this.movement.note,this.isConfirmed=1==this.movement.is_received}};const Awt=(0,p.Z)($wt,[["render",xwt]]);var Wwt=Awt,Ewt={props:["columns","movements"],components:{InventoryMovementsActions:Wwt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.movements.length/this.paginationLimit)},items(){return this.movements.slice(this.prevRange,this.nextRange)}},methods:{quantityTotal(t){let e=0;return t.forEach((t=>{e+=t.quantity})),e}}};const Twt=(0,p.Z)(Ewt,[["render",dwt]]);var Fwt=Twt,Owt={components:{InventoryMovementsTable:Fwt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,search:"",columns:[{prop:"id",name:"#"},{prop:"created_at",name:"Date"},{prop:"delivery",name:"Delivery"},{prop:"product",name:"Product"},{prop:"quantity",name:"Quantity"},{prop:"received",name:"Received"},{prop:"note",name:"Note"},{prop:"city",name:"City"},{prop:"actions",name:"Actions"}]}},computed:{inventoryMovements(){return this.$store.getters["inventory/inventoryMovements"]},filteredInventoryState(){return this.inventoryMovements.filter((()=>!0))}},methods:{async getInventoryMovements(){await _it.inventoryMovements().then((t=>{if(console.log(t.data.data),"SHOW_ALL_INVENTORY_MOVEMENTS"==t.data.code){const e=t.data.data;this.$store.dispatch("inventory/setInventoryMovements",e),console.log(e)}}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))}},async mounted(){this.getInventoryMovements()}};const Vwt=(0,p.Z)(Owt,[["render",Odt]]);var Iwt=Vwt,jwt={name:"inventory/list",path:"/inventories",component:ca,meta:{module:"inventory"},children:[{name:"inventory/state",path:"",component:fnt,meta:{module:"inventory",subModule:"inventory/list",title:"Inventory State",gate:"show_all_inventory_states"}},{name:"inventory/movememnts",path:"movements",component:Iwt,meta:{module:"inventory",subModule:"inventory/movements",title:"Inventory Movements",gate:"show_all_inventory_movements"}},{name:"inventory/add",path:"add",component:tdt,meta:{module:"inventory",subModule:"inventory/add",title:"Add Inventory Movement",gate:"create_inventory_movement"}},{name:"inventory/update",path:"update/:id",component:qdt,meta:{module:"inventory",subModule:"inventory/update",title:"Update Inventory Movement",gate:"update_inventory_movement"}}]};const Rwt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Mwt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Shop List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your shops")],-1),Nwt={key:0},Hwt=(0,s._)("span",{class:"text-white"}," Add Shop ",-1),Ywt={key:0},Zwt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Kwt={class:"mb-5 tw-flex"},Bwt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Qwt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Jwt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Gwt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Xwt={class:"tw-relative"},tct={class:""};function ect(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("ShopsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.shops.length},[(0,s._)("div",Rwt,[Mwt,t.$can("create_shop")?((0,s.wg)(),(0,s.iD)("div",Nwt,[(0,s.Wm)(st.T,{color:"primary-color",link:"",to:{name:"shop/add"},variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Hwt])),_:1})])):(0,s.kq)("",!0)]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Ywt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zwt,[(0,s._)("div",Kwt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Bwt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Qwt,[(0,s._)("div",Jwt,[Gwt,(0,s._)("div",Xwt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",tct,[(0,s.Wm)(d,{columns:l.columns,shops:i.filteredShops},null,8,["columns","shops"])])])):(0,s.kq)("",!0)])}class rct{async create(t){return await A.getCookie(),q.post("api/shops/new",{name:t.name})}async update(t,e){return await A.getCookie(),q.post("api/shops/update/"+t,{name:e.name})}async all(){return await A.getCookie(),q.get("api/shops")}async getShop(t){return await A.getCookie(),q.get("api/shops/"+t)}async delete(t){return await A.getCookie(),q["delete"]("api/shops/delete/"+t)}}var act=new rct;const sct={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},oct={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},lct={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},ict=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),nct={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},dct=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),wct={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},cct={class:"tw-px-6 tw-py-4"},uct={class:"tw-px-6 tw-py-4"},pct={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},mct={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},gct={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},hct=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),fct=["value"],yct={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},xct={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},bct={class:"tw-text-white"};function vct(t,e,r,o,l,i){const n=(0,s.up)("ShopActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",sct,[(0,s._)("table",oct,[(0,s._)("thead",lct,[(0,s._)("tr",null,[ict,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",nct,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.shops,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[dct,(0,s._)("th",wct,(0,at.zw)(t.id),1),(0,s._)("td",cct,(0,at.zw)(t.name),1),(0,s._)("td",uct,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",pct,[(0,s.Wm)(n,{shop:t},null,8,["shop"])])])))),128))])])]),(0,s._)("div",mct,[(0,s._)("div",gct,[hct,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,fct)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",yct,[(0,s._)("div",xct,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.shops.length:i.nextRange)+" of "+(0,at.zw)(r.shops.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",bct,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const _ct={class:"tw-flex tw-items-center tw-gap-1"};function kct(t,e,r,a,o,l){const i=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",_ct,[t.$can("update_shop")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,to:"/shops/update/"+r.shop.id,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1},8,["to"])):(0,s.kq)("",!0),t.$can("delete_shop")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this shop?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}var Cct={props:["rowIndex","shop"],name:"shopActions",data(){return{showPopup:!1,isLoading:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,act["delete"](this.shop.id).then((t=>{"SHOP_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Shop Deleted Successfully"})),act.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)})).catch(this.$handleApiError)})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Dct=(0,p.Z)(Cct,[["render",kct]]);var Sct=Dct,zct={props:["columns","shops"],components:{ShopActions:Sct},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.shops.length/this.paginationLimit)},items(){return this.shops.slice(this.prevRange,this.nextRange)}},methods:{}};const Uct=(0,p.Z)(zct,[["render",vct]]);var Pct=Uct,Lct={components:{ShopsTable:Pct},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{shops(){return this.$store.getters["shop/shops"]},filteredShops(){const t=this.date;return this.shops.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){act.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("shop/setShops",t.data.data.shops)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const qct=(0,p.Z)(Lct,[["render",ect]]);var $ct=qct;const Act=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"}," Add Shop "),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Create new shop")],-1),Wct={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ect={class:"tw-w-full"},Tct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Shop Name ",-1),Fct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Oct={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},Vct=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),Ict=(0,s._)("span",{class:"text-white text-capitalize"},"Create",-1);function jct(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[Act,(0,s._)("div",Wct,[(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Ect,[Tct,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Fct,(0,at.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Oct,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Vct])),_:1}),(0,s.Wm)(st.T,{onClick:l.create,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[Ict])),_:1},8,["onClick","loading"])])])])}var Rct={components:{},data(){return{isLoading:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;act.create(t).then((t=>{"SHOP_CREATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.shop={name:""}),"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}}};const Mct=(0,p.Z)(Rct,[["render",jct]]);var Nct=Mct;const Hct=(0,s._)("div",{class:"mb-5"},[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Update Shop"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Update shop informations")],-1),Yct={key:0},Zct={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Kct={class:"tw-flex tw-gap-2 tw-text-neutral-800 tw-items-center tw-mb-5"},Bct={class:"tw-block tw-py-1 tw-px-2 tw-rounded-md text-primary-color"},Qct={class:"tw-w-full"},Jct=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Shop Name",-1),Gct={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Xct={class:"mt-8 tw-flex tw-justify-end tw-gap-3"},tut=(0,s._)("span",{class:"text-white text-capitalize"},"Cancel",-1),eut=(0,s._)("span",{class:"text-white text-capitalize"},"Update",-1);function rut(t,e,r,a,o,l){const i=(0,s.up)("LoadingAnimation");return(0,s.wg)(),(0,s.iD)("div",null,[Hct,o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Yct,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",Zct,[(0,s._)("div",Kct,[(0,s.Uk)(" Shop ID: "),(0,s._)("span",Bct,(0,at.zw)(l.id),1)]),(0,s._)("div",null,[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{cols:"12",md:"6"},{default:(0,s.w5)((()=>[(0,s.Wm)(ma.o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(ga.D,{class:"!tw-py-2",cols:"12",sm:"6",md:"6"},{default:(0,s.w5)((()=>[(0,s._)("div",Qct,[Jct,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.shop.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.shop.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Gct,(0,at.zw)(o.formStatus.name.message),1)])])),_:1})])),_:1})])),_:1})])),_:1})]),(0,s._)("div",Xct,[(0,s.Wm)(st.T,{color:"grey-darken-2",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[tut])),_:1}),(0,s.Wm)(st.T,{onClick:l.update,loading:o.isLoading,color:"primary-color",variant:"flat",size:"large"},{default:(0,s.w5)((()=>[eut])),_:1},8,["onClick","loading"])])])):(0,s.kq)("",!0)])}var aut={components:{},data(){return{isLoading:!1,isLoaded:!1,shop:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{id(){return this.$route.params.id}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0;let t=this.shop;act.update(this.$route.params.id,t).then((t=>{"SHOP_UPDATED"==t.data.code&&this.$alert({type:"success",title:t.data.message}),"SHOP_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.shop.name,"Shop name"),this.formStatus.name.valid}},mounted(){act.getShop(this.$route.params.id).then((t=>{if("SUCCESS"==t.data.code){const{name:e}=t.data.data.shops;this.shop.name=e,this.isLoaded=!0}}),this.$handleApiError)}};const sut=(0,p.Z)(aut,[["render",rut]]);var out=sut,lut={name:"shops",path:"/shops",component:ca,meta:{module:"shop"},children:[{name:"shop/list",path:"",component:$ct,meta:{module:"shop",subModule:"shop/list",title:"Shop List",gate:"show_all_sales"}},{name:"shop/add",path:"add",component:Nct,meta:{module:"shop",subModule:"shop/add",title:"Shop Add",gate:"create_shop"}},{name:"shop/update",path:"update/:id",component:out,meta:{module:"shop",subModule:"shop/update",title:"Update Shop",gate:"update_shop"}}]};const iut={class:"mb-5 tw-flex tw-justify-between tw-items-center"},nut=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Warehouse List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your warehouses")],-1),dut={key:0},wut=(0,s._)("span",{class:"text-white"}," Add Warehouse ",-1),cut={key:0},uut={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},put={class:"mb-5 tw-flex"},mut={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},gut={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},hut={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},fut=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),yut={class:"tw-relative"},xut={class:""};function but(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("WarehousesTable"),w=(0,s.up)("AddWarehouse");return(0,s.wg)(),(0,s.iD)("div",{key:i.warehouses.length},[(0,s._)("div",iut,[nut,t.$can("create_warehouse")?((0,s.wg)(),(0,s.iD)("div",dut,[(0,s.Wm)(st.T,{color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),wut])),_:1})])):(0,s.kq)("",!0)]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",cut,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",uut,[(0,s._)("div",put,[(0,s.Wm)(st.T,{onClick:e[1]||(e[1]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",mut,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",gut,[(0,s._)("div",hut,[fut,(0,s._)("div",yut,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",xut,[(0,s.Wm)(d,{columns:l.columns,warehouses:i.filteredWarehouses},null,8,["columns","warehouses"])]),(0,s.Wm)(w,{onCancel:e[4]||(e[4]=t=>l.showPopup=!1),visible:l.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const vut={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},_ut={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},kut={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Cut=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Dut={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},Sut=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),zut={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Uut={class:"tw-px-6 tw-py-4"},Put={class:"tw-px-6 tw-py-4"},Lut={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"},qut={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},$ut={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Aut=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"},"Show per page: ",-1),Wut=["value"],Eut={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Tut={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Fut={class:"tw-text-white"};function Out(t,e,r,o,l,i){const n=(0,s.up)("WarehouseActions");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",vut,[(0,s._)("table",_ut,[(0,s._)("thead",kut,[(0,s._)("tr",null,[Cut,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Dut,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.warehouses,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id,class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},[Sut,(0,s._)("th",zut,(0,at.zw)(t.id),1),(0,s._)("td",Uut,(0,at.zw)(t.name),1),(0,s._)("td",Put,(0,at.zw)(t.created_at.split("T")[0]),1),(0,s._)("td",Lut,[(0,s.Wm)(n,{warehouse:t},null,8,["warehouse"])])])))),128))])])]),(0,s._)("div",qut,[(0,s._)("div",$ut,[Aut,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Wut)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",Eut,[(0,s._)("div",Tut,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.warehouses.length:i.nextRange)+" of "+(0,at.zw)(r.warehouses.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Fut,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Vut={class:"tw-flex tw-items-center tw-gap-1"};function Iut(t,e,r,a,o,l){const i=(0,s.up)("UpdateWarehouse"),n=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",Vut,[t.$can("update_warehouse")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_warehouse")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:o.showUpdatePopup,onCancel:e[2]||(e[2]=t=>o.showUpdatePopup=!1),key:r.warehouse.id,warehouse:r.warehouse},null,8,["visible","warehouse"])),(0,s.Wm)(n,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this warehouse?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const jut={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Rut=(0,s._)("h1",{class:"tw-text-lg"},"Update Warehouse",-1),Mut={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Nut={class:"tw-w-full tw-col-span-12"},Hut=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),Yut={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Zut={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Kut=(0,s._)("span",{class:"text-white"}," Cancel ",-1),But=(0,s._)("span",{class:"text-white"}," Update ",-1);function Qut(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",jut,[Rut,(0,s._)("div",Mut,[(0,s._)("div",Nut,[Hut,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.Warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Yut,(0,at.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",Zut,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Kut])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[But])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Jut={components:{},props:["warehouse","visible"],data(){return{isLoading:!1,isLoaded:!1,Warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,O_.update(this.warehouse.id,this.Warehouse).then((t=>{"WAREHOUSE_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("warehouse/update",this.Warehouse),this.$emit("cancel")),"WAREHOUSE_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.Warehouse.name,"Warehouse name"),this.formStatus.name.valid}},mounted(){this.Warehouse={...this.warehouse}}};const Gut=(0,p.Z)(Jut,[["render",Qut]]);var Xut=Gut,tpt={components:{UpdateWarehouse:Xut},props:["rowIndex","warehouse"],name:"warehouseActions",data(){return{showPopup:!1,isLoading:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,O_["delete"](this.warehouse.id).then((t=>{"WAREHOUSE_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Warehouse Deleted Successfully"}),this.$store.dispatch("warehouse/delete",this.warehouse.id))})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const ept=(0,p.Z)(tpt,[["render",Iut]]);var rpt=ept,apt={props:["columns","warehouses"],components:{WarehouseActions:rpt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.warehouses.length/this.paginationLimit)},items(){return this.warehouses.slice(this.prevRange,this.nextRange)}},methods:{}};const spt=(0,p.Z)(apt,[["render",Out]]);var opt=spt;const lpt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[500px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},ipt=(0,s._)("h1",{class:"tw-text-lg"},"Create Warehouse",-1),npt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},dpt={class:"tw-w-full tw-col-span-12"},wpt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Warehouse Name",-1),cpt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},upt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ppt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),mpt=(0,s._)("span",{class:"text-white"}," Create ",-1);function gpt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[3]||(e[3]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",lpt,[ipt,(0,s._)("div",npt,[(0,s._)("div",dpt,[wpt,(0,s.Wm)(it.hw,{error:!o.formStatus.name.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("name")),"hide-details":!0,modelValue:o.warehouse.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.warehouse.name=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",cpt,(0,at.zw)(o.formStatus.name.message),1)])]),(0,s._)("div",upt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ppt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[mpt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var hpt={props:["visible"],components:{},data(){return{isLoading:!1,warehouse:{name:""},formStatus:{name:{valid:!0,message:""}}}},methods:{create(){if(!this.validate())return!1;this.isLoading=!0;let t=this.warehouse;O_.create(t).then((t=>{if("WAREHOUSE_CREATED"==t.data.code){this.$alert({type:"success",title:t.data.message});const e=t.data.data.warehouse;this.$store.dispatch("warehouse/addWarehouse",e),this.$emit("cancel"),this.warehouse={name:""}}"VALIDATION_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.errors.ref})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.name=Pt(this.warehouse.name,"Warehouse name"),this.formStatus.name.valid}}};const fpt=(0,p.Z)(hpt,[["render",gpt]]);var ypt=fpt,xpt={components:{WarehousesTable:opt,AddWarehouse:ypt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,columns:[{prop:"id",name:"#"},{prop:"name",name:"Name"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{warehouses(){return this.$store.getters["warehouse/warehouses"]},filteredWarehouses(){const t=this.date;return this.warehouses.filter((e=>(!t||e?.created_at.split("T")[0]===t)&&!!e.name.toLowerCase().includes(this.search.toLowerCase())))}},mounted(){O_.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("warehouse/setWarehouses",t.data.data.warehouses)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const bpt=(0,p.Z)(xpt,[["render",but]]);var vpt=bpt,_pt={name:"warehouses",path:"/warehouses",component:ca,meta:{module:"warehouse"},children:[{name:"warehouse/list",path:"",component:vpt,meta:{module:"warehouse",subModule:"warehouse/list",title:"Warehouse List",gate:"show_all_warehouses"}}]};const kpt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Factorisation List"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your factorisations")])],-1),Cpt={key:0},Dpt={key:1,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Spt={class:"mb-5 tw-flex"},zpt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Upt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Ppt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Lpt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),qpt={class:"tw-relative"},$pt={class:""};function Apt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("FactorisationsTable");return(0,s.wg)(),(0,s.iD)("div",{key:i.factorisations.length},[kpt,l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Cpt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Dpt,[(0,s._)("div",Spt,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",zpt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Upt,[(0,s._)("div",Ppt,[Lpt,(0,s._)("div",qpt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",$pt,[(0,s.Wm)(d,{columns:i.columns,factorisations:i.filteredFactorisations},null,8,["columns","factorisations"])])])):(0,s.kq)("",!0)])}class Wpt{async update(t,e){return await A.getCookie(),q.post("api/factorisations/update/"+t,{factorisation_id:e.factorisation_id,delivery_id:e.delivery_id,price:e.price,commands_number:e.commands_number})}async updateComment(t,e){return await A.getCookie(),q.post("api/factorisations/update/comment/"+t,{comment:e.comment})}async updatePaid(t,e){return await A.getCookie(),q.post("api/factorisations/update/payment/"+t,{paid:e})}async updateClose(t,e){return await A.getCookie(),q.post("api/factorisations/update/closing/"+t,{close:e})}async updateFees(t,e){return await A.getCookie(),q.post("api/factorisations/update/fees/"+t,{fees:e})}async delete(t){return await A.getCookie(),q["delete"]("api/v1/factorisation/delete/"+t)}async paginate(t="/",e){return await A.getCookie(),q.post("api/v1/factorisation"+t,e)}}var Ept=new Wpt;const Tpt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},Fpt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},Opt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},Vpt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),Ipt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},jpt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},Rpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},Mpt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),Npt=["value"],Hpt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},Ypt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},Zpt={class:"tw-text-white"};function Kpt(t,e,r,o,l,i){const n=(0,s.up)("FactorisationRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Tpt,[(0,s._)("table",Fpt,[(0,s._)("thead",Opt,[(0,s._)("tr",null,[Vpt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t.prop,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",Ipt,(0,at.zw)(t.name),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.factorisations,(t=>((0,s.wg)(),(0,s.j4)(n,{factorisation:t,key:t.id},null,8,["factorisation"])))),128))])])]),(0,s._)("div",jpt,[(0,s._)("div",Rpt,[Mpt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,Npt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",Hpt,[(0,s._)("div",Ypt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.factorisations.length:i.nextRange)+" of "+(0,at.zw)(r.factorisations.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",Zpt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const Bpt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},Qpt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),Jpt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},Gpt={class:"tw-px-6 tw-py-4"},Xpt={key:0,class:"tw-px-6 tw-py-4"},tmt={key:0},emt={key:1},rmt={class:"tw-px-6 tw-py-4"},amt={key:0},smt={key:1},omt={class:"tw-px-6 tw-py-4"},lmt={class:"tw-px-6 tw-py-4"},imt={class:"tw-px-6 tw-py-4"},nmt={class:"tw-px-6 tw-py-4"},dmt={key:1,class:"tw-px-6 tw-py-4"},wmt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},cmt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},umt=["disabled"],pmt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),mmt={key:2,class:"tw-px-6 tw-py-4"},gmt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},hmt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},fmt=["disabled"],ymt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),xmt={class:"tw-px-6 tw-py-4"},bmt={key:3,class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function vmt(t,e,r,o,l,i){const n=(0,s.up)("FactorisationActions");return(0,s.wg)(),(0,s.iD)("tr",Bpt,[Qpt,(0,s._)("th",Jpt,(0,at.zw)(r.factorisation.id),1),(0,s._)("td",Gpt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>i.download(r.factorisation.id))},(0,at.zw)(r.factorisation.factorisation_id),1)]),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",Xpt,[r.factorisation.delivery?((0,s.wg)(),(0,s.iD)("span",tmt,(0,at.zw)(i.deliveryName),1)):((0,s.wg)(),(0,s.iD)("span",emt,"-"))])):(0,s.kq)("",!0),(0,s._)("td",rmt,[r.factorisation.seller?((0,s.wg)(),(0,s.iD)("span",amt,(0,at.zw)(i.sellerName),1)):((0,s.wg)(),(0,s.iD)("span",smt,"-"))]),(0,s._)("td",omt,(0,at.zw)(r.factorisation.commands_number),1),(0,s._)("td",lmt,(0,at.zw)(r.factorisation.price),1),(0,s._)("td",imt,(0,at.zw)(r.factorisation.close_at?.split("T")[0]),1),(0,s._)("td",nmt,(0,at.zw)(r.factorisation.paid_at?.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",dmt,[(0,s._)("div",wmt,[(0,s._)("label",cmt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingClose,"onUpdate:modelValue":e[1]||(e[1]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,umt),[[a.e8,i.close]]),pmt]),l.isLoadingClose?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",mmt,[(0,s._)("div",gmt,[(0,s._)("label",hmt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingPaid,"onUpdate:modelValue":e[2]||(e[2]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,fmt),[[a.e8,i.paid]]),ymt]),l.isLoadingPaid?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",xmt,(0,at.zw)(r.factorisation.created_at.split("T")[0]),1),"admin"==this.user.role?((0,s.wg)(),(0,s.iD)("td",bmt,[(0,s.Wm)(n,{factorisation:r.factorisation},null,8,["factorisation"])])):(0,s.kq)("",!0)])}const _mt={class:"tw-flex tw-items-center tw-gap-1"};function kmt(t,e,r,a,o,l){const i=(0,s.up)("UpdateFactorisation"),n=(0,s.up)("UpdateComment"),d=(0,s.up)("UpdateFees"),w=(0,s.up)("popup");return(0,s.wg)(),(0,s.iD)("div",_mt,[t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:e[0]||(e[0]=t=>o.showUpdateCommentPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[1]||(e[1]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_factorisation")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[2]||(e[2]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("update_factorisation")&&"seller"==this.factorisation.type?((0,s.wg)(),(0,s.j4)(st.T,{key:3,onClick:e[3]||(e[3]=t=>o.showUpdateFeesPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"green",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0),((0,s.wg)(),(0,s.j4)(i,{visible:o.showUpdatePopup,onCancel:e[4]||(e[4]=t=>o.showUpdatePopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(n,{visible:o.showUpdateCommentPopup,onCancel:e[5]||(e[5]=t=>o.showUpdateCommentPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),((0,s.wg)(),(0,s.j4)(d,{visible:o.showUpdateFeesPopup,onCancel:e[6]||(e[6]=t=>o.showUpdateFeesPopup=!1),key:r.factorisation.id,factorisation:r.factorisation},null,8,["visible","factorisation"])),(0,s.Wm)(w,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this factorisation?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleResolved},null,8,["loading","visible","onResolved"])])}const Cmt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Dmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),Smt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},zmt={class:"tw-w-full tw-col-span-6"},Umt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),Pmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Lmt={class:"tw-w-full tw-col-span-6"},qmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),$mt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Amt={class:"tw-w-full tw-col-span-6"},Wmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Emt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Tmt={class:"tw-w-full tw-col-span-6"},Fmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Omt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Vmt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Imt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),jmt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Rmt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[9]||(e[9]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Cmt,[Dmt,(0,s._)("div",Smt,[(0,s._)("div",zmt,[Umt,(0,s.Wm)(it.hw,{error:!o.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("factorisation_id")),"hide-details":!0,modelValue:o.Factorisation.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.Factorisation.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Pmt,(0,at.zw)(o.formStatus.factorisation_id.message),1)]),(0,s._)("div",Lmt,[qmt,(0,s.Wm)(it.hw,{error:!o.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:l.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",$mt,(0,at.zw)(o.formStatus.delivery_id.message),1)]),(0,s._)("div",Amt,[Wmt,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[4]||(e[4]=t=>l.resetError("price")),"hide-details":!0,modelValue:o.Factorisation.price,"onUpdate:modelValue":e[5]||(e[5]=t=>o.Factorisation.price=t),disabled:!0,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Emt,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",Tmt,[Fmt,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,disabled:!0,onKeyup:e[6]||(e[6]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:o.Factorisation.commands_number,"onUpdate:modelValue":e[7]||(e[7]=t=>o.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Omt,(0,at.zw)(o.formStatus.commands_number.message),1)])]),(0,s._)("div",Vmt,[(0,s.Wm)(st.T,{onClick:e[8]||(e[8]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Imt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[jmt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Mmt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{factorisation_id:"",delivery_id:0,price:0,commands_number:0,note:""},formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.Factorisation.delivery.firstname+" "+this.Factorisation.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ept.update(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.Factorisation.factorisation_id,"Factorisation Code"),this.formStatus.price=Lt(this.Factorisation.price,"Factorisation Price"),this.formStatus.commands_number=Lt(this.Factorisation.commands_number,"Factorisation Nb Commands"),this.formStatus.factorisation_id.valid&&this.formStatus.price.valid&&this.formStatus.commands_number.valid}},mounted(){this.Factorisation={...this.factorisation}}};const Nmt=(0,p.Z)(Mmt,[["render",Rmt]]);var Hmt=Nmt;const Ymt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Zmt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Kmt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Bmt={class:"tw-w-full tw-col-span-6"},Qmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Jmt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Gmt={class:"tw-w-full tw-col-span-6"},Xmt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),tgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},egt={class:"tw-w-full tw-col-span-12"},rgt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),agt=["error"],sgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},ogt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},lgt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),igt=(0,s._)("span",{class:"text-white"}," Update ",-1);function ngt(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Ymt,[Zmt,(0,s._)("div",Kmt,[(0,s._)("div",Bmt,[Qmt,(0,s.Wm)(it.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:l.Factorisation.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.Factorisation.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Jmt,(0,at.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Gmt,[Xmt,(0,s.Wm)(it.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:l.Factorisation.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>l.Factorisation.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",tgt,(0,at.zw)(l.formStatus.commands_number.message),1)]),(0,s._)("div",egt,[rgt,(0,s.wy)((0,s._)("textarea",{error:!l.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>l.Factorisation.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n            ",40,agt),[[a.nr,l.Factorisation.comment]]),(0,s._)("div",sgt,(0,at.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",ogt,[(0,s.Wm)(st.T,{onClick:e[6]||(e[6]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[lgt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[igt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var dgt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ept.updateComment(this.factorisation.id,this.Factorisation).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.Factorisation.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){this.Factorisation={...this.factorisation}}};const wgt=(0,p.Z)(dgt,[["render",ngt]]);var cgt=wgt;const ugt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},pgt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),mgt={class:"tw-w-full tw-col-span-6"},ggt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),hgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},fgt={class:"tw-w-full tw-col-span-6"},ygt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),xgt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},bgt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},vgt=["onClick"],_gt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),kgt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},Cgt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Dgt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Sgt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),zgt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Ugt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",ugt,[pgt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",mgt,[ggt,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",hgt,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",fgt,[ygt,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",xgt,(0,at.zw)(o.formStatus.commands_number.message),1),(0,s._)("div",bgt,[(0,s._)("button",{onClick:e=>l.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(lt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),_gt],8,vgt)])])])))),128)),(0,s._)("div",kgt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.addFees&&l.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(lt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Cgt])]),(0,s._)("div",Dgt,[(0,s.Wm)(st.T,{onClick:e[3]||(e[3]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Sgt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[zgt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Pgt={components:{},props:["factorisation","visible"],data(){return{isLoading:!1,isLoaded:!1,Factorisation:{price:0,commands_number:0,comment:""},fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ept.updateFees(this.factorisation.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.Factorisation),this.$emit("cancel")),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.Factorisation={...this.factorisation},this.fees=JSON.parse(JSON.stringify(this.factorisation.fees))}};const Lgt=(0,p.Z)(Pgt,[["render",Ugt]]);var qgt=Lgt,$gt={components:{UpdateFactorisation:Hmt,UpdateComment:cgt,UpdateFees:qgt},props:["rowIndex","factorisation"],name:"factorisationActions",data(){return{showPopup:!1,isLoading:!1,showUpdateCommentPopup:!1,showUpdateFeesPopup:!1,showUpdatePopup:!1}},methods:{handleResolved(t){t?(this.isLoading=!0,Ept["delete"](this.factorisation.id).then((t=>{"FACTORISATION_DELETED"==t.data.code&&(this.isLoading=!1,this.$alert({type:"success",title:"Factorisation Deleted Successfully"}),this.$store.dispatch("factorisation/delete",this.factorisation.id)),"DELETE_ERROR"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch(this.$handleApiError).finally((()=>{this.isLoading=!1,this.showPopup=!1}))):this.showPopup=!1}}};const Agt=(0,p.Z)($gt,[["render",kmt]]);var Wgt=Agt,Egt={props:["factorisation"],components:{FactorisationActions:Wgt},data(){return{isLoadingPaid:!1,isLoadingClose:!1}},computed:{deliveryName:{get(){return this.factorisation.delivery.firstname+" "+this.factorisation.delivery.lastname},set(t){console.log(t)}},sellerName:{get(){return this.factorisation.seller.firstname+" "+this.factorisation.seller.lastname},set(t){console.log(t)}},paid:{get(){return 1==this.factorisation.paid},set(t){this.updatePaid(t)}},close:{get(){return 1==this.factorisation.close},set(t){this.updateClose(t)}},user(){return this.$store.getters["user/user"]}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ept.updatePaid(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))},updateClose(t){this.isLoadingClose=!0,Ept.updateClose(this.factorisation.id,t).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&this.$store.dispatch("factorisation/update",t.data.data.factorisation)}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))},download(t){const e=d+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const Tgt=(0,p.Z)(Egt,[["render",vmt]]);var Fgt=Tgt,Ogt={props:["columns","factorisations"],components:{FactorisationRow:Fgt},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.factorisations.length/this.paginationLimit)},items(){return this.factorisations.slice(this.prevRange,this.nextRange)}},methods:{}};const Vgt=(0,p.Z)(Ogt,[["render",Kpt]]);var Igt=Vgt,jgt={components:{FactorisationsTable:Igt},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,userColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"created_at",name:"Created at"}],adminColumns:[{prop:"id",name:"#"},{prop:"factorisation_id",name:"Code"},{prop:"delivery_id",name:"Delivery"},{prop:"user_id",name:"Seller"},{prop:"commands_number",name:"Nb Commands"},{prop:"price",name:"Total Price"},{prop:"close_at",name:"Closed at"},{prop:"paid_at",name:"Paid at"},{prop:"close",name:"Close"},{prop:"paid",name:"Paid"},{prop:"created_at",name:"Created at"},{prop:"actions",name:"Actions"}]}},computed:{user(){return this.$store.getters["user/user"]},columns(){return"admin"==this.user.role?this.adminColumns:this.userColumns},factorisations(){return this.$store.getters["factorisation/factorisations"]},filteredFactorisations(){const t=this.date;return this.factorisations.filter((e=>!t||e?.created_at.split("T")[0]===t))}},mounted(){Ept.all().then((t=>{"SUCCESS"==t.data.code&&this.$store.dispatch("factorisation/setFactorisations",t.data.data.factorisations)}),(t=>{this.$handleApiError(t)})).finally((()=>this.isLoaded=!0))}};const Rgt=(0,p.Z)(jgt,[["render",Apt]]);var Mgt=Rgt;const Ngt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Hgt={class:"tw-px-3"},Ygt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Zgt={class:"tw-flex tw-items-center tw-gap-x-3"},Kgt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Factorisation",-1),Bgt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Qgt={key:0};function Jgt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable");return(0,s.wg)(),(0,s.iD)("div",Ngt,[(0,s._)("section",Hgt,[(0,s._)("div",Ygt,[(0,s._)("div",null,[(0,s._)("div",Zgt,[Kgt,(0,s._)("span",Bgt,(0,at.zw)(o.totalOrders)+" order",1)])])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[0]||(e[0]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[1]||(e[1]=t=>o.filters=t),onFilter:e[2]||(e[2]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",Qgt)):(0,s.kq)("",!0)])}const Ggt={class:"tw-flex tw-flex-col tw-mt-5"},Xgt={class:"tw-overflow-x-auto"},tht={class:"tw-inline-block tw-min-w-full tw-align-middle"},eht={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},rht={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},aht={class:"tw-bg-gray-50 darkx:tw-bg-gray-800 tw-whitespace-nowrap"},sht=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),oht=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Code ",-1),lht={key:0,scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},iht={key:1,scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},nht=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," NB Commands ",-1),dht=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Total Price ",-1),wht={key:2,scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},cht=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Closed At ",-1),uht=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Paid At ",-1),pht={key:3,scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},mht={key:4,scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},ght={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},hht=(0,s._)("span",null,"Created",-1),fht=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),yht=[hht,fht],xht=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),bht={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vht={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},_ht=(0,s._)("tr",null,[(0,s._)("td",{colspan:"11"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Factorisation was found ! ")])],-1),kht=[_ht],Cht={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Dht={colspan:"11"},Sht={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},zht=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Uht=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Pht=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Lht=[Uht,Pht],qht={class:"tw-mt-6"};function $ht(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Ggt,[(0,s._)("div",Xgt,[(0,s._)("div",tht,[(0,s._)("div",eht,[(0,s._)("table",rht,[(0,s._)("thead",aht,[(0,s._)("tr",null,[sht,oht,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",lht," Delivery ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",iht," Seller ")):(0,s.kq)("",!0),nht,dht,"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",wht," Status ")):(0,s.kq)("",!0),cht,uht,"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",pht," Close ")):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("th",mht," Paid ")):(0,s.kq)("",!0),(0,s._)("th",ght,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},yht)]),xht])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",bht,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",vht,kht)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Cht,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",Dht,[(0,s._)("div",Sht,[zht,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Lht)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",qht,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[2]||(e[2]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Aht={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Wht={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},Eht={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Tht={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Fht=["disabled"],Oht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Vht=(0,s._)("span",null," previous ",-1),Iht=[Oht,Vht],jht=["disabled"],Rht=(0,s._)("span",null," Next ",-1),Mht=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Nht=[Rht,Mht];function Hht(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Aht,[(0,s._)("div",Wht,[(0,s.Uk)(" Page "),(0,s._)("span",Eht,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",Tht,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Iht,10,Fht),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Nht,10,jht)])])])}var Yht={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Zht=(0,p.Z)(Yht,[["render",Hht]]);var Kht=Zht;const Bht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Qht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},Jht={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Ght={key:0,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Xht={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},tft={key:0},eft={key:1},rft={key:1,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},aft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},sft={key:0},oft={key:1},lft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},ift={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},nft={key:0},dft={key:1},wft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},cft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},uft={key:0},pft={key:1},mft={key:2,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},gft={key:0,class:"tw-px-4 tw-py-1 tw-rounded-lg tw-border tw-border-blue-500 tw-bg-blue-100 tw-text-blue-700 tw-text-sm tw-w-fit"},hft={key:1,class:"tw-px-4 tw-py-1 tw-rounded-lg tw-border tw-border-orange-500 tw-bg-orange-100 tw-text-orange-700 tw-text-sm tw-w-fit"},fft={key:2,class:"tw-px-4 tw-py-1 tw-rounded-lg tw-border tw-border-emerald-500 tw-bg-emerald-100 tw-text-emerald-700 tw-text-sm tw-w-fit"},yft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},xft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},bft={key:0},vft={key:0},_ft={key:1},kft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Cft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Dft={key:0},Sft={key:0},zft={key:1},Uft={key:3,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Pft={key:4,class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},Lft={key:0},qft={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},$ft={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},Aft={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function Wft(t,e,r,a,o,l){const i=(0,s.up)("PdfFactorisation"),n=(0,s.up)("CloseFactorisation"),d=(0,s.up)("PaidFactorisation"),w=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",Bht,[(0,s._)("div",null,[(0,s._)("h2",Qht,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",Jht,[(0,s._)("div",null,[(0,s.Wm)(i,{item:r.item},null,8,["item"])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Ght,[(0,s._)("div",null,[(0,s._)("h2",Xht,["delivery"==r.item.type?((0,s.wg)(),(0,s.iD)("span",tft,(0,at.zw)(r.item.delivery.firstname)+" "+(0,at.zw)(r.item.delivery.lastname),1)):((0,s.wg)(),(0,s.iD)("span",eft,"-"))])])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",rft,[(0,s._)("div",null,[(0,s._)("h2",aft,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",sft,(0,at.zw)(r.item.seller.firstname)+" "+(0,at.zw)(r.item.seller.lastname),1)):((0,s.wg)(),(0,s.iD)("span",oft,"-"))])])])):(0,s.kq)("",!0),(0,s._)("td",lft,[(0,s._)("div",null,[(0,s._)("h2",ift,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",nft,(0,at.zw)(r.item.seller_order_count),1)):((0,s.wg)(),(0,s.iD)("span",dft,(0,at.zw)(r.item.delivery_order_count),1))])])]),(0,s._)("td",wft,[(0,s._)("div",null,[(0,s._)("h2",cft,["seller"==r.item.type?((0,s.wg)(),(0,s.iD)("span",uft,(0,at.zw)(r.item.seller_order_price),1)):((0,s.wg)(),(0,s.iD)("span",pft,(0,at.zw)(r.item.delivery_order_price),1)),(0,s.Uk)(" "+(0,at.zw)(o.currency),1)])])]),"seller"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",mft,[(0,s._)("div",null,[r.item.close||r.item.paid?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",gft," Active ")),r.item.close&&!r.item.paid?((0,s.wg)(),(0,s.iD)("div",hft," Prending ")):(0,s.kq)("",!0),r.item.close&&r.item.paid?((0,s.wg)(),(0,s.iD)("div",fft," Paid ")):(0,s.kq)("",!0)])])):(0,s.kq)("",!0),(0,s._)("td",yft,[(0,s._)("div",null,[(0,s._)("h2",xft,[r.item.close_at?((0,s.wg)(),(0,s.iD)("span",bft,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.close_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",vft,(0,at.zw)(o.moment(r.item.close_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",_ft," - "))])])]),(0,s._)("td",kft,[(0,s._)("div",null,[(0,s._)("h2",Cft,[r.item.paid_at?((0,s.wg)(),(0,s.iD)("span",Dft,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.paid_at).format("DD[/]MM[/]YY")),1),((0,s.wg)(),(0,s.iD)("p",Sft,(0,at.zw)(o.moment(r.item.paid_at).format("HH[:]mm[:]ss")),1))])):((0,s.wg)(),(0,s.iD)("span",zft," - "))])])]),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Uft,[(0,s._)("div",null,[((0,s.wg)(),(0,s.j4)(n,{item:r.item,key:r.item.id,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["item"]))])])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.iD)("td",Pft,[r.item.close?((0,s.wg)(),(0,s.iD)("div",Lft,[((0,s.wg)(),(0,s.j4)(d,{item:r.item,key:r.item.id,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["item"]))])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),(0,s._)("td",qft,[(0,s._)("div",null,[(0,s._)("h2",$ft,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",Aft,[(0,s._)("div",null,[(0,s.Wm)(w,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const Eft={class:"tw-h-full"},Tft={class:"tw-flex tw-items-center tw-gap-2"},Fft={key:0},Oft={key:1},Vft={key:2};function Ift(t,e,r,a,o,l){const i=(0,s.up)("CommentFactorisation"),n=(0,s.up)("UpdateFactorisation"),d=(0,s.up)("UpdateFees");return(0,s.wg)(),(0,s.iD)("div",Eft,[(0,s._)("div",Tft,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(st.T,{key:0,target:"_blank",href:o.serverUrl+"api/export/factorisations/"+r.item.factorisation_id,class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-microsoft-excel")])),_:1})])),_:1},8,["href"])):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>o.CommentPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-blue-500/20 hover:tw-bg-blue-500/10 hover:tw-border-blue-500/70 tw-duration-300 tw-text-blue-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-comment-text")])),_:1})])),_:1})):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),"admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(st.T,{key:3,onClick:e[2]||(e[2]=t=>o.DeletePopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-red-500/20 hover:tw-bg-red-500/10 hover:tw-border-red-500/70 tw-duration-300 tw-text-red-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),"admin"==t.$user.role&&"seller"==r.item.type?((0,s.wg)(),(0,s.j4)(st.T,{key:4,onClick:e[3]||(e[3]=t=>o.FeesPopup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-green-500/20 hover:tw-bg-green-500/10 hover:tw-border-green-500/70 tw-duration-300 tw-text-green-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-format-list-text")])),_:1})])),_:1})):(0,s.kq)("",!0)]),o.CommentPopup?((0,s.wg)(),(0,s.iD)("div",Fft,[((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[4]||(e[4]=e=>t.$emit("update",e)),visible:o.CommentPopup,"onUpdate:visible":e[5]||(e[5]=t=>o.CommentPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.popup?((0,s.wg)(),(0,s.iD)("div",Oft,[((0,s.wg)(),(0,s.j4)(n,{onUpdate:e[6]||(e[6]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[7]||(e[7]=t=>o.popup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0),o.FeesPopup?((0,s.wg)(),(0,s.iD)("div",Vft,[((0,s.wg)(),(0,s.j4)(d,{onUpdate:e[8]||(e[8]=e=>t.$emit("update",e)),visible:o.FeesPopup,"onUpdate:visible":e[9]||(e[9]=t=>o.FeesPopup=t),key:r.item.id,item:r.item},null,8,["visible","item"]))])):(0,s.kq)("",!0)])}const jft={key:0},Rft={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Mft=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Comment",-1),Nft={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},Hft={class:"tw-w-full tw-col-span-6"},Yft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Total Price",-1),Zft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Kft={class:"tw-w-full tw-col-span-6"},Bft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Nb Commands",-1),Qft={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Jft={class:"tw-w-full tw-col-span-12"},Gft=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Comment",-1),Xft=["error"],tyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},eyt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},ryt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),ayt=(0,s._)("span",{class:"text-white"}," Update ",-1);function syt(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return l.itemCopy?((0,s.wg)(),(0,s.iD)("div",jft,[(0,s.Wm)(n,{onCancel:e[7]||(e[7]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Rft,[Mft,(0,s._)("div",Nft,[(0,s._)("div",Hft,[Yft,(0,s.Wm)(it.hw,{error:!l.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>i.resetError("price")),"hide-details":!0,modelValue:l.itemCopy.price,"onUpdate:modelValue":e[1]||(e[1]=t=>l.itemCopy.price=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",disabled:"",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Zft,(0,at.zw)(l.formStatus.price.message),1)]),(0,s._)("div",Kft,[Bft,(0,s.Wm)(it.hw,{error:!l.formStatus.commands_number.valid,onKeyup:e[2]||(e[2]=t=>i.resetError("commands_number")),"hide-details":!0,modelValue:l.itemCopy.commands_number,"onUpdate:modelValue":e[3]||(e[3]=t=>l.itemCopy.commands_number=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",disabled:"",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",Qft,(0,at.zw)(l.formStatus.commands_number.message),1)]),(0,s._)("div",Jft,[Gft,(0,s.wy)((0,s._)("textarea",{error:!l.formStatus.commands_number.valid,onKeyup:e[4]||(e[4]=t=>i.resetError("commands_number")),"hide-details":!0,clearable:"","clear-icon":"mdi-close","onUpdate:modelValue":e[5]||(e[5]=t=>l.itemCopy.comment=t),variant:"outlined",density:"compact",cols:"30",rows:"5",color:"primary-color",class:"tw-rounded-lg tw-px-3 tw-py-1 tw-outline-none tw-w-full tw-border tw-border-solid tw-border-neutral-400 focus:tw-border-orange-500"},"\r\n              ",40,Xft),[[a.nr,l.itemCopy.comment]]),(0,s._)("div",tyt,(0,at.zw)(l.formStatus.commands_number.message),1)])]),(0,s._)("div",eyt,[(0,s.Wm)(st.T,{onClick:e[6]||(e[6]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ryt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[ayt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var oyt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,Factorisation:{price:0,commands_number:0,comment:""},formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ept.updateComment(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.comment=Pt(this.itemCopy.comment,"Factorisation Comment"),this.formStatus.comment.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const lyt=(0,p.Z)(oyt,[["render",syt]]);var iyt=lyt;const nyt={key:0},dyt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},wyt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation",-1),cyt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},uyt={class:"tw-w-full tw-col-span-6"},pyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"}," Factorisation Code ",-1),myt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},gyt={class:"tw-w-full tw-col-span-6"},hyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Delivery",-1),fyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},yyt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},xyt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),byt=(0,s._)("span",{class:"text-white"}," Update ",-1);function vyt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",nyt,[(0,s.Wm)(i,{onCancel:e[5]||(e[5]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",dyt,[wyt,(0,s._)("div",cyt,[(0,s._)("div",uyt,[pyt,(0,s.Wm)(it.hw,{error:!o.formStatus.factorisation_id.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("factorisation_id")),"hide-details":!0,modelValue:o.itemCopy.factorisation_id,"onUpdate:modelValue":e[1]||(e[1]=t=>o.itemCopy.factorisation_id=t),clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",myt,(0,at.zw)(o.formStatus.factorisation_id.message),1)]),(0,s._)("div",gyt,[hyt,(0,s.Wm)(it.hw,{error:!o.formStatus.delivery_id.valid,onKeyup:e[2]||(e[2]=t=>l.resetError("delivery_id")),"hide-details":!0,disabled:!0,modelValue:l.deliveryName,"onUpdate:modelValue":e[3]||(e[3]=t=>l.deliveryName=t),clearable:"",disable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue"]),(0,s._)("div",fyt,(0,at.zw)(o.formStatus.delivery_id.message),1)])]),(0,s._)("div",yyt,[(0,s.Wm)(st.T,{onClick:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[xyt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[byt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var _yt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,formStatus:{factorisation_id:{valid:!0,message:""},delivery_id:{valid:!0,message:""},price:{valid:!0,message:""},commands_number:{valid:!0,message:""}}}},computed:{deliveryName:{get(){return this.itemCopy.delivery.firstname+" "+this.itemCopy.delivery.lastname},set(t){console.log(t)}}},methods:{update(){if(!this.validate())return!1;this.isLoading=!0,Ept.update(this.itemCopy.id,this.itemCopy).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$store.dispatch("factorisation/update",this.itemCopy),this.$emit("update:visible",!1),this.$emit("update",this.itemCopy)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){return this.formStatus.factorisation_id=Pt(this.itemCopy.factorisation_id,"Factorisation Code"),this.formStatus.factorisation_id.valid}},mounted(){console.log(this.item),this.itemCopy=JSON.parse(JSON.stringify(this.item))}};const kyt=(0,p.Z)(_yt,[["render",vyt]]);var Cyt=kyt;const Dyt={key:0},Syt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},zyt=(0,s._)("h1",{class:"tw-text-lg"},"Update Factorisation Fees",-1),Uyt={class:"tw-w-full tw-col-span-6"},Pyt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Name",-1),Lyt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},qyt={class:"tw-w-full tw-col-span-6"},$yt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Fee Price",-1),Ayt={class:"tw-h-[3px] tw-text-red-700 tw-mb-3 tw-mt-1 tw-text-xs"},Wyt={class:"tw-flex tw-gap-2 mt-0 mb-3 tw-justify-end"},Eyt=["onClick"],Tyt=(0,s._)("span",{class:"tw-text-white"},"Delete",-1),Fyt={class:"tw-flex tw-gap-2 mt-0 mb-10 tw-justify-end"},Oyt=(0,s._)("span",{class:"tw-text-white"},"Add",-1),Vyt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Iyt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),jyt=(0,s._)("span",{class:"text-white"}," Update ",-1);function Ryt(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return o.itemCopy?((0,s.wg)(),(0,s.iD)("div",Dyt,[(0,s.Wm)(i,{onCancel:e[4]||(e[4]=e=>t.$emit("update:visible",!1)),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Syt,[zyt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.fees,(t=>((0,s.wg)(),(0,s.iD)("div",{class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5",key:t.id},[(0,s._)("div",Uyt,[Pyt,(0,s.Wm)(it.hw,{error:!o.formStatus.price.valid,onKeyup:e[0]||(e[0]=t=>l.resetError("price")),"hide-details":!0,modelValue:t.feename,"onUpdate:modelValue":e=>t.feename=e,clearable:"","clear-icon":"mdi-close",class:"tw-w-full",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Lyt,(0,at.zw)(o.formStatus.price.message),1)]),(0,s._)("div",qyt,[$yt,(0,s.Wm)(it.hw,{error:!o.formStatus.commands_number.valid,onKeyup:e[1]||(e[1]=t=>l.resetError("commands_number")),"hide-details":!0,modelValue:t.feeprice,"onUpdate:modelValue":e=>t.feeprice=e,modelModifiers:{number:!0},clearable:"","clear-icon":"mdi-close",class:"tw-w-full",type:"number",variant:"outlined",color:"primary-color",density:"compact"},null,8,["error","modelValue","onUpdate:modelValue"]),(0,s._)("div",Ayt,(0,at.zw)(o.formStatus.commands_number.message),1),(0,s._)("div",Wyt,[(0,s._)("button",{onClick:e=>l.deletefee(t.id),class:"bg-red tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(lt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete")])),_:1}),Tyt],8,Eyt)])])])))),128)),(0,s._)("div",Fyt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.addFees&&l.addFees(...t)),class:"bg-primary-color tw-py-1 tw-px-4 tw-flex tw-items-center tw-gap-1 tw-text-white tw-rounded-md"},[(0,s.Wm)(lt.t,{size:"small",color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-plus")])),_:1}),Oyt])]),(0,s._)("div",Vyt,[(0,s.Wm)(st.T,{onClick:e[3]||(e[3]=e=>t.$emit("update:visible",!1)),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Iyt])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[jyt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])):(0,s.kq)("",!0)}var Myt={components:{},props:["item","visible"],data(){return{isLoading:!1,isLoaded:!1,itemCopy:null,fees:[],formStatus:{price:{valid:!0,message:""},commands_number:{valid:!0,message:""},comment:{valid:!0,message:""}}}},computed:{},methods:{addFees(){const t=this.fees.length>0?this.fees[this.fees.length-1].id:1,e=t?t+1:1,r={id:e,feename:"",feeprice:0};this.fees.push(r)},deletefee(t){this.fees=this.fees.filter((e=>e.id!=t))},update(){if(!this.validate())return!1;this.isLoading=!0,Ept.updateFees(this.itemCopy.id,this.fees).then((t=>{"FACTORISATION_UPDATED"==t.data.code&&(this.$alert({type:"success",title:t.data.message}),this.$emit("update",this.itemCopy),this.$emit("update:visible",!1)),"FACTORISATION_NOT_UPDATED"==t.data.code&&this.$alert({type:"warning",title:t.data.message})})).catch((t=>{this.$handleApiError(t)})).finally((()=>this.isLoading=!1))},resetError(t){this.formStatus[t]={valid:!0,message:""}},validate(){for(let t=0;t<this.fees.length;t++){if(!this.fees[t].feename)return this.$alert({type:"warning",title:"Add Fee Name"}),!1;if(!this.fees[t].feeprice)return this.$alert({type:"warning",title:"Add Fee Price"}),!1}return!0}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.fees=this.itemCopy.fees??[]}};const Nyt=(0,p.Z)(Myt,[["render",Ryt]]);var Hyt=Nyt,Yyt={components:{CommentFactorisation:iyt,UpdateFactorisation:Cyt,UpdateFees:Hyt},props:{item:{required:!0}},data(){return{CommentPopup:!1,popup:!1,DeletePopup:!1,FeesPopup:!1,isLoading:!1,serverUrl:d}},computed:{},methods:{}};const Zyt=(0,p.Z)(Yyt,[["render",Ift]]);var Kyt=Zyt;const Byt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},Qyt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Jyt=["disabled"],Gyt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function Xyt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",Byt,[(0,s._)("label",Qyt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingClose,"onUpdate:modelValue":e[0]||(e[0]=t=>i.close=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,Jyt),[[a.e8,i.close]]),Gyt]),l.isLoadingClose?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var txt={props:{item:{required:!0}},data(){return{isLoadingClose:!1}},computed:{close:{get(){return this.item.close},set(t){this.updateClose(t)}}},methods:{updateClose(t){this.isLoadingClose=!0,Ept.updateClose(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingClose=!1}))}}};const ext=(0,p.Z)(txt,[["render",Xyt]]);var rxt=ext;const axt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},sxt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},oxt=["disabled"],lxt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1);function ixt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",axt,[(0,s._)("label",sxt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingPaid,"onUpdate:modelValue":e[0]||(e[0]=t=>i.paid=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,oxt),[[a.e8,i.paid]]),lxt]),l.isLoadingPaid?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])}var nxt={props:{item:{required:!0}},data(){return{isLoadingPaid:!1}},computed:{paid:{get(){return this.item.paid},set(t){this.updatePaid(t)}}},methods:{updatePaid(t){this.isLoadingPaid=!0,Ept.updatePaid(this.item.id,t).then((t=>{if("FACTORISATION_UPDATED"==t.data.code){const e=t.data.data.factorisation;this.$emit("update",e),this.$alert({title:"Updated Successfully !",type:"success"})}}),this.$handleApiError).finally((()=>{this.isLoadingPaid=!1}))}}};const dxt=(0,p.Z)(nxt,[["render",ixt]]);var wxt=dxt;const cxt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"};function uxt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("h2",cxt,[(0,s._)("button",{class:"tw-underline",onClick:e[0]||(e[0]=t=>l.download(r.item.id))},(0,at.zw)(r.item.factorisation_id),1)])}var pxt={props:{item:{required:!0}},methods:{download(t){const e=d+"api/factorisations/generate-pdf/"+t,r=document.createElement("a");r.href=e,r.target="_blank",r.setAttribute("download","dd.pdf"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}};const mxt=(0,p.Z)(pxt,[["render",uxt]]);var gxt=mxt,hxt={components:{TableActions:Kyt,CloseFactorisation:rxt,PaidFactorisation:wxt,PdfFactorisation:gxt},props:{item:{required:!0}},data(){return{moment:Qg(),currency:c}},computed:{},methods:{}};const fxt=(0,p.Z)(hxt,[["render",Wft]]);var yxt=fxt,xxt={components:{TablePaginationNoNums:Kht,TableRow:yxt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const bxt=(0,p.Z)(xxt,[["render",$ht]]);var vxt=bxt;const _xt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},kxt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},Cxt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),Dxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),Sxt=[Dxt],zxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),Uxt=[zxt],Pxt=["disabled"],Lxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),qxt=[Lxt],$xt={class:"tw-relative"},Axt=["value"],Wxt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Ext=[Wxt],Txt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Fxt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Oxt=["value"],Vxt={class:"tw-overflow-hidden tw-col-span-1"},Ixt=(0,s._)("div",{class:"tw-overflow-hidden tw-col-span-1"},null,-1),jxt=[Ixt];function Rxt(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",_xt,[(0,s._)("div",kxt,[Cxt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Sxt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Uxt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},qxt,8,Pxt),(0,s._)("div",$xt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Ext,40,Axt),Txt])]),(0,s._)("div",Fxt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Oxt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Vxt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},jxt,2)):(0,s.kq)("",!0)])}const Mxt={class:"tw-mb-4"},Nxt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},Hxt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},Yxt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),Zxt=(0,s._)("span",null,"Clear",-1),Kxt=[Yxt,Zxt],Bxt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Qxt=(0,s._)("span",null,"Filter",-1),Jxt=[Bxt,Qxt];function Gxt(t,e,r,a,o,l){const i=(0,s.up)("SellerFilter"),n=(0,s.up)("CloseFilter"),d=(0,s.up)("PaidFilter");return(0,s.wg)(),(0,s.iD)("div",Mxt,[(0,s._)("div",Nxt,["admin"==t.$user.role?((0,s.wg)(),(0,s.j4)(i,{key:0,filters:r.filters,onUpdate:e[0]||(e[0]=e=>t.$emit("update",e))},null,8,["filters"])):(0,s.kq)("",!0),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[1]||(e[1]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[2]||(e[2]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",Hxt,[(0,s._)("button",{onClick:e[3]||(e[3]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},Kxt),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},Jxt)])])])}const Xxt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},tbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),ebt=["value"],rbt=(0,s._)("option",{value:"all"},"All",-1),abt=["value"];function sbt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Xxt,[tbt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[rbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,abt)))),128))],40,ebt)])}var obt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const lbt=(0,p.Z)(obt,[["render",sbt]]);var ibt=lbt;const nbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},dbt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Close",-1),wbt=["value"],cbt=(0,s._)("option",{value:"all"},"All",-1),ubt=["value"];function pbt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",nbt,[dbt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,close:e.target.value})),value:r.filters.close,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[cbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.close,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,at.zw)(t.title),9,ubt)))),128))],40,wbt)])}var mbt={props:{filters:{required:!0}},data(){return{close:[{id:1,title:"Close",value:1},{id:2,title:"Not Close",value:0}]}}};const gbt=(0,p.Z)(mbt,[["render",pbt]]);var hbt=gbt;const fbt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ybt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Paid",-1),xbt=["value"],bbt=(0,s._)("option",{value:"all"},"All",-1),vbt=["value"];function _bt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",fbt,[ybt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,paid:e.target.value})),value:r.filters.paid,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[bbt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.paid,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.value,key:t.id,class:"tw-capitalize"},(0,at.zw)(t.title),9,vbt)))),128))],40,xbt)])}var kbt={props:{filters:{required:!0}},data(){return{paid:[{id:1,title:"Paid",value:1},{id:2,title:"Not Paid",value:0}]}}};const Cbt=(0,p.Z)(kbt,[["render",_bt]]);var Dbt=Cbt,Sbt={components:{SellerFilter:ibt,CloseFilter:hbt,PaidFilter:Dbt},props:{filters:{required:!0,default:{}}},data(){return{}}};const zbt=(0,p.Z)(Sbt,[["render",Gxt]]);var Ubt=zbt,Pbt={components:{FiltersWrapper:Ubt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const Lbt=(0,p.Z)(Pbt,[["render",Rxt]]);var qbt=Lbt,$bt={components:{IndexTable:vxt,IndexFilters:qbt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{user_id:"all",close:"all",paid:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,Ept.paginate(t,e).then((({data:t})=>{const e=t.data.factorisation;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={user_id:"all",close:"all",paid:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Abt=(0,p.Z)($bt,[["render",Jgt]]);var Wbt=Abt,Ebt={name:"factorisations",path:"/factorisations",component:ca,meta:{module:"factorisation"},children:[{name:"factorisation/list",path:"",component:Mgt,meta:{module:"factorisation",subModule:"factorisation/list",title:"Factorisations List",gate:"show_all_factorisations"}},{name:"factorisation/list",path:"",component:Wbt,meta:{module:"factorisation",subModule:"factorisation/list",title:"New Factorisations List",gate:"show_all_factorisations"}}]};const Tbt={class:"mb-5 tw-flex tw-justify-between tw-items-center"},Fbt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Google Sheets"),(0,s._)("h2",{class:"tw-text-gray-500 tw-text-sm"},"Manage your google sheets")],-1),Obt=(0,s._)("span",{class:"text-white"}," Add Sheet ",-1),Vbt={key:0},Ibt={key:1,class:"py-5 px-5 tw-mb-5 tw-border bg-white tw-w-full tw-rounded-md"},jbt={class:"tw-flex tw-items-center tw-gap-2"},Rbt=(0,s._)("h1",null,"Application's email",-1),Mbt={class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-py-2 tw-px-2 tw-text-sm tw-mt-2 tw-text-gray-700"},Nbt=(0,s._)("p",{class:"tw-mt-1 tw-text-xs tw-text-gray-400"}," Use this email to give access to Google Sheets ",-1),Hbt={key:2,class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"},Ybt={class:"mb-5 tw-flex"},Zbt={class:"focus-within:tw-border-orange-400 tw-w-[250px] ml-2 px-2 tw-rounded-md tw-border tw-flex tw-items-center"},Kbt={class:"tw-grid tw-grid-cols-12 tw-gap-2 tw-mb-4"},Bbt={class:"lg:tw-col-span-4 md:tw-col-span-6 tw-col-span-12 tw-h-fit"},Qbt=(0,s._)("span",{class:"tw-text-sm tw-text-neutral-600"},"Date",-1),Jbt={class:"tw-relative"},Gbt={class:""};function Xbt(t,e,r,o,l,i){const n=(0,s.up)("LoadingAnimation"),d=(0,s.up)("SheetsTable"),w=(0,s.up)("AddSheet");return(0,s.wg)(),(0,s.iD)("div",{key:i.sheets.length},[(0,s._)("div",Tbt,[Fbt,(0,s._)("div",null,[t.$can("create_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,color:"primary-color",onClick:e[0]||(e[0]=t=>l.showPopup=!0),variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{icon:"mdi-plus",class:"mr-2 text-white"}),Obt])),_:1})):(0,s.kq)("",!0)])]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Vbt,[(0,s.Wm)(n)])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Ibt,[(0,s._)("div",jbt,[Rbt,(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>i.copy&&i.copy(...t)),class:"tw-bg-gray-100 tw-border tw-border-gray-300 tw-rounded tw-w-[30px] tw-h-[30px] tw-text-gray-500 hover:tw-text-gray-700 tw-duration-300 tw-border-solid hover:tw-border-gray-400"},[(0,s.Wm)(lt.t,{class:"tw-text-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-content-copy")])),_:1})])]),(0,s._)("div",Mbt,(0,at.zw)(l.email),1),Nbt])):(0,s.kq)("",!0),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",Hbt,[(0,s._)("div",Ybt,[(0,s.Wm)(st.T,{onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),icon:"",rounded:"lg",variant:"flat",size:"small",color:"primary-color",class:"text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white",size:"xx-large"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-camera-control")])),_:1})])),_:1}),(0,s._)("div",Zbt,[(0,s.Wm)(ee.f,{width:"18",height:"18","max-width":"18",class:"ma-0 pa-0",src:l.localUrl+"assets/img/icons/search.svg"},null,8,["src"]),(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.search=t),type:"text",class:"ml-2 tw-border-0 tw-outline-0 tw-h-full tw-text-sm",placeholder:"Search by name"},null,512),[[a.nr,l.search]])])]),(0,s._)("div",{class:(0,at.C_)(["tw-max-h-0 tw-duration-500 tw-overflow-hidden",{"!tw-max-h-[500px]":l.showFilters}])},[(0,s._)("div",Kbt,[(0,s._)("div",Bbt,[Qbt,(0,s._)("div",Jbt,[(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=t=>l.date=t),class:"tw-w-full focus:tw-border-orange-400 tw-h-[40px] px-2 tw-rounded-md tw-border tw-border-solid tw-border-neutral-200 tw-outline-0 tw-text-sm"},null,512),[[a.nr,l.date]])])])])],2),(0,s._)("div",Gbt,[(0,s.Wm)(d,{sheets:i.sheets},null,8,["sheets"])]),(0,s.Wm)(w,{onCancel:e[5]||(e[5]=t=>l.showPopup=!1),visible:l.showPopup},null,8,["visible"])])):(0,s.kq)("",!0)])}const tvt={class:"tw-relative tw-overflow-x-auto sm:tw-rounded-lg"},evt={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},rvt={class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50"},avt=(0,s._)("th",{scope:"col",class:"tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-all-search",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-all-search",class:"tw-sr-only"},"checkbox")])],-1),svt={class:"tw-w-fit tw-flex tw-whitespace-nowrap"},ovt={class:"mt-5 tw-grid tw-grid-cols-12 tw-gap-5"},lvt={class:"tw-col-span-12 md:tw-col-span-6 d-flex align-center"},ivt=(0,s._)("div",{class:"text-body-2 tw-h-fit mr-2 tw-text-zinc-700 tw-whitespace-nowrap"}," Show per page: ",-1),nvt=["value"],dvt={class:"tw-col-span-12 md:tw-col-span-6 d-flex tw-justify-end tw-flex-wrap align-center"},wvt={class:"text-caption tw-h-fit mr-2 font-weight-bold tw-text-zinc-700"},cvt={class:"tw-text-white"};function uvt(t,e,r,o,l,i){const n=(0,s.up)("SheetRow");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",tvt,[(0,s._)("table",evt,[(0,s._)("thead",rvt,[(0,s._)("tr",null,[avt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.columns,(t=>((0,s.wg)(),(0,s.iD)("th",{key:t,scope:"col",class:"tw-px-6 tw-py-3 text-truncate"},[(0,s._)("div",svt,(0,at.zw)(t),1)])))),128))])]),(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.sheets,(t=>((0,s.wg)(),(0,s.j4)(n,{sheet:t,key:t.id},null,8,["sheet"])))),128))])])]),(0,s._)("div",ovt,[(0,s._)("div",lvt,[ivt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.paginationLimit=t),class:"focus:tw-border-orange-400 tw-border-solid tw-w-[70px] ml-2 px-2 tw-py-2 tw-rounded-md tw-border tw-flex tw-items-center"},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.allowedLimit,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t},(0,at.zw)(t),9,nvt)))),128))],512),[[a.bM,l.paginationLimit]])]),(0,s._)("div",dvt,[(0,s._)("div",wvt,(0,at.zw)(i.prevRange+1)+" - "+(0,at.zw)(l.currentPage==i.pageCount?r.sheets.length:i.nextRange)+" of "+(0,at.zw)(r.sheets.length)+" items ",1),(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.pageCount,(t=>((0,s.wg)(),(0,s.j4)(st.T,{onClick:e=>l.currentPage=t,ripple:!1,variant:"flat",class:"mr-1",icon:"",rounded:"lg",color:t==l.currentPage?"primary-color":"grey",density:"comfortable",key:t},{default:(0,s.w5)((()=>[(0,s._)("span",cvt,(0,at.zw)(t),1)])),_:2},1032,["onClick","color"])))),128))])])])])}const pvt={class:"tw-bg-white tw-border-b tw-whitespace-nowrap hover:tw-bg-gray-50"},mvt=(0,s._)("td",{class:"tw-w-4 tw-p-4"},[(0,s._)("div",{class:"tw-flex tw-items-center"},[(0,s._)("input",{id:"checkbox-table-search-1",type:"checkbox",class:"tw-w-4 tw-h-4 tw-text-blue-600 tw-bg-gray-100 tw-border-gray-300 tw-rounded focus:tw-ring-blue-500 focus:tw-ring-2"}),(0,s._)("label",{for:"checkbox-table-search-1",class:"tw-sr-only"},"checkbox")])],-1),gvt={scope:"row",class:"tw-px-6 tw-py-4 tw-font-medium tw-text-gray-900 tw-whitespace-nowrap"},hvt={class:"tw-px-6 tw-py-4"},fvt={class:"tw-px-6 tw-py-4"},yvt={class:"tw-px-6 tw-py-4"},xvt={class:"tw-flex tw-items-center tw-w-full tw-text-neutral-600 dark:tw-text-neutral-200 tw-text-md tw-py-1"},bvt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},vvt=["disabled"],_vt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),kvt={class:"tw-px-6 tw-py-4"},Cvt={class:"tw-flex tw-items-center tw-px-6 tw-py-4 tw-space-x-3"};function Dvt(t,e,r,o,l,i){const n=(0,s.up)("SheetActions");return(0,s.wg)(),(0,s.iD)("tr",pvt,[mvt,(0,s._)("th",gvt,(0,at.zw)(r.sheet.id),1),(0,s._)("td",hvt,[(0,s._)("div",null,[(0,s._)("span",{class:(0,at.C_)(["tw-inline-block tw-w-[8px] tw-h-[8px] tw-rounded-full tw-mr-1",[1==r.sheet.active&&1==r.sheet.auto_fetch?"tw-bg-emerald-500":"tw-bg-red-500"]])},null,2),(0,s.Uk)(" "+(0,at.zw)(r.sheet.name),1)])]),(0,s._)("td",fvt,[(0,s._)("div",null,(0,at.zw)(r.sheet.sheet_name),1)]),(0,s._)("td",yvt,[(0,s._)("div",xvt,[(0,s._)("label",bvt,[(0,s.wy)((0,s._)("input",{disabled:l.isLoadingAuto,"onUpdate:modelValue":e[0]||(e[0]=t=>i.autoFetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,8,vvt),[[a.e8,i.autoFetch]]),_vt]),l.isLoadingAuto?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,color:"green",size:"small",class:"tw-animate-spin"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1})):(0,s.kq)("",!0)])]),(0,s._)("td",kvt,(0,at.zw)(r.sheet.created_at.split("T")[0]),1),(0,s._)("td",Cvt,[(0,s.Wm)(n,{sheet:r.sheet},null,8,["sheet"])])])}const Svt={key:0};function zvt(t,e,r,a,o,l){const i=(0,s.up)("UpdateSheet"),n=(0,s.up)("SheetOrders"),d=(0,s.up)("popup");return r.sheet?((0,s.wg)(),(0,s.iD)("div",Svt,[t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:0,onClick:l.sync,class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"blue",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{class:(0,at.C_)([o.isLoadingSheet&&"tw-animate-spin"]),color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-autorenew")])),_:1},8,["class"])])),_:1},8,["onClick"])):(0,s.kq)("",!0),t.$can("update_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:1,onClick:e[0]||(e[0]=t=>o.showUpdatePopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"orange",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),t.$can("delete_sheet")?((0,s.wg)(),(0,s.j4)(st.T,{key:2,onClick:e[1]||(e[1]=t=>o.showPopup=!0),class:"mr-2 !tw-px-0 !tw-py-0","min-height":"25px","min-width":"30",color:"red",variant:"flat",density:"comfortable",ripple:!1,size:"small"},{default:(0,s.w5)((()=>[(0,s.Wm)(lt.t,{color:"white"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-delete-outline")])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(i,{visible:o.showUpdatePopup,"onUpdate:visible":e[2]||(e[2]=t=>o.showUpdatePopup=t),sheet:r.sheet,onCancel:e[3]||(e[3]=t=>o.showUpdatePopup=!1)},null,8,["visible","sheet"]),(0,s.Wm)(n,{visible:o.showSheetPopup,"onUpdate:visible":e[4]||(e[4]=t=>o.showSheetPopup=t),sheet:r.sheet,orders:o.orders,onCancel:e[5]||(e[5]=t=>o.showSheetPopup=!1)},null,8,["visible","sheet","orders"]),(0,s.Wm)(d,{type:"warning",title:"Warning",body:"<p>Are you sure you want to delete this sale?</p> You won't be able to revert this!",loading:o.isLoading,visible:o.showPopup,onResolved:l.handleDelete},null,8,["loading","visible","onResolved"])])):(0,s.kq)("",!0)}const Uvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Pvt=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),Lvt={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},qvt={class:"md:tw-col-span-6 tw-col-span-12"},$vt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),Avt={class:"md:tw-col-span-6 tw-col-span-12"},Wvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),Evt={class:"md:tw-col-span-12 tw-col-span-12"},Tvt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),Fvt={class:"md:tw-col-span-6 tw-col-span-12"},Ovt=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),Vvt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},Ivt=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),jvt={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},Rvt=(0,s._)("span",{class:"text-white"}," Cancel ",-1),Mvt=(0,s._)("span",{class:"text-white"}," Save ",-1);function Nvt(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Uvt,[Pvt,(0,s._)("div",Lvt,[(0,s._)("div",qvt,[$vt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.newSheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.name]])]),(0,s._)("div",Avt,[Wvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.newSheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.sheet_name]])]),(0,s._)("div",Evt,[Tvt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.newSheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.newSheet.sheet_id]])]),(0,s._)("div",Fvt,[Ovt,(0,s._)("label",Vvt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.newSheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.newSheet.auto_fetch]]),Ivt])])]),(0,s._)("div",jvt,[(0,s.Wm)(st.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Rvt])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.update,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[Mvt])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var Hvt={props:["visible","sheet"],data(){return{isLoading:!1,newSheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},watch:{visible(t){t&&(this.newSheet={...this.sheet,auto_fetch:1==this.sheet.auto_fetch})}},computed:{isFormValid(){return!!this.newSheet.name&&!!this.newSheet.sheet_id&&!!this.newSheet.sheet_name}},methods:{update(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.newSheet;sa.update(this.sheet.id,t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet updated successfully"}),this.$store.dispatch("sheet/update",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const Yvt=(0,p.Z)(Hvt,[["render",Nvt]]);var Zvt=Yvt;const Kvt={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},Bvt={key:0},Qvt={class:"tw-flex tw-items-center tw-gap-2 tw-mb-2"},Jvt=(0,s._)("h1",{class:"tw-text-sm tw-font-medium tw-text-neutral-700"},"Sheet's New Orders",-1),Gvt={class:"tw-bg-emerald-500 tw-text-white tw-px-1 tw-text-sm tw-rounded"},Xvt={class:"tw-relative tw-overflow-x-auto"},t_t={class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500 tw-border tw-rounded"},e_t=(0,s._)("thead",{class:"tw-text-xs tw-text-gray-700 tw-uppercase tw-bg-gray-50 tw-rounded-t tw-overflow-hidden"},[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Fullname"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Product"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"SKU"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Qty"),(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3"},"Price")])],-1),r_t={class:"tw-px-6 tw-py-2"},a_t={class:"tw-px-6 tw-py-2"},s_t={class:"tw-px-6 tw-py-2"},o_t={class:"tw-px-6 tw-py-2"},l_t={class:"tw-px-6 tw-py-2"},i_t={class:"tw-flex tw-gap-2 mt-3 tw-justify-end"},n_t=(0,s._)("span",{class:"text-white"}," Cancel ",-1),d_t=(0,s._)("span",{class:"text-white"}," Save Orders",-1);function w_t(t,e,r,a,o,l){const i=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onCancel:e[1]||(e[1]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",Kvt,[r.orders.length>0?((0,s.wg)(),(0,s.iD)("div",Bvt,[(0,s._)("div",Qvt,[Jvt,(0,s._)("div",Gvt,(0,at.zw)(r.orders.length),1)]),(0,s._)("div",null,[(0,s._)("div",Xvt,[(0,s._)("table",t_t,[e_t,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.orders,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t,class:"tw-bg-white tw-border-b"},[(0,s._)("td",r_t,(0,at.zw)(t["Full name"]),1),(0,s._)("td",a_t,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Product name"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},"- "+(0,at.zw)(t),1)))),128))])]),(0,s._)("td",s_t,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["SKU"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,at.zw)(t),1)))),128))])]),(0,s._)("td",o_t,[(0,s._)("div",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t["Total quantity"].split("\n"),(t=>((0,s.wg)(),(0,s.iD)("p",{key:t},(0,at.zw)(t),1)))),128))])]),(0,s._)("td",l_t,(0,at.zw)(t["Total charge"]),1)])))),128))])])])]),(0,s._)("div",i_t,[(0,s.Wm)(st.T,{onClick:e[0]||(e[0]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[n_t])),_:1}),(0,s.Wm)(st.T,{loading:o.isLoading,onClick:l.save,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[d_t])),_:1},8,["loading","onClick"])])])):(0,s.kq)("",!0)])])),_:1},8,["visible"])])}var c_t={props:["visible","sheet","orders"],data(){return{isLoading:!1}},computed:{sales(){return this.$store.getters["sale/sales"]}},methods:{save(){this.isLoading=!0,sa.saveOrders(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:t.data.data.orders.length+" Order has been added",type:"success"}),this.$store.dispatch("sale/setSales",[...t.data.data.orders,...this.sales]),this.$emit("cancel"))}),(t=>{this.$handleApiError(t),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this sheet",type:"warning"})})).finally((()=>{this.isLoading=!1}))}}};const u_t=(0,p.Z)(c_t,[["render",w_t]]);var p_t=u_t,m_t={props:["sheet"],name:"sheetActions",components:{UpdateSheet:Zvt,SheetOrders:p_t},data(){return{showPopup:!1,showUpdatePopup:!1,showSheetPopup:!1,isLoading:!1,isLoadingSheet:!1,orders:[]}},computed:{},methods:{handleDelete(t){if(console.log(t),!t)return this.showPopup=!1,!1;this.delete()},delete(){this.isLoading=!0,sa["delete"](this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(this.$alert({title:"Deleted successfully",type:"success"}),this.$store.dispatch("sheet/delete",this.sheet.id),this.showPopup=!1)}),this.$handleApiError).finally((()=>{this.isLoading=!1}))},sync(){this.isLoadingSheet=!0,sa.sync(this.sheet.id).then((t=>{"SUCCESS"==t.data.code&&(0==t.data.data.orders.length?this.$alert({title:"0 Orders found",type:"info"}):(this.orders=t.data.data.orders,this.showSheetPopup=!0),console.log(t.data.data.sheet),this.$store.dispatch("sheet/update",t.data.data.sheet)),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log(t),this.$store.dispatch("sheet/update",t.response.data.data.sheet),"PERMISSION_DENIED"==t?.response?.data?.code&&this.$alert({title:"Access denied to this Google Sheet",type:"error"})})).finally((()=>{this.isLoadingSheet=!1}))}},mounted(){}};const g_t=(0,p.Z)(m_t,[["render",zvt]]);var h_t=g_t,f_t={props:["sheet"],components:{SheetActions:h_t},data(){return{isLoadingAuto:!1}},computed:{autoFetch:{get(){return 1==this.sheet.auto_fetch},set(t){this.updateAutoFetch(t)}}},methods:{updateAutoFetch(t){this.isLoadingAuto=!0,sa.updateAutoFetch(this.sheet.id,t).then((e=>{"SUCCESS"==e.data.code&&(this.$alert({title:t?"Activated":"Disabled",type:"success"}),this.$store.dispatch("sheet/update",e.data.data.sheet))}),this.$handleApiError).finally((()=>{this.isLoadingAuto=!1}))}}};const y_t=(0,p.Z)(f_t,[["render",Dvt]]);var x_t=y_t,b_t={props:["sheets"],components:{SheetRow:x_t},data(){return{allowedLimit:[5,10,20,50,100],currentPage:1,paginationLimit:10,columns:["id","name","sheet name","auto fetch","created","actions"]}},computed:{prevRange(){return(this.currentPage-1)*this.paginationLimit},nextRange(){return this.currentPage*this.paginationLimit},pageCount(){return Math.ceil(this.sheets.length/this.paginationLimit)},items(){return this.sheets.slice(this.prevRange,this.nextRange)}},methods:{}};const v_t=(0,p.Z)(b_t,[["render",uvt]]);var __t=v_t;const k_t={class:"md:tw-w-[80%] tw-w-[95%] tw-px-5 tw-max-w-[750px] tw-mx-auto tw-my-3 tw-min-h-fit tw-bg-white tw-rounded-lg tw-shadow-lg tw-py-5"},C_t=(0,s._)("h1",{class:"tw-text-lg"},"Create Sheet",-1),D_t={class:"tw-grid tw-grid-cols-12 tw-gap-y-1 tw-gap-x-3 mt-5"},S_t={class:"md:tw-col-span-6 tw-col-span-12"},z_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Name",-1),U_t={class:"md:tw-col-span-6 tw-col-span-12"},P_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet Name",-1),L_t={class:"md:tw-col-span-12 tw-col-span-12"},q_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Sheet ID",-1),$_t={class:"md:tw-col-span-6 tw-col-span-12"},A_t=(0,s._)("div",{class:"mb-1 text-body-2 tw-text-zinc-700"},"Auto Fetch",-1),W_t={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-w-fit tw-scale-75"},E_t=(0,s._)("div",{class:"tw-flex tw-items-center peer-checked:tw-bg-emerald-500 tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600"},null,-1),T_t={class:"tw-flex tw-gap-2 mt-3 mb-2 tw-justify-end"},F_t=(0,s._)("span",{class:"text-white"}," Cancel ",-1),O_t=(0,s._)("span",{class:"text-white"}," Save ",-1);function V_t(t,e,r,o,l,i){const n=(0,s.up)("popup-full");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{onCancel:e[5]||(e[5]=e=>t.$emit("cancel")),visible:r.visible},{default:(0,s.w5)((()=>[(0,s._)("div",k_t,[C_t,(0,s._)("div",D_t,[(0,s._)("div",S_t,[z_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.sheet.name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.name]])]),(0,s._)("div",U_t,[P_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.sheet.sheet_name=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.sheet_name]])]),(0,s._)("div",L_t,[q_t,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.sheet.sheet_id=t),class:"tw-py-2 tw-outline-none tw-duration-300 tw-px-3 tw-w-full tw-rounded-lg tw-border tw-border-solid tw-border-neutral-300 focus:tw-border-orange-500"},null,512),[[a.nr,l.sheet.sheet_id]])]),(0,s._)("div",$_t,[A_t,(0,s._)("label",W_t,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.sheet.auto_fetch=t),type:"checkbox",class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.sheet.auto_fetch]]),E_t])])]),(0,s._)("div",T_t,[(0,s.Wm)(st.T,{onClick:e[4]||(e[4]=e=>t.$emit("cancel")),color:"grey-darken-2",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[F_t])),_:1}),(0,s.Wm)(st.T,{loading:l.isLoading,onClick:i.create,color:"primary-color",variant:"flat",class:"text-capitalize"},{default:(0,s.w5)((()=>[O_t])),_:1},8,["loading","onClick"])])])])),_:1},8,["visible"])])}var I_t={props:["visible"],data(){return{isLoading:!1,sheet:{name:"",sheet_id:"",sheet_name:"",auto_fetch:!0}}},computed:{isFormValid(){return!!this.sheet.name&&!!this.sheet.sheet_id&&!!this.sheet.sheet_name}},methods:{create(){if(!this.isFormValid)return this.$alert({type:"warning",title:"Please fill all the form"}),!1;this.isLoading=!0;const t=this.sheet;sa.create(t).then((t=>{"SUCCESS"==t.data.code&&(this.$emit("cancel"),this.$alert({type:"success",title:"Sheet created successfully"}),this.$store.dispatch("sheet/addSheet",t.data.data.sheet))}),this.$handleApiError).finally((()=>this.isLoading=!1))}}};const j_t=(0,p.Z)(I_t,[["render",V_t]]);var R_t=j_t,M_t={components:{SheetsTable:__t,AddSheet:R_t},data(){return{localUrl:n,isLoaded:!1,showFilters:!1,date:null,search:"",showPopup:!1,email:"new-service-account@testing-379416.iam.gserviceaccount.com"}},computed:{sheets(){return this.$store.getters["sheet/sheets"]}},methods:{getSheets(){return this.isLoaded=!1,sa.all().then((t=>("SUCCESS"==t.data.code&&this.$store.dispatch("sheet/setSheets",t.data.data.sheets),t)),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},copy(){navigator.clipboard.writeText(this.email),this.$alert({title:"Email Copied !",type:"success"})}},mounted(){this.getSheets()}};const N_t=(0,p.Z)(M_t,[["render",Xbt]]);var H_t=N_t,Y_t={name:"sheets",path:"/sheets",component:ca,meta:{module:"sheet"},children:[{name:"sheet/list",path:"",component:H_t,meta:{module:"sheet",subModule:"sheet/list",title:"Google Sheets List",gate:"show_all_sheets"}}]};const Z_t={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},K_t={class:"tw-px-3"},B_t={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Q_t={class:"tw-flex tw-items-center tw-gap-x-3"},J_t=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),G_t={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},X_t=(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")],-1),tkt=[X_t],ekt={key:0};function rkt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexTable"),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",Z_t,[(0,s._)("section",K_t,[(0,s._)("div",B_t,[(0,s._)("div",null,[(0,s._)("div",Q_t,[J_t,(0,s._)("span",G_t,(0,at.zw)(o.totalOrders)+" order",1)])]),(0,s._)("div",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},tkt)]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading"]),(0,s._)("div",null,[(0,s.Wm)(n,{onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",ekt,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[4]||(e[4]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])}class akt{async create(t){return await A.getCookie(),q.post("api/ads/new",t)}async update(t,e){return await A.getCookie(),q.post("api/ads/update/"+t,e)}async delete(t){return await A.getCookie(),q["delete"]("api/ads/delete/"+t)}async paginate(t="/",e){return await A.getCookie(),q.post("api/ads"+t,e)}}var skt=new akt;const okt={class:"tw-flex tw-flex-col"},lkt={class:"tw-overflow-x-auto"},ikt={class:"tw-inline-block tw-min-w-full tw-align-middle"},nkt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},dkt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},wkt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},ckt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),ukt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},pkt=(0,s._)("span",null,"Created",-1),mkt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),gkt=[pkt,mkt],hkt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},fkt=(0,s._)("span",null,"Ads For",-1),ykt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),xkt=[fkt,ykt],bkt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Marketer ",-1),vkt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Source ",-1),_kt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Amount ",-1),kkt=(0,s._)("th",{scope:"col",class:"tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Leads ",-1),Ckt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-12 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),Dkt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),Skt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},zkt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},Ukt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),Pkt=[Ukt],Lkt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},qkt={colspan:"8"},$kt={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-700 md:tw-p-6 dark:tw-border-gray-700"},Akt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"})],-1),Wkt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-600 tw-w-24 tw-mb-2.5"}),(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-700"})],-1),Ekt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-700 tw-w-12"},null,-1),Tkt=[Wkt,Ekt],Fkt={class:"tw-mt-6"};function Okt(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",okt,[(0,s._)("div",lkt,[(0,s._)("div",ikt,[(0,s._)("div",nkt,[(0,s._)("table",dkt,[(0,s._)("thead",wkt,[(0,s._)("tr",null,[ckt,(0,s._)("th",ukt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},gkt)]),(0,s._)("th",hkt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"ads_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},xkt)]),bkt,vkt,_kt,kkt,Ckt,Dkt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",Skt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",zkt,Pkt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",Lkt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",qkt,[(0,s._)("div",$kt,[Akt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},Tkt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",Fkt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[3]||(e[3]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const Vkt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},Ikt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},jkt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},Rkt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},Mkt=["disabled"],Nkt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),Hkt=(0,s._)("span",null," previous ",-1),Ykt=[Nkt,Hkt],Zkt=["disabled"],Kkt=(0,s._)("span",null," Next ",-1),Bkt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),Qkt=[Kkt,Bkt];function Jkt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Vkt,[(0,s._)("div",Ikt,[(0,s.Uk)(" Page "),(0,s._)("span",jkt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",Rkt,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Ykt,10,Mkt),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},Qkt,10,Zkt)])])])}var Gkt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const Xkt=(0,p.Z)(Gkt,[["render",Jkt]]);var tCt=Xkt;const eCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},aCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},oCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},iCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},nCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},dCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},wCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},cCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},pCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},mCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},gCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},hCt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},fCt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function yCt(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",eCt,[(0,s._)("div",null,[(0,s._)("h2",rCt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",aCt,[(0,s._)("div",null,[(0,s._)("h2",sCt,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",oCt,[(0,s._)("div",null,[(0,s._)("h2",lCt,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.ads_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",iCt,[(0,s._)("div",null,[(0,s._)("h2",nCt,(0,at.zw)(r.item.marketers.firstname)+" "+(0,at.zw)(r.item.marketers.lastname),1)])]),(0,s._)("td",dCt,[(0,s._)("div",null,[(0,s._)("h2",wCt,(0,at.zw)(r.item.source),1)])]),(0,s._)("td",cCt,[(0,s._)("div",null,[(0,s._)("h2",uCt,(0,at.zw)(r.item.amount),1)])]),(0,s._)("td",pCt,[(0,s._)("div",null,[(0,s._)("h2",mCt,(0,at.zw)(r.item.leads),1)])]),(0,s._)("td",gCt,[(0,s._)("div",null,[(0,s._)("h2",hCt,(0,at.zw)(r.item.products.name),1)])]),(0,s._)("td",fCt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const xCt={class:"tw-h-full"},bCt={class:"tw-flex tw-items-center tw-gap-2"},vCt={key:0};function _Ct(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup");return(0,s.wg)(),(0,s.iD)("div",xCt,[(0,s._)("div",bCt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.popup=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})])]),o.popup?((0,s.wg)(),(0,s.iD)("div",vCt,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const kCt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},CCt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),DCt={class:"tw-bg-white tw-p-4"},SCt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},zCt={class:"tw-col-span-2 md:tw-col-span-1"},UCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),PCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LCt={class:"tw-col-span-2 md:tw-col-span-1"},qCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),$Ct={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ACt={class:"tw-col-span-2 md:tw-col-span-1"},WCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),ECt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},TCt={class:"tw-col-span-2 md:tw-col-span-1"},FCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),OCt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),VCt=["value"],ICt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jCt={class:"tw-col-span-2 md:tw-col-span-1"},RCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer",-1),MCt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),NCt=["value"],HCt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},YCt={class:"md:tw-col-span-1 tw-col-span-2"},ZCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),KCt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},BCt={class:"tw-col-span-2"},QCt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),JCt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},GCt=["disabled"],XCt=(0,s._)("span",null,"Update",-1);function tDt(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",kCt,[CCt,(0,s._)("div",DCt,[(0,s._)("div",SCt,[(0,s._)("div",zCt,[UCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.items.source=t),onInput:e[1]||(e[1]=t=>l.errors.source=null),type:"text",class:(0,at.C_)([[l.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.items.source]]),l.errors.source?((0,s.wg)(),(0,s.iD)("label",PCt,(0,at.zw)(l.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",LCt,[qCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.items.amount=t),onInput:e[3]||(e[3]=t=>l.errors.amount=null),class:(0,at.C_)([[l.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.amount]]),l.errors.amount?((0,s.wg)(),(0,s.iD)("label",$Ct,(0,at.zw)(l.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",ACt,[WCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.items.leads=t),onInput:e[5]||(e[5]=t=>l.errors.leads=null),class:(0,at.C_)([[l.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.leads]]),l.errors.leads?((0,s.wg)(),(0,s.iD)("label",ECt,(0,at.zw)(l.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",TCt,[FCt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>l.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>l.items.product_id=t),class:(0,at.C_)([[l.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[OCt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,VCt)))),128))],34),[[a.bM,l.items.product_id]]),l.errors.product_id?((0,s.wg)(),(0,s.iD)("label",ICt,(0,at.zw)(l.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",jCt,[RCt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>l.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>l.items.marketer_id=t),class:(0,at.C_)([[l.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[MCt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,NCt)))),128))],34),[[a.bM,l.items.marketer_id]]),l.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",HCt,(0,at.zw)(l.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",YCt,[ZCt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.items.ads_at=t),onInput:e[11]||(e[11]=t=>l.errors.ads_at=null),class:(0,at.C_)([[l.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.items.ads_at]]),(0,s._)("label",KCt,(0,at.zw)(l.errors.ads_at),1)]),(0,s._)("div",BCt,[QCt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,l.items.note]])])])]),(0,s._)("div",JCt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),XCt],8,GCt)])])])),_:1},8,["visible","onCancel"])])}const eDt=(t,e)=>e.source?!e.product_id||parseInt(e.product_id)<=0?(t.errors.product_id="Product is required",!1):!e.amount||parseInt(e.amount)<=0?(t.errors.amount="Amount is required",!1):!!e.ads_at||(t.errors.ads_at="Add Ads Date !",!1):(t.errors.source="Source Name is required",!1),rDt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},aDt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},sDt=(t,e)=>{t.isLoading=!0,t.errors={},skt.update(e.id,e).then((e=>rDt(t,e.data))).catch((e=>aDt(t,e.response.data))).finally((()=>t.isLoading=!1))};var oDt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,source:null,amount:null,ads_at:null}}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleUpdate(){const t=eDt(this,this.items);if(!t)return!1;sDt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.getProducts(),this.items={...this.item,ads_at:this.item.ads_at?new Date(this.item.ads_at).toISOString().substr(0,10):null}}};const lDt=(0,p.Z)(oDt,[["render",tDt]]);var iDt=lDt,nDt={components:{UpdatePopup:iDt},props:{item:{required:!0}},data(){return{popup:!1,isLoading:!1}},methods:{handle(){}}};const dDt=(0,p.Z)(nDt,[["render",_Ct]]);var wDt=dDt,cDt={components:{TableActions:wDt},props:{item:{required:!0}},data(){return{moment:Qg()}},computed:{},methods:{}};const uDt=(0,p.Z)(cDt,[["render",yCt]]);var pDt=uDt,mDt={components:{TablePaginationNoNums:tCt,TableRow:pDt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}}};const gDt=(0,p.Z)(mDt,[["render",Okt]]);var hDt=gDt;const fDt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},yDt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},xDt=(0,s._)("button",{class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"}," View all ",-1),bDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),vDt=[bDt],_Dt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),kDt=[_Dt],CDt=["disabled"],DDt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),SDt=[DDt],zDt={class:"tw-relative"},UDt=["value"],PDt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),LDt=[PDt],qDt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),$Dt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},ADt=["value"],WDt={class:"tw-overflow-hidden tw-col-span-1"},EDt={class:"tw-overflow-hidden tw-col-span-1"};function TDt(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",fDt,[(0,s._)("div",yDt,[xDt,(0,s._)("button",{onClick:e[0]||(e[0]=t=>l.showFilters=!l.showFilters),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},vDt),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[1]||(e[1]=t=>l.showStatistics=!l.showStatistics),class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},kDt)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[2]||(e[2]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},SDt,8,CDt),(0,s._)("div",zDt,[(0,s._)("select",{onChange:e[3]||(e[3]=e=>t.$emit("perPageChange",e.target.value)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},LDt,40,UDt),qDt])]),(0,s._)("div",$Dt,[(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[4]||(e[4]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[5]||(e[5]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,ADt),(0,s._)("button",{onClick:e[6]||(e[6]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",WDt,[(0,s.Wm)(n,{onClear:e[7]||(e[7]=e=>t.$emit("clear")),onFilter:e[8]||(e[8]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[9]||(e[9]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",EDt,[(0,s.Wm)(d,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const FDt={class:"tw-mb-4"},ODt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},VDt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},IDt={class:"tw-flex tw-items-center tw-justify-between"},jDt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},RDt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function MDt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",FDt,[(0,s._)("div",ODt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",VDt,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",IDt,[(0,s._)("span",jDt,(0,at.zw)(t.total),1),(0,s._)("span",RDt,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var NDt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return ed.find((e=>e.value==t))}}};const HDt=(0,p.Z)(NDt,[["render",MDt]]);var YDt=HDt;const ZDt={class:"tw-mb-4"},KDt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},BDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},QDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),JDt=["value"],GDt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XDt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),tSt=["value"],eSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},rSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads From",-1),aSt=["value"],sSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},oSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Ads To",-1),lSt=["value"],iSt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},nSt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),dSt=(0,s._)("span",null,"Clear",-1),wSt=[nSt,dSt],cSt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),uSt=(0,s._)("span",null,"Filter",-1),pSt=[cSt,uSt];function mSt(t,e,r,a,o,l){const i=(0,s.up)("MarketerFilter"),n=(0,s.up)("ProductFilter"),d=(0,s.up)("SourceFilter");return(0,s.wg)(),(0,s.iD)("div",ZDt,[(0,s._)("div",KDt,[(0,s._)("div",BDt,[QDt,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,JDt)]),(0,s._)("div",GDt,[XDt,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,tSt)]),(0,s._)("div",eSt,[rSt,(0,s._)("input",{value:r.filters.ads_from,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,ads_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,aSt)]),(0,s._)("div",sSt,[oSt,(0,s._)("input",{value:r.filters.ads_to,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,ads_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,lSt)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[4]||(e[4]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(n,{filters:r.filters,onUpdate:e[5]||(e[5]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s.Wm)(d,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",iSt,[(0,s._)("button",{onClick:e[7]||(e[7]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},wSt),(0,s._)("button",{onClick:e[8]||(e[8]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},pSt)])])])}const gSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Marketer",-1),fSt=["value"],ySt=(0,s._)("option",{value:"all"},"All",-1),xSt=["value"];function bSt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",gSt,[hSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,marketer_id:e.target.value})),value:r.filters.marketer_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[ySt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,xSt)))),128))],40,fSt)])}var vSt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const _St=(0,p.Z)(vSt,[["render",bSt]]);var kSt=_St;const CSt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),SSt=["value"],zSt=(0,s._)("option",{value:"all"},"All",-1),USt=["value"];function PSt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",CSt,[DSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[zSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,USt)))),128))],40,SSt)])}var LSt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const qSt=(0,p.Z)(LSt,[["render",PSt]]);var $St=qSt;const ASt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},WSt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Source",-1),ESt=["value"],TSt=(0,s._)("option",{value:"all"},"All",-1),FSt=["value"];function OSt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",ASt,[WSt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,source:e.target.value})),value:r.filters.source,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[TSt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.sources,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t,key:t,class:"tw-capitalize"},(0,at.zw)(t),9,FSt)))),128))],40,ESt)])}var VSt={props:{filters:{required:!0}},data(){return{sources:["facebook","instagram","tiktok"]}}};const ISt=(0,p.Z)(VSt,[["render",OSt]]);var jSt=ISt,RSt={components:{MarketerFilter:kSt,ProductFilter:$St,SourceFilter:jSt},props:{filters:{required:!0,default:{}}},data(){return{}}};const MSt=(0,p.Z)(RSt,[["render",mSt]]);var NSt=MSt,HSt={components:{IndexStatistics:YDt,FiltersWrapper:NSt},props:{perPage:{type:Number,default:10},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1}}};const YSt=(0,p.Z)(HSt,[["render",TDt]]);var ZSt=YSt;const KSt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},BSt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Ads Informations ",-1),QSt={class:"tw-bg-white tw-p-4"},JSt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},GSt={class:"tw-col-span-2 md:tw-col-span-1"},XSt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Source",-1),tzt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},ezt={class:"tw-col-span-2 md:tw-col-span-1"},rzt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Amount",-1),azt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},szt={class:"tw-col-span-2 md:tw-col-span-1"},ozt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Leads",-1),lzt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},izt={class:"tw-col-span-2 md:tw-col-span-1"},nzt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Product",-1),dzt=(0,s._)("option",{value:0,selected:""},"Choose Product",-1),wzt=["value"],czt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},uzt={class:"tw-col-span-2 md:tw-col-span-1"},pzt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Marketer ",-1),mzt=(0,s._)("option",{value:0,selected:""},"Choose Marketer",-1),gzt=["value"],hzt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},fzt={class:"md:tw-col-span-1 tw-col-span-2"},yzt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Ads Date",-1),xzt={class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},bzt={class:"tw-col-span-2"},vzt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),_zt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},kzt=["disabled"],Czt=(0,s._)("span",null,"Create",-1);function Dzt(t,e,r,o,l,i){const n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",KSt,[BSt,(0,s._)("div",QSt,[(0,s._)("div",JSt,[(0,s._)("div",GSt,[XSt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.items.source=t),onInput:e[1]||(e[1]=t=>l.errors.source=null),type:"text",class:(0,at.C_)([[l.errors.source&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.items.source]]),l.errors.source?((0,s.wg)(),(0,s.iD)("label",tzt,(0,at.zw)(l.errors.source),1)):(0,s.kq)("",!0)]),(0,s._)("div",ezt,[rzt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.items.amount=t),onInput:e[3]||(e[3]=t=>l.errors.amount=null),class:(0,at.C_)([[l.errors.amount&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.amount]]),l.errors.amount?((0,s.wg)(),(0,s.iD)("label",azt,(0,at.zw)(l.errors.amount),1)):(0,s.kq)("",!0)]),(0,s._)("div",szt,[ozt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.items.leads=t),onInput:e[5]||(e[5]=t=>l.errors.leads=null),class:(0,at.C_)([[l.errors.leads&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",required:""},null,34),[[a.nr,l.items.leads]]),l.errors.leads?((0,s.wg)(),(0,s.iD)("label",lzt,(0,at.zw)(l.errors.leads),1)):(0,s.kq)("",!0)]),(0,s._)("div",izt,[nzt,(0,s.wy)((0,s._)("select",{onChange:e[6]||(e[6]=t=>l.errors.product_id=null),"onUpdate:modelValue":e[7]||(e[7]=t=>l.items.product_id=t),class:(0,at.C_)([[l.errors.product_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[dzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.name),9,wzt)))),128))],34),[[a.bM,l.items.product_id]]),l.errors.product_id?((0,s.wg)(),(0,s.iD)("label",czt,(0,at.zw)(l.errors.product_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",uzt,[pzt,(0,s.wy)((0,s._)("select",{onChange:e[8]||(e[8]=t=>l.errors.marketer_id=null),"onUpdate:modelValue":e[9]||(e[9]=t=>l.items.marketer_id=t),class:(0,at.C_)([[l.errors.marketer_id&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),required:""},[mzt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.marketers,(t=>((0,s.wg)(),(0,s.iD)("option",{key:t.id,value:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,gzt)))),128))],34),[[a.bM,l.items.marketer_id]]),l.errors.marketer_id?((0,s.wg)(),(0,s.iD)("label",hzt,(0,at.zw)(l.errors.marketer_id),1)):(0,s.kq)("",!0)]),(0,s._)("div",fzt,[yzt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.items.ads_at=t),onInput:e[11]||(e[11]=t=>l.errors.ads_at=null),class:(0,at.C_)([[l.errors.ads_at&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"date",required:""},null,34),[[a.nr,l.items.ads_at]]),(0,s._)("label",xzt,(0,at.zw)(l.errors.ads_at),1)]),(0,s._)("div",bzt,[vzt,(0,s.wy)((0,s._)("textarea",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.items.note=t),onInput:e[13]||(e[13]=(...e)=>t.note&&t.note(...e)),rows:"3",class:"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500",placeholder:"Enter a note"},null,544),[[a.nr,l.items.note]])])])]),(0,s._)("div",_zt,[(0,s._)("button",{onClick:e[14]||(e[14]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[15]||(e[15]=(...t)=>i.handleCreate&&i.handleCreate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),Czt],8,kzt)])])])),_:1},8,["visible","onCancel"])])}const Szt=(t,e)=>{t.$alert({title:"Created Successfully",type:"success"}),console.log(e),t.isLoading=!1,t.cancel(),t.errors={}},zzt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},Uzt=(t,e)=>{t.isLoading=!0,t.errors={},skt.create(e).then((e=>Szt(t,e.data))).catch((e=>zzt(t,e.response.data))).finally((()=>t.isLoading=!1))};var Pzt={components:{},props:{visible:{required:!0}},data(){return{isLoading:!1,products_fetched:null,products:null,items:{product_id:0,marketer_id:0,source:null,amount:0,leads:0,ads_at:null,note:null},errors:{product_id:null,marketer_id:null,source:null,leads:null,amount:null,ads_at:null}}},computed:{cities(){return this.$store.getters["city/cities"]},users(){return this.$store.getters["user/users"]},marketers(){return this.fetched?this.users.filter((t=>"marketer"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}},methods:{handleCreate(){const t=eDt(this,this.items);if(!t)return!1;Uzt(this,this.items)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder().then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){console.log(this.marketers),this.getProducts()}};const Lzt=(0,p.Z)(Pzt,[["render",Dzt]]);var qzt=Lzt,$zt={components:{IndexTable:hDt,IndexFilters:ZSt,CreatePopup:qzt},data(){return{fetching:!0,create_popup:!1,items:[],first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,skt.paginate(t,e).then((({data:t})=>{const e=t.data.ads;this.setOptions(e)})).then((()=>{this.fetching=!1}))},handleClearFilters(){this.filters={created_from:null,created_to:null,ads_from:null,ads_to:null,marketer_id:"all",product_id:"all",source:"all"},this.handlePageChange(1)},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()}},mounted(){this.paginateOrders()}};const Azt=(0,p.Z)($zt,[["render",rkt]]);var Wzt=Azt,Ezt={name:"ads",path:"/ads",component:ca,meta:{module:"ads"},children:[{name:"ads/list",path:"",component:Wzt,meta:{module:"ads",subModule:"ads/list",title:"Ads List",gate:"show_all_ads"}}]};const Tzt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},Fzt={class:"tw-px-3"},Ozt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},Vzt={class:"tw-flex tw-items-center tw-gap-x-3"},Izt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"},"Orders",-1),jzt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},Rzt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"},"These orders have needs to reconfirmed.",-1),Mzt=(0,s._)("div",{class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},[(0,s._)("button",{class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,s._)("span",null,"Create")])],-1);function Nzt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable"));return(0,s.wg)(),(0,s.iD)("div",Tzt,[(0,s._)("section",Fzt,[(0,s._)("div",Ozt,[(0,s._)("div",null,[(0,s._)("div",Vzt,[Izt,(0,s._)("span",jzt,(0,at.zw)(o.totalOrders)+" order",1)]),Rzt]),Mzt]),(0,s.Wm)(i,{"search-by-field":o.searchByField,"onUpdate:search-by-field":e[0]||(e[0]=t=>o.searchByField=t),search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"active-statistics":"","per-page":o.per_page},null,8,["search-by-field","search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s._)("div",{class:(0,at.C_)([[o.selected.length>0?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s.kq)("",!0)],2),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items"])])])])}class Hzt{async statistics(t){return await A.getCookie(),q.post("api/v1/seller/statistics",t)}async paginate(t="/",e){return await A.getCookie(),q.post("api/v1/seller/orders"+t,e)}async update(t,e){return await A.getCookie(),q.post("api/v1/seller/orders/"+t+"/update",e)}async export(t={}){return await A.getCookie(),q.post("api/v1/seller/orders/export",t)}}var Yzt=new Hzt;const Zzt={class:"tw-flex tw-flex-col"},Kzt={class:"tw-overflow-x-auto"},Bzt={class:"tw-inline-block tw-min-w-full tw-align-middle"},Qzt={class:"tw-overflow-hidden tw-border tw-border-gray-200 darkx:tw-border-gray-700 md:tw-rounded-lg"},Jzt={class:"tw-min-w-full tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700"},Gzt={class:"tw-bg-gray-50 darkx:tw-bg-gray-800"},Xzt={scope:"col",class:"rtl:tw-text-right tw-px-2 tw-text-sm tw-font-medium tw-whitespace-nowrap tw-text-gray-500 darkx:tw-text-gray-400"},tUt={class:"tw-max-w-[25px]"},eUt={class:"tw-inline-flex tw-items-center"},rUt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},aUt=["checked"],sUt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),oUt=(0,s._)("th",{scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},[(0,s._)("span",null,"ID")],-1),lUt={scope:"col",class:"tw-py-3.5 tw-px-4 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"},iUt=(0,s._)("span",null,"Created",-1),nUt=(0,s._)("svg",{class:"tw-h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s._)("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),(0,s._)("path",{d:"M8.45558 7.25664V7.40664H8.60558H9.66065C9.72481 7.40664 9.74667 7.42274 9.75141 7.42691C9.75148 7.42808 9.75146 7.42993 9.75116 7.43262C9.75001 7.44265 9.74458 7.46304 9.72525 7.49314C9.72522 7.4932 9.72518 7.49326 9.72514 7.49332L7.86959 10.3529L7.86924 10.3534C7.83227 10.4109 7.79863 10.418 7.78568 10.418C7.77272 10.418 7.73908 10.4109 7.70211 10.3534L7.70177 10.3529L5.84621 7.49332C5.84617 7.49325 5.84612 7.49318 5.84608 7.49311C5.82677 7.46302 5.82135 7.44264 5.8202 7.43262C5.81989 7.42993 5.81987 7.42808 5.81994 7.42691C5.82469 7.42274 5.84655 7.40664 5.91071 7.40664H6.96578H7.11578V7.25664V0.633865C7.11578 0.42434 7.29014 0.249976 7.49967 0.249976H8.07169C8.28121 0.249976 8.45558 0.42434 8.45558 0.633865V7.25664Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.3"})],-1),dUt=[iUt,nUt],wUt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Client ",-1),cUt=(0,s._)("th",{scope:"col",class:"tw-px-6 !tw-w-5 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Phone ",-1),uUt=(0,s._)("th",{scope:"col",class:"tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Product ",-1),pUt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Confirmation ",-1),mUt=(0,s._)("th",{scope:"col",class:"tw-w-10 tw-px-6 tw-py-3.5 tw-text-sm tw-font-normal tw-text-left rtl:tw-text-right tw-text-gray-500 darkx:tw-text-gray-400"}," Delivery ",-1),gUt=(0,s._)("th",{scope:"col",class:"tw-relative tw-py-3.5 tw-px-4"},[(0,s._)("span",{class:"tw-sr-only"},"Actions")],-1),hUt={key:0,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},fUt={key:1,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},yUt=(0,s._)("tr",null,[(0,s._)("td",{colspan:"8"},[(0,s._)("div",{class:"tw-p-5 tw-text-center tw-text-gray-600 tw-font-medium"}," No Order was found ! ")])],-1),xUt=[yUt],bUt={key:2,class:"tw-bg-white tw-divide-y tw-divide-gray-200 darkx:tw-divide-gray-700 darkx:tw-bg-gray-900"},vUt={colspan:"9"},_Ut={role:"status",class:"tw-w-full tw-p-4 tw-space-y-4 tw-border-gray-200 tw-divide-y tw-divide-gray-200 tw-rounded tw-shadow tw-animate-pulse dark:tw-divide-gray-300 md:tw-p-6 dark:tw-border-gray-300"},kUt=(0,s._)("div",{class:"tw-flex tw-items-center tw-justify-between"},[(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})]),(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-300 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"})],-1),CUt=(0,s._)("div",null,[(0,s._)("div",{class:"tw-w-32 tw-h-2 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200"})],-1),DUt=(0,s._)("div",{class:"tw-h-2.5 tw-bg-gray-200 tw-rounded-full dark:tw-bg-gray-200 tw-w-12"},null,-1),SUt=[CUt,DUt],zUt={class:"tw-mt-6"};function UUt(t,e,r,a,o,l){const i=(0,s.up)("TableRow"),n=((0,s.up)("loading"),(0,s.up)("TablePaginationNoNums"));return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Zzt,[(0,s._)("div",Kzt,[(0,s._)("div",Bzt,[(0,s._)("div",Qzt,[(0,s._)("table",Jzt,[(0,s._)("thead",Gzt,[(0,s._)("tr",null,[(0,s._)("th",Xzt,[(0,s._)("div",tUt,[(0,s._)("div",eUt,[(0,s._)("label",rUt,[(0,s._)("input",{type:"checkbox",checked:o.isAllSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelectedAllChange&&l.handleSelectedAllChange(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-all"},null,40,aUt),sUt])])])]),oUt,(0,s._)("th",lUt,[(0,s._)("button",{onClick:e[1]||(e[1]=e=>t.$emit("sortOrder",{name:"created_at"})),class:"tw-flex tw-items-center tw-gap-x-3 focus:tw-outline-none"},dUt)]),wUt,cUt,uUt,pUt,mUt,gUt])]),!r.loading&&r.items.length>0?((0,s.wg)(),(0,s.iD)("tbody",hUt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(r=>((0,s.wg)(),(0,s.j4)(i,{selected:l.selectedOrders,"onUpdate:selected":e[2]||(e[2]=t=>l.selectedOrders=t),onUpdate:e[3]||(e[3]=e=>t.$emit("update",e)),key:r.id,item:r},null,8,["selected","item"])))),128))])):(0,s.kq)("",!0),r.loading||0!=r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("tbody",fUt,xUt)),r.loading?((0,s.wg)(),(0,s.iD)("tbody",bUt,[(0,s._)("tr",null,[(0,s.kq)("",!0),(0,s._)("td",vUt,[(0,s._)("div",_Ut,[kUt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.perPage-1,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"tw-flex tw-items-center tw-justify-between tw-pt-4"},SUt)))),128))])])])])):(0,s.kq)("",!0)])])])])]),(0,s._)("div",zUt,[(0,s.Wm)(n,{from:r.from,to:r.to,"last-page":r.lastPage,"per-page":r.perPage,total:r.total,"current-page":r.currentPage,onPageChange:e[4]||(e[4]=e=>t.$emit("pageChange",e))},null,8,["from","to","last-page","per-page","total","current-page"])])])}const PUt={class:"sm:tw-flex sm:tw-items-center sm:tw-justify-between"},LUt={class:"tw-text-sm tw-text-gray-500 darkx:tw-text-gray-400"},qUt={class:"tw-font-medium tw-text-gray-700 darkx:tw-text-gray-100"},$Ut={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-4 sm:tw-mt-0"},AUt=["disabled"],WUt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),EUt=(0,s._)("span",null," previous ",-1),TUt=[WUt,EUt],FUt=["disabled"],OUt=(0,s._)("span",null," Next ",-1),VUt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5 rtl:tw--scale-x-100"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"})],-1),IUt=[OUt,VUt];function jUt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",PUt,[(0,s._)("div",LUt,[(0,s.Uk)(" Page "),(0,s._)("span",qUt,(0,at.zw)(r.currentPage)+" of "+(0,at.zw)(r.lastPage),1)]),(0,s._)("div",$Ut,[(0,s._)("button",{disabled:r.currentPage<=1,onClick:e[0]||(e[0]=t=>l.changePage(r.currentPage-1)),class:(0,at.C_)([[r.currentPage<=1&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},TUt,10,AUt),(0,s._)("button",{disabled:r.currentPage>=l.totalPages,onClick:e[1]||(e[1]=t=>l.changePage(r.currentPage+1)),class:(0,at.C_)([[r.currentPage>=l.totalPages&&"tw-cursor-not-allowed"],"tw-flex tw-items-center tw-justify-center tw-w-1/2 tw-px-5 tw-py-2 tw-text-sm tw-text-gray-700 tw-capitalize tw-transition-colors tw-duration-200 tw-bg-white tw-border tw-border-solid tw-rounded-md sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-100 darkx:tw-bg-gray-900 darkx:tw-text-gray-200 darkx:tw-border-gray-700 darkx:hover:tw-bg-gray-800"])},IUt,10,FUt)])])])}var RUt={props:{from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:1},total:{type:Number,default:1},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1}},data(){return{totalItems:100,itemsPerPage:5}},computed:{totalPages(){return this.lastPage},showEllipsisStart(){return this.currentPage>3},showEllipsisEnd(){return this.currentPage<this.totalPages-2},visiblePages(){let t=Math.max(1,this.currentPage-1),e=Math.min(this.totalPages,this.currentPage+1);const r=[];for(let a=t;a<=e;a++)r.push(a);return r}},methods:{changePage(t){this.$emit("pageChange",t)}}};const MUt=(0,p.Z)(RUt,[["render",jUt]]);var NUt=MUt;const HUt={class:"tw-p-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},YUt={class:"tw-max-w-[25px]"},ZUt={class:"tw-inline-flex tw-items-center"},KUt={class:"tw-relative tw-flex tw-cursor-pointer tw-items-center tw-rounded-full tw-p-3",for:"checkbox","data-ripple-dark":"true"},BUt=["checked","id"],QUt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-top-2/4 tw-left-2/4 -tw-translate-y-2/4 -tw-translate-x-2/4 tw-text-white tw-opacity-0 tw-transition-opacity peer-checked:tw-opacity-100"},[(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"tw-h-3.5 tw-w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor","stroke-width":"1"},[(0,s._)("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1),JUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},GUt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white"},XUt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},tPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-flex tw-items-center tw-gap-2"},ePt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},rPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},aPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},sPt={class:"tw-font-medium tw-text-gray-800 darkx:tw-text-white tw-font-[cairo]"},oPt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},lPt={class:"tw-space-y-1"},iPt={class:"tw-font-bold tw-text-green-500"},nPt={class:"tw-block tw-max-w-[150px] tw-truncate"},dPt={key:0,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},wPt={key:1,class:"tw-font-bold tw-text-orange-500 tw-bg-orange-100 tw-rounded-lg tw-px-2 tw-text-sm"},cPt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},uPt={class:"tw-px-12 tw-py-2 tw-text-sm tw-font-medium tw-whitespace-nowrap"},pPt={class:"tw-px-4 tw-py-2 tw-text-sm tw-whitespace-nowrap"};function mPt(t,e,r,a,o,l){const i=(0,s.up)("TableActions");return(0,s.wg)(),(0,s.iD)("tr",null,[(0,s._)("td",HUt,[(0,s._)("div",YUt,[(0,s._)("div",ZUt,[(0,s._)("label",KUt,[(0,s._)("input",{type:"checkbox",checked:l.isSelected,onChange:e[0]||(e[0]=(...t)=>l.handleSelected&&l.handleSelected(...t)),class:"before:tw-content[''] tw-border-solid tw-bg-white tw-peer tw-relative tw-h-5 tw-w-5 tw-cursor-pointer tw-appearance-none tw-rounded-md tw-border tw-border-blue-gray-200 tw-transition-all before:tw-absolute before:tw-top-2/4 before:tw-left-2/4 before:tw-block before:tw-h-12 before:tw-w-12 before:-tw-translate-y-2/4 before:-tw-translate-x-2/4 before:tw-rounded-full before:bg-blue-gray-500 before:tw-opacity-0 before:tw-transition-opacity checked:tw-border-orange-500 checked:tw-bg-orange-500 checked:before:tw-bg-orange-500 hover:before:tw-opacity-10",id:"checkbox-"+r.item.id},null,40,BUt),QUt])])])]),(0,s._)("td",JUt,[(0,s._)("div",null,[(0,s._)("h2",GUt,(0,at.zw)(r.item.id),1)])]),(0,s._)("td",XUt,[(0,s._)("div",null,[(0,s._)("h2",tPt,[(0,s._)("p",null,(0,at.zw)(o.moment(r.item.created_at).format("DD[/]MM[/]YY")),1),(0,s.kq)("",!0)])])]),(0,s._)("td",ePt,[(0,s._)("div",null,[(0,s._)("h2",rPt,(0,at.zw)(r.item.fullname),1)])]),(0,s._)("td",aPt,[(0,s._)("div",null,[(0,s._)("h2",sPt,(0,at.zw)(r.item.phone),1)])]),(0,s._)("td",oPt,[(0,s._)("div",null,[(0,s._)("ul",lPt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.item.items,(t=>((0,s.wg)(),(0,s.iD)("li",{dir:"rtl",class:"tw-font-[cairo] tw-flex tw-items-center tw-gap-1",key:t.id},[(0,s._)("span",iPt,(0,at.zw)(t.quantity)+" x ",1),(0,s.Uk)(),(0,s._)("span",nPt,(0,at.zw)(t.product.name),1),(0,s.Uk)(),t.product_variation.color&&!["/","-"].includes(t.product_variation.color)?((0,s.wg)(),(0,s.iD)("span",dPt,(0,at.zw)(t.product_variation.color),1)):(0,s.kq)("",!0),(0,s.Uk)(),t.product_variation.size&&!["/","-"].includes(t.product_variation.size)?((0,s.wg)(),(0,s.iD)("span",wPt,(0,at.zw)(t.product_variation.size),1)):(0,s.kq)("",!0)])))),128))])])]),(0,s._)("td",cPt,[(0,s._)("span",{class:(0,at.C_)([[l.confirmation.bgLight,l.confirmation.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.confirmation.name),3)]),(0,s._)("td",uPt,[(0,s._)("span",{class:(0,at.C_)([[l.deliveryState.bgLight,l.deliveryState.textLight],"tw-text-xs tw-font-medium tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"])},(0,at.zw)(l.deliveryState.value?l.deliveryState.name:"Not Selected"),3)]),(0,s._)("td",pPt,[(0,s._)("div",null,[(0,s.Wm)(i,{onUpdate:e[1]||(e[1]=e=>t.$emit("update",e)),item:r.item},null,8,["item"])])])])}const gPt={class:"tw-h-full"},hPt={class:"tw-flex tw-items-center tw-gap-2"},fPt={key:0},yPt={key:1};function xPt(t,e,r,a,o,l){const i=(0,s.up)("UpdatePopup"),n=(0,s.up)("HistoryPopup");return(0,s.wg)(),(0,s.iD)("div",gPt,[(0,s._)("div",hPt,[(0,s.kq)("",!0),(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.update=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-text-orange-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-pencil-outline")])),_:1})]),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.history=!0),class:"tw-px-2 tw-py-1 tw-w-[25px] tw-h-[25px] tw-border tw-border-solid tw-border-purple-500/20 hover:tw-bg-purple-500/10 hover:tw-border-purple-500/70 tw-duration-300 tw-text-purple-500/80 tw-rounded-md tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"x-small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-sort-clock-descending")])),_:1})])]),o.update?((0,s.wg)(),(0,s.iD)("div",fPt,[(0,s.Wm)(i,{onUpdate:e[2]||(e[2]=e=>t.$emit("update",e)),visible:o.update,"onUpdate:visible":e[3]||(e[3]=t=>o.update=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0),o.history?((0,s.wg)(),(0,s.iD)("div",yPt,[(0,s.Wm)(n,{visible:o.history,"onUpdate:visible":e[4]||(e[4]=t=>o.history=t),item:r.item},null,8,["visible","item"])])):(0,s.kq)("",!0)])}const bPt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},vPt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order Informations ",-1),_Pt={class:"tw-bg-white tw-p-4"},kPt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},CPt={class:"tw-col-span-2 md:tw-col-span-1"},DPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Client Name",-1),SPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},zPt={class:"tw-col-span-2 md:tw-col-span-1"},UPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Phone Number",-1),PPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},LPt={class:"tw-col-span-2 md:tw-col-span-1"},qPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"City",-1),$Pt={class:"tw-relative"},APt=(0,s._)("option",{value:null,disabled:""},"Choose a City",-1),WPt=["value"],EPt=["value"],TPt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),FPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},OPt={class:"tw-col-span-2 md:tw-col-span-1"},VPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Address",-1),IPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},jPt={key:3,class:"tw-col-span-2"},RPt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900 dark:tw-text-white"},"Note",-1),MPt={key:0,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},NPt={class:"tw-col-span-2"},HPt={class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},YPt={key:0,class:"tw-text-red-400 tw-text-xs"},ZPt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},KPt=["disabled"],BPt=(0,s._)("span",null,"Update",-1);function QPt(t,e,r,o,l,i){(0,s.up)("OrderAffectation");const n=(0,s.up)("OrderItems"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!1,onCancel:i.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",bPt,[vPt,(0,s._)("div",_Pt,[(0,s._)("div",kPt,[(0,s._)("div",CPt,[DPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.itemCopy.fullname=t),onInput:e[1]||(e[1]=t=>l.errors.fullname=null),type:"text",class:(0,at.C_)([[l.errors.fullname&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),placeholder:"John",required:""},null,34),[[a.nr,l.itemCopy.fullname]]),l.errors.fullname?((0,s.wg)(),(0,s.iD)("label",SPt,(0,at.zw)(l.errors.fullname),1)):(0,s.kq)("",!0)]),(0,s._)("div",zPt,[UPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.itemCopy.phone=t),onInput:e[3]||(e[3]=t=>l.errors.phone=null),class:(0,at.C_)([[l.errors.phone&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"123-45-678",required:""},null,34),[[a.nr,l.itemCopy.phone]]),l.errors.phone?((0,s.wg)(),(0,s.iD)("label",PPt,(0,at.zw)(l.errors.phone),1)):(0,s.kq)("",!0)]),(0,s._)("div",LPt,[qPt,(0,s._)("div",$Pt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.itemCopy.city=t),onChange:e[5]||(e[5]=t=>l.errors.city=null),class:(0,at.C_)([[l.errors.city&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[APt,(0,s._)("option",{value:l.itemCopy.city,disabled:""},(0,at.zw)(l.itemCopy.city),9,WPt),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.cities,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.name,key:t.id},(0,at.zw)(t.name),9,EPt)))),128))],34),[[a.bM,l.itemCopy.city]]),TPt]),l.errors.city?((0,s.wg)(),(0,s.iD)("label",FPt,(0,at.zw)(l.errors.city),1)):(0,s.kq)("",!0)]),(0,s._)("div",OPt,[VPt,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.itemCopy.adresse=t),onInput:e[7]||(e[7]=t=>l.errors.adresse=null),class:(0,at.C_)([[l.errors.adresse&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),type:"text",placeholder:"Address",required:""},null,34),[[a.nr,l.itemCopy.adresse]]),l.errors.adresse?((0,s.wg)(),(0,s.iD)("label",IPt,(0,at.zw)(l.errors.adresse),1)):(0,s.kq)("",!0)]),(0,s.kq)("",!0),(l.itemCopy.confirmation,(0,s.kq)("",!0)),(l.itemCopy.confirmation,(0,s.kq)("",!0)),["change","refund"].includes(l.itemCopy.confirmation)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",jPt,[RPt,(0,s.wy)((0,s._)("textarea",{readonly:"","onUpdate:modelValue":e[13]||(e[13]=t=>l.itemCopy.note=t),onInput:e[14]||(e[14]=t=>l.errors.note=null),class:(0,at.C_)([[l.errors.note&&"!tw-border-red-400"],"tw-bg-gray-50 tw-border tw-border-solid focus:tw-outline-none tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"]),rows:"3",placeholder:"Enter a note"},null,34),[[a.nr,l.itemCopy.note]]),l.errors.note?((0,s.wg)(),(0,s.iD)("label",MPt,(0,at.zw)(l.errors.note),1)):(0,s.kq)("",!0)])),(0,s.kq)("",!0),(0,s.kq)("",!0),(0,s._)("div",NPt,[(0,s._)("label",HPt,[(0,s.Uk)("Order Items "),l.errors.items?((0,s.wg)(),(0,s.iD)("span",YPt," # "+(0,at.zw)(l.errors.items),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s.Wm)(n,{order:l.itemCopy,error:l.errors.items,products:l.products,"products-fetched":l.products_fetched,items:l.itemCopy.items,"onUpdate:items":e[18]||(e[18]=t=>l.itemCopy.items=t)},null,8,["order","error","products","products-fetched","items"])])])])]),(0,s._)("div",ZPt,[(0,s._)("button",{onClick:e[19]||(e[19]=(...t)=>i.cancel&&i.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[20]||(e[20]=(...t)=>i.handleUpdate&&i.handleUpdate(...t)),disabled:l.isLoading,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[l.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),BPt],8,KPt)])])])),_:1},8,["visible","onCancel"])])}const JPt=(t,e)=>e.fullname?e.phone?e.adresse?e.note||"annuler"!=e.confirmation?e.affectation&&"confirmer"!=e.confirmation?(t.errors.affectation="Cannot update affectation: Order not confirmed.",!1):!!GPt(t,e.items):(t.errors.note="Add Cancelation note !",!1):(t.errors.adresse="Address is required",!1):(t.errors.phone="Phone Number is required",!1):(t.errors.fullname="Client Name is required",!1),GPt=(t,e)=>{if(!e.length)return t.errors.items="You should add one order item at least.",!1;let r=!0;return e.forEach((e=>0==e.product_id?(t.errors.items="Product is required for order item",r=!1,!1):0==e.product_variation_id?(t.errors.items="Select a product variation",r=!1,!1):0==e.quantity?(t.errors.items="Items quantity cannot be 0",r=!1,!1):void 0)),r},XPt=(t,e)=>{t.$alert({title:"Updated Successfully",type:"success"});const r=e.data.order;t.$emit("update",r),t.isLoading=!1,t.cancel(),t.errors={}},tLt=(t,e)=>{t.$alert({title:e.message,type:"error"}),"VALIDATION_ERROR"==e.code&&(t.errors=e.errors),t.isLoading=!1},eLt=(t,e)=>{t.isLoading=!0,t.errors={},ei.update(e.id,e).then((e=>XPt(t,e.data))).catch((e=>tLt(t,e.response.data))).finally((()=>t.isLoading=!1))},rLt={key:0,class:"tw-col-span-12 tw-rounded-lg tw-text-center tw-p-5 tw-text-gray-700 tw-bg-gray-50"},aLt={key:1,class:"md:tw-col-span-12 tw-col-span-12"},sLt={class:"tw-max-w-full tw-overflow-auto"},oLt={class:"tw-text-xs tw-text-gray-700 tw-uppercase !tw-rounded-t-lg tw-border tw-border-solid"},lLt={class:"tw-bg-gray-50"},iLt={class:"tw-w-fit tw-flex tw-whitespace-nowrap tw-capitalize"},nLt={key:0},dLt=(0,s._)("td",{colspan:"3"},null,-1),wLt=(0,s._)("td",null,[(0,s._)("div",{class:"tw-p-2"},[(0,s._)("p",null,"Total: ")])],-1),cLt={colspan:"2",class:"tw-p-2"},uLt={class:"tw-p-2 tw-py-1 tw-text-sm tw-text-green-500 tw-w-24 tw-font-medium tw-block focus:tw-outline-none tw-shadow-sm tw-border-gray-300 tw-rounded tw-bg-gray-50 focus:tw-ring-orange-500 focus:tw-border-orange-500 dark:tw-bg-gray-700 dark:tw-border-gray-600 dark:tw-placeholder-gray-400 dark:tw-text-white dark:focus:tw-ring-orange-500 dark:focus:tw-border-orange-500"},pLt={colspan:"6"},mLt={class:"tw-flex tw-justify-end tw-items-center tw-py-3"},gLt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),hLt=(0,s._)("span",null,"Add Item",-1),fLt=[gLt,hLt],yLt={key:1},xLt={colspan:"6"},bLt={class:"tw-scale-75 tw-p-5"};function vLt(t,e,r,a,o,l){const i=(0,s.up)("ItemRow"),n=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[r.items.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",rLt," No Order items ")),r.items.length?((0,s.wg)(),(0,s.iD)("div",aLt,[(0,s._)("div",sLt,[((0,s.wg)(),(0,s.iD)("table",{key:r.items.length,class:"tw-w-full tw-text-sm tw-text-left tw-text-gray-500"},[(0,s._)("thead",oLt,[(0,s._)("tr",lLt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(["product","","variation","quantity","price","actions"],(t=>(0,s._)("th",{class:(0,at.C_)([["actions"==t&&"!tw-w-[40px]"],"tw-px-6 tw-py-3 text-truncate"]),key:t,scope:"col"},[(0,s._)("div",iLt,(0,at.zw)(t),1)],2))),64))])]),r.productsFetched?((0,s.wg)(),(0,s.iD)("tbody",nLt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.items,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,item:t,products:r.products,onDelete:l.deleteItem,onUpdate:l.updateItem},null,8,["item","products","onDelete","onUpdate"])))),128)),(0,s._)("tr",null,[dLt,wLt,(0,s._)("td",cLt,[(0,s._)("div",uLt,[(0,s._)("p",null,(0,at.zw)(o.currency)+" "+(0,at.zw)(l.price),1)])])]),(0,s._)("tr",null,[(0,s._)("td",pLt,[(0,s._)("div",mLt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.addItem&&l.addItem(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-400 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fLt)])])])])):((0,s.wg)(),(0,s.iD)("tbody",yLt,[(0,s._)("tr",null,[(0,s._)("td",xLt,[(0,s._)("div",bLt,[(0,s.Wm)(n)])])])]))]))])])):(0,s.kq)("",!0)])}var _Lt={components:{ItemRow:u5},props:{items:{required:!0,default:[]},error:{required:!1,default:null},products:{required:!0},productsFetched:{required:!0,default:!1},order:{required:!0}},data(){return{currency:c}},computed:{price(){return Go(this.order)}},methods:{updateItem(t){const e=this.items.map((e=>e.id==t.id?t:e));this.$emit("update:items",e)},deleteItem(t){const e=this.items.filter((e=>e.id!=t));this.$emit("update:items",e)},addItem(){const t=this.items.length>0?this.items[this.items.length-1]:1,e=t?t.id+1:1,r={id:e,quantity:0,price:0,product_variation_id:0,product_id:0},a=[...this.items,r];this.$emit("update:items",a)}},mounted(){}};const kLt=(0,p.Z)(_Lt,[["render",vLt]]);var CLt=kLt;const DLt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),SLt={key:0,class:"tw-relative"},zLt=["value","disabled"],ULt=(0,s._)("option",{value:""},"Choose a Delivery",-1),PLt=["value"],LLt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),qLt={key:1,class:"tw-block tw-mb-2 tw-text-xs tw-font-medium tw-text-red-400 dark:tw-text-white"},$Lt={key:2,class:"tw-relative"},ALt={class:"tw-absolute tw-scale-75 tw-left-1/2 tw-top-1/2 -tw-translate-x-1/2 -tw-translate-y-1/2 tw-z-10"},WLt=(0,s._)("select",{disabled:"",class:"tw-opacity-30 tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[(0,s._)("option",{value:null,selected:""},"Loading...")],-1),ELt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},null,-1);function TLt(t,e,r,a,o,l){const i=(0,s.up)("loading");return(0,s.wg)(),(0,s.iD)("div",null,[DLt,o.fetched?((0,s.wg)(),(0,s.iD)("div",SLt,[(0,s._)("select",{value:r.affectation,onChange:e[0]||(e[0]=(...t)=>l.handleChange&&l.handleChange(...t)),disabled:"confirmer"!=r.item.confirmation,class:(0,at.C_)([[r.error&&"!tw-border-red-400","confirmer"!=r.item.confirmation&&"tw-cursor-not-allowed"],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"])},[ULt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.availableDeliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,PLt)))),128))],42,zLt),LLt])):(0,s.kq)("",!0),o.fetched&&r.error?((0,s.wg)(),(0,s.iD)("label",qLt,(0,at.zw)(r.error),1)):(0,s.kq)("",!0),o.fetched?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",$Lt,[(0,s._)("div",ALt,[(0,s.Wm)(i)]),WLt,ELt]))])}var FLt={props:{affectation:{required:!0},error:{required:!1,default:null},item:{required:!0}},data(){return{deliveries:[],fetched:!1}},computed:{availableDeliveries(){return this.deliveries.filter((t=>t.has.some((t=>this.item.items.some((e=>e.product_id==t))))))},delivery(){return this.deliveries.find((t=>t.id==this.affectation))}},watch:{"item.confirmation":{deep:!0,handler(){}},"item.items":{deep:!0,handler(){if(!this.affectation)return!1;this.delivery.has.some((t=>this.item.items.some((e=>e.product_id==t))))||this.$emit("update:affectation",null)}}},methods:{getDeliveries(){this.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries=t.data.data.deliveries,this.fetched=!0)})).catch(this.$handleApiError)},handleChange(t){this.$emit("update:affectation",t.target.value),this.$emit("update:error",null)}},mounted(){this.getDeliveries()}};const OLt=(0,p.Z)(FLt,[["render",TLt]]);var VLt=OLt,ILt={components:{OrderItems:CLt,OrderAffectation:VLt},props:{visible:{required:!0},item:{required:!0}},data(){return{confirmations:Xn,upsells:rd,isLoading:!1,products_fetched:null,products:null,itemCopy:null,errors:{fullname:null,phone:null,city:null,adresse:null,note:null,reported_agente_date:null,affectation:null,items:null}}},computed:{cities(){return this.$store.getters["city/cities"]}},methods:{handleUpdate(){const t=JPt(this,this.itemCopy);if(!t)return!1;this.itemCopy.note=this.item.note,eLt(this,this.itemCopy)},cancel(){if(this.isLoading)return!1;this.$emit("update:visible",!1)},getProducts(){this.products_fetched=!1,la.allForOrder(this.itemCopy.user_id).then((t=>{"SUCCESS"==t.data.code?this.products=t.data.data.products:this.products=[],this.products_fetched=!0})).catch(this.$handleApiError)}},mounted(){this.itemCopy=JSON.parse(JSON.stringify(this.item)),this.getProducts()}};const jLt=(0,p.Z)(ILt,[["render",QPt]]);var RLt=jLt;const MLt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},NLt=(0,s._)("div",{class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"}," Order History ",-1),HLt={class:"tw-bg-white tw-p-4"},YLt={key:0},ZLt={key:1,class:"tw-p-5"},KLt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},BLt={class:"tw-flex tw-items-center tw-gap-2 tw-my-2"},QLt=(0,s._)("div",{class:"tw-text-sm tw-capitalize tw-text-gray-500 tw-flex tw-items-center tw-mt-2 tw-gap-2 tw-font-bold tw-font-['cairo']"},null,-1),JLt={class:"flex-shrink-0 tw-text-neutral-500 tw-flex tw-items-center tw-gap-2 tw-text-sm"},GLt={class:"d-flextw-flex-col justify-space-between flex-grow-1"},XLt={class:"tw-flex tw-flex-col tw-my-2"},tqt=(0,s._)("div",null,"New Order Created",-1),eqt={class:"flex-shrink-0 tw-flex tw-items-center tw-gap-2 tw-text-sm"},rqt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"};function aqt(t,e,r,a,o,l){const i=(0,s.up)("loading"),n=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(n,{visible:r.visible,closeable:!0,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",MLt,[NLt,(0,s._)("div",HLt,[o.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",YLt,[(0,s.Wm)(i)])),o.isLoaded?((0,s.wg)(),(0,s.iD)("div",ZLt,[(0,s.Wm)(Md.R,{density:"compact",side:"end"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.events,(t=>((0,s.wg)(),(0,s.j4)(Nd.N,{key:t.id,class:"mb-4","dot-color":l.eventColor(t.type),size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",KLt,[(0,s._)("div",BLt,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:l.eventColor(t.type),label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(t.type),1)])),_:2},1032,["color"]),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(lt.t,{key:0,size:"x-small",color:"grey"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-arrow-right")])),_:1})):(0,s.kq)("",!0),"responsibility"!=t.type?((0,s.wg)(),(0,s.j4)(Rd.v,{key:1,class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(!t.historique&&["delivery","confirmation"].includes(t.type)?"confirmation"==t.type?"New":"Select":t.historique),1)])),_:2},1024)):(0,s.kq)("",!0)]),QLt,(0,s._)("div",JLt,[(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(t.created_at?.split("T")[1].split(".")[0]),1)])])])),_:2},1032,["dot-color"])))),128)),(0,s.Wm)(Nd.N,{class:"mb-4","dot-color":"green",size:"x-small"},{default:(0,s.w5)((()=>[(0,s._)("div",GLt,[(0,s._)("div",XLt,[(0,s.Wm)(Rd.v,{class:"ms-0 tw-capitalize tw-w-fit",color:"green",label:"",size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Order Created ")])),_:1}),tqt]),(0,s._)("div",eqt,[(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[0]),1),(0,s._)("span",null,(0,at.zw)(r.item.created_at?.split("T")[1].split(".")[0]),1)])])])),_:1})])),_:1})])):(0,s.kq)("",!0)]),(0,s._)("div",rqt,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel ")])])])),_:1},8,["visible","onCancel"])])}var sqt={components:{},props:{visible:{required:!0},item:{required:!0}},data(){return{allEvents:[],isLoaded:!1}},computed:{events(){const t=[...this.allEvents].reverse();return t.filter((t=>"affectation"!==t.type&&"responsibility"!==t.type))}},methods:{cancel(){this.$emit("update:visible",!1)},getHistory(){this.isLoaded=!1,na.history(this.item.id).then((t=>{this.allEvents=t.data.data.orders}),this.$handleApiError).finally((()=>{this.isLoaded=!0}))},eventColor(t){let e={confirmation:"primary-color",delivery:"blue",upsell:"purple"};return["confirmation","delivery","upsell"].includes(t)?e[t]:"primary-color"}},mounted(){this.getHistory()}};const oqt=(0,p.Z)(sqt,[["render",aqt]]);var lqt=oqt,iqt={components:{UpdatePopup:RLt,HistoryPopup:lqt},props:{item:{required:!0}},data(){return{update:!1,history:!1,isLoading:!1}},methods:{handle(){}}};const nqt=(0,p.Z)(iqt,[["render",xPt]]);var dqt=nqt,wqt={components:{TableActions:dqt},props:{item:{required:!0},selected:{required:!0}},data(){return{moment:Qg()}},computed:{confirmation(){return Xn.find((t=>t.value==this.item.confirmation))},deliveryState(){return ad.find((t=>t.value==this.item.delivery))},isSelected(){return this.selected.includes(this.item.id)}},methods:{handleSelected(t){if(t.target.checked){const t=[...this.selected];return t.push(this.item.id),this.$emit("update:selected",t),!1}const e=this.selected.filter((t=>t!=this.item.id));this.$emit("update:selected",e)}}};const cqt=(0,p.Z)(wqt,[["render",mPt]]);var uqt=cqt,pqt={components:{TablePaginationNoNums:NUt,TableRow:uqt},props:{items:{default:[]},loading:{type:Boolean,default:!0},from:{type:Number,default:1},to:{type:Number,default:1},perPage:{type:Number,default:10},total:{type:Number,default:0},currentPage:{type:Number,default:1},lastPage:{type:Number,default:1},selected:{required:!0}},data(){return{isAllSelected:!1}},computed:{selectedOrders:{get(){return this.selected},set(t){this.$emit("update:selected",t)}}},watch:{selected(t){0==t.length&&(this.isAllSelected=!1)}},methods:{handleSelectedAllChange(t){t.target.checked?(this.$emit("update:selected",[...this.items.map((t=>t.id))]),this.isAllSelected=!0):(this.$emit("update:selected",[]),this.isAllSelected=!1)}}};const mqt=(0,p.Z)(pqt,[["render",UUt]]);var gqt=mqt;const hqt={class:"tw-mt-6 tw-mb-4 md:tw-flex md:tw-items-center md:tw-justify-between"},fqt={class:"tw-inline-flex tw-overflow-hidden tw-bg-white tw-border tw-divide-x tw-rounded-lg darkx:tw-bg-gray-900 rtl:tw-flex-row-reverse darkx:tw-border-gray-700 darkx:tw-divide-gray-700"},yqt=["disabled"],xqt=["disabled"],bqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M9 5a1 1 0 1 0 0 2a1 1 0 0 0 0-2zM6.17 5a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 0 1 0-2h1.17zM15 11a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-1.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h7.17zM9 17a1 1 0 1 0 0 2a1 1 0 0 0 0-2zm-2.83 0a3.001 3.001 0 0 1 5.66 0H19a1 1 0 1 1 0 2h-7.17a3.001 3.001 0 0 1-5.66 0H5a1 1 0 1 1 0-2h1.17z"})],-1),vqt=[bqt],_qt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M10 2c-.6 0-1 .4-1 1v18c0 .6.4 1 1 1s1-.4 1-1V3c0-.6-.4-1-1-1zM5 12c-.6 0-1 .4-1 1v8c0 .6.4 1 1 1s1-.4 1-1v-8c0-.6-.4-1-1-1zm10-4c-.6 0-1 .4-1 1v12c0 .6.4 1 1 1s1-.4 1-1V9c0-.6-.4-1-1-1zm5 8c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1s1-.4 1-1v-4c0-.6-.4-1-1-1z"})],-1),kqt=[_qt],Cqt=["disabled"],Dqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.75 10.75h-3m12.5-2c0 3-2.798 5.5-6.25 5.5c-3.75 0-6.25-3.5-6.25-3.5v3.5m9.5-9h3m-12.5 2c0-3 2.798-5.5 6.25-5.5c3.75 0 6.25 3.5 6.25 3.5v-3.5"})],-1),Sqt=[Dqt],zqt=["disabled"],Uqt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"m16.2 20.5l2.8-2.8V20h1v-4h-4v1h2.3l-2.8 2.8l.7.7ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v6.7q-.475-.225-.975-.388T19 11.075V5H5v14h6.05q.075.55.238 1.05t.387.95H5Zm0-3v1V5v6.075V11v7Zm2-1h4.075q.075-.525.238-1.025t.362-.975H7v2Zm0-4h6.1q.8-.75 1.787-1.25T17 11.075V11H7v2Zm0-4h10V7H7v2Zm11 14q-2.075 0-3.538-1.463T13 18q0-2.075 1.463-3.538T18 13q2.075 0 3.538 1.463T23 18q0 2.075-1.463 3.538T18 23Z"})],-1),Pqt=[Uqt],Lqt={class:"tw-relative"},qqt=["value"],$qt=(0,s.uE)('<option value="5">5</option><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="200">200</option>',6),Aqt=[$qt],Wqt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),Eqt={class:"tw-relative tw-flex tw-items-center tw-mt-4 md:tw-mt-0"},Tqt=["value"],Fqt=(0,s._)("option",{value:"all"},"All",-1),Oqt=(0,s._)("option",{value:"id"},"ID",-1),Vqt=[Fqt,Oqt],Iqt=["value"],jqt={class:"tw-overflow-hidden tw-col-span-1"},Rqt={class:"tw-overflow-hidden tw-col-span-1"},Mqt={class:"tw-overflow-hidden tw-col-span-1"};function Nqt(t,e,r,o,l,i){const n=(0,s.up)("FiltersWrapper"),d=(0,s.up)("IndexExport"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hqt,[(0,s._)("div",fqt,[(0,s._)("button",{class:(0,at.C_)([[l.showAll&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 hover:tw-bg-gray-100 sm:tw-text-sm darkx:tw-bg-gray-800 darkx:tw-text-gray-300"]),disabled:l.showAll,onClick:e[0]||(e[0]=t=>i.filterToday(!1))}," View all ",10,yqt),(0,s._)("button",{class:(0,at.C_)([[l.showToday&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:l.showToday,onClick:e[1]||(e[1]=t=>i.filterToday(!0))}," Today ",10,xqt),(0,s._)("button",{onClick:e[2]||(e[2]=t=>l.showFilters=!l.showFilters),class:(0,at.C_)([[l.showFilters&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},vqt,2),r.activeStatistics&&r.statistics?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:e[3]||(e[3]=t=>l.showStatistics=!l.showStatistics),class:(0,at.C_)([[l.showStatistics&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"])},kqt,2)):(0,s.kq)("",!0),(0,s._)("button",{onClick:e[4]||(e[4]=e=>t.$emit("fresh")),disabled:r.loading,class:"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Sqt,8,Cqt),(0,s._)("button",{onClick:e[5]||(e[5]=t=>l.showExport=!l.showExport),class:(0,at.C_)([[l.showExport&&"!tw-bg-gray-100"],"tw-px-5 tw-py-2 tw-text-xs tw-font-medium tw-border-solid tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"]),disabled:r.loading},Pqt,10,zqt),(0,s._)("div",Lqt,[(0,s._)("select",{onChange:e[6]||(e[6]=(...t)=>i.handlePerPageChange&&i.handlePerPageChange(...t)),value:r.perPage,class:"tw-h-full tw-px-5 tw-py-2 tw-w-20 focus:tw-outline-none tw-text-xs tw-font-medium tw-text-gray-600 tw-transition-colors tw-duration-200 sm:tw-text-sm darkx:hover:tw-bg-gray-800 darkx:tw-text-gray-300 hover:tw-bg-gray-100"},Aqt,40,qqt),Wqt])]),(0,s._)("div",Eqt,[(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update:search-by-field",e.target.value)),value:r.searchByField,class:"tw-block !tw-w-fit tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-rounded-r-none tw-rounded-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},Vqt,40,Tqt),(0,s._)("input",{type:"text",placeholder:"Search",value:r.search,onInput:e[8]||(e[8]=e=>t.$emit("update:search",e.target.value)),onKeyup:e[9]||(e[9]=(0,a.D2)((e=>t.$emit("filter")),["enter"])),class:"tw-block tw-w-full tw-py-1.5 tw-pl-5 tw-text-gray-700 tw-bg-white tw-border tw-border-solid tw-border-gray-200 tw-border-l-0 tw-rounded-r-lg md:tw-w-80 placeholder-gray-400/70 tw-pr-11 rtl:tw-pr-11 rtl:tw-pl-5 darkx:tw-bg-gray-900 darkx:tw-text-gray-300 darkx:tw-border-gray-600 focus:tw-border-orange-400 darkx:focus:tw-border-orange-300 focus:tw-ring-orange-300 focus:tw-outline-none focus:tw-ring focus:tw-ring-opacity-40"},null,40,Iqt),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-absolute tw-right-0 tw-px-2 tw-py-1 tw-w-[38px] tw-h-[36px] tw-border-solid tw-rounded-r-lg tw-border-l tw-text-orange-500/80 tw-border-orange-500/20 hover:tw-bg-orange-500/10 hover:tw-border-orange-500/70 tw-duration-300 tw-flex tw-items-center tw-justify-center"},[(0,s.Wm)(lt.t,{size:"small"},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-magnify")])),_:1})])])]),(0,s._)("div",{class:(0,at.C_)([[l.showFilters?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",jqt,[(0,s.Wm)(n,{onClear:e[11]||(e[11]=e=>t.$emit("clear")),onFilter:e[12]||(e[12]=e=>t.$emit("filter")),filters:r.filters,onUpdate:e[13]||(e[13]=e=>t.$emit("update:filters",e))},null,8,["filters"])])],2),(0,s._)("div",{class:(0,at.C_)([[l.showExport?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Rqt,[(0,s.Wm)(d,{filters:r.filters},null,8,["filters"])])],2),r.statistics?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,at.C_)([[l.showStatistics?"tw-grid-rows-[1fr]":"tw-grid-rows-[0fr]"],"tw-grid tw-duration-300 tw-transition-all"])},[(0,s._)("div",Mqt,[(0,s.Wm)(w,{statistics:r.statistics},null,8,["statistics"])])],2)):(0,s.kq)("",!0)])}const Hqt={class:"tw-mb-4"},Yqt={class:"tw-grid tw-grid-cols-12 tw-gap-4"},Zqt={class:"tw-h-full tw-w-full tw-p-3 tw-rounded tw-space-y-2 tw-border tw-border-solid"},Kqt={class:"tw-flex tw-items-center tw-justify-between"},Bqt={class:"tw-text-xl tw-font-bold tw-text-gray-900"},Qqt={class:"tw-px-2 tw-py-1 tw-font-medium tw-text-sm tw-rounded tw-bg-white tw-text-gray-900"};function Jqt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",Hqt,[(0,s._)("div",Yqt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.visible,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"md:tw-col-span-3 tw-col-span-12"},[(0,s._)("div",Zqt,[(0,s._)("p",{class:(0,at.C_)(["tw-text-sm tw-font-bold tw-w-fit tw-h-fit tw-px-2 tw-rounded",[l.getConfirmation(t.confirmation).textLight,l.getConfirmation(t.confirmation).bgLight]])},(0,at.zw)(t.name),3),(0,s._)("div",Kqt,[(0,s._)("span",Bqt,(0,at.zw)(t.total),1),(0,s._)("span",Qqt,(0,at.zw)(t.percent)+"%",1)])])])))),128))])])}var Gqt={props:{statistics:{required:!0}},computed:{visible(){return this.statistics.show.includes("*")?this.statistics.data:this.statistics.data.filter((t=>this.statistics.show.includes(t.followup_confirmation)))}},methods:{getConfirmation(t){return Xn.find((e=>e.value==t))}}};const Xqt=(0,p.Z)(Gqt,[["render",Jqt]]);var t$t=Xqt;const e$t={class:"tw-mb-4"},r$t={class:"tw-flex tw-items-center tw-gap-2"},a$t=["disabled"],s$t=(0,s._)("span",null,"Select Filtered",-1),o$t={class:"tw-flex tw-justify-end"},l$t=["disabled"];function i$t(t,e,r,a,o,l){const i=(0,s.up)("download-csv");return(0,s.wg)(),(0,s.iD)("div",e$t,[(0,s._)("div",r$t,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>l.handleExportFiltered&&l.handleExportFiltered(...t)),disabled:o.isLoadingFiltered,class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoadingFiltered&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),s$t],8,a$t)]),(0,s._)("div",o$t,[(0,s._)("button",{disabled:o.readyToDownload,class:(0,at.C_)([[!o.readyToDownload&&"!tw-bg-gray-200 !tw-cursor-not-allowed hover:tw-bg-gray-200 !tw-text-gray-600"],"tw-py-2 tw-px-7 tw-flex tw-items-center tw-cursor-pointer tw-rounded tw-text-sm tw-bg-emerald-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-emerald-600 dark:tw-border-neutral-900 dark:hover:tw-border-emerald-500 hover:tw-bg-emerald-500/80 dark:hover:tw-bg-emerald-400 tw-duration-300 tw-text-white"])},[(0,s.Wm)(i,{delimiter:";",data:o.toImport},{default:(0,s.w5)((()=>[(0,s.Uk)(" Download ")])),_:1},8,["data"])],10,l$t)])])}var n$t={props:{filters:{required:!0}},data(){return{isLoadingFiltered:!1,isLoading:!1,toImport:[],readyToDownload:!1}},watch:{filters:{deep:!0,handler(){this.readyToDownload=!1}}},methods:{handleExportFiltered(){this.isLoadingFiltered=!0,this.readyToDownload=!1,Yzt["export"]({filters:this.filters}).then((t=>{if("SUCCESS"==t.data.code){const e=t.data.data.orders;this.importOrders(e),this.readyToDownload=!0}})).catch(this.$handleApiError).finally((()=>{this.isLoadingFiltered=!1}))},importOrders(t){const e=t.map((t=>{const e=Object.keys(t);return e.forEach((e=>{t[e]=t[e]?t[e]:"NONE"})),t})),r=",",a=e.map((t=>(delete t["factorisation_id"],delete t["note_d"],delete t["cmd"],delete t["product_name"],delete t["is_done"],delete t["factorisation"],delete t["doubles"],delete t["is_double"],delete t["has_doubles"],delete t["double"],{...t,products:t.items.map((t=>`id=${t.id}${r}price=${t.price?t.price:0}${r}name=${t.product?.name}${r}ref=${t.product?.ref}${r}variation_id=${t.product_variation_id}${r}size=${t.product_variation.size?t.product_variation.size:"DEFAULT"}${r}color=${t.product_variation.color?t.product_variation.color:"DEFAULT"}${r}`))})));this.toImport=a.map((t=>(delete t["items"],t)))}}};const d$t=(0,p.Z)(n$t,[["render",i$t]]);var w$t=d$t;const c$t={class:"tw-mb-4"},u$t={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},p$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},m$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created From",-1),g$t=["value"],h$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},f$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Created To",-1),y$t=["value"],x$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},b$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped From",-1),v$t=["value"],_$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},k$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Dropped To",-1),C$t=["value"],D$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},S$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),z$t=["value"],U$t=(0,s._)("option",{value:"all",selected:""},"All",-1),P$t=["value"],L$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},q$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),$$t=["value"],A$t=(0,s._)("option",{value:"all",selected:""},"All",-1),W$t=["value"],E$t={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},T$t=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),F$t=["value"],O$t=(0,s._)("option",{value:"all",selected:""},"All",-1),V$t=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),I$t=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),j$t=[O$t,V$t,I$t],R$t={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},M$t=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),N$t=(0,s._)("span",null,"Clear",-1),H$t=[M$t,N$t],Y$t=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),Z$t=(0,s._)("span",null,"Filter",-1),K$t=[Y$t,Z$t];function B$t(t,e,r,a,o,l){(0,s.up)("DateFilter");const i=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",c$t,[(0,s._)("div",u$t,[(0,s.kq)("",!0),(0,s._)("div",p$t,[m$t,(0,s._)("input",{value:r.filters.created_from,type:"date",onChange:e[1]||(e[1]=e=>t.$emit("update",{...r.filters,created_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,g$t)]),(0,s._)("div",h$t,[f$t,(0,s._)("input",{value:r.filters.created_to,type:"date",onChange:e[2]||(e[2]=e=>t.$emit("update",{...r.filters,created_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,y$t)]),(0,s._)("div",x$t,[b$t,(0,s._)("input",{value:r.filters.dropped_from,type:"date",onChange:e[3]||(e[3]=e=>t.$emit("update",{...r.filters,dropped_from:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,v$t)]),(0,s._)("div",_$t,[k$t,(0,s._)("input",{value:r.filters.dropped_to,type:"date",onChange:e[4]||(e[4]=e=>t.$emit("update",{...r.filters,dropped_to:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,C$t)]),(0,s._)("div",D$t,[S$t,(0,s._)("select",{value:r.filters.confirmation,onChange:e[5]||(e[5]=e=>t.$emit("update",{...r.filters,confirmation:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[U$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,P$t)))),128))],40,z$t)]),(0,s.Wm)(i,{filters:r.filters,onUpdate:e[6]||(e[6]=e=>t.$emit("update",e))},null,8,["filters"]),(0,s._)("div",L$t,[q$t,(0,s._)("select",{onChange:e[7]||(e[7]=e=>t.$emit("update",{...r.filters,delivery:e.target.value})),value:r.filters.delivery,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[A$t,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,W$t)))),128))],40,$$t)]),(0,s._)("div",E$t,[T$t,(0,s._)("select",{value:r.filters.upsell,onChange:e[8]||(e[8]=e=>t.$emit("update",{...r.filters,upsell:e.target.value})),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},j$t,40,F$t)]),(0,s._)("div",R$t,[(0,s._)("button",{onClick:e[9]||(e[9]=e=>t.$emit("clear")),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},H$t),(0,s._)("button",{onClick:e[10]||(e[10]=e=>t.$emit("filter")),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},K$t)])])])}const Q$t={class:"tw-text-sm tw-text-neutral-600"},J$t=["onClick"];function G$t(t,e,r,a,o,l){const i=(0,s.up)("VueDatePicker");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("span",Q$t,(0,at.zw)(r.name),1),(0,s.Wm)(i,{modelValue:o.date,"onUpdate:modelValue":[e[0]||(e[0]=t=>o.date=t),l.onDateRangePicked],onCleared:l.cleared,format:o.dateFilterFormat,range:"","preset-ranges":o.presetRanges},{yearly:(0,s.w5)((({label:t,range:e,presetDateRange:r})=>[(0,s._)("span",{onClick:t=>r(e)},(0,at.zw)(t),9,J$t)])),_:1},8,["modelValue","onCleared","onUpdate:modelValue","format","preset-ranges"])])}var X$t={props:["name"],data(){return{date:["",""],dateFilterFormat:"yyyy-MM-dd",formattedStartDate:"",formattedEndDate:"",presetRanges:[{label:"Today",range:[new Date,new Date]},{label:"Yesterday",range:[(0,Io.Z)(new Date,1),(0,Io.Z)(new Date,1)]},{label:"This month",range:[(0,jo.Z)(new Date),(0,Ro.Z)(new Date)]},{label:"Last month",range:[(0,jo.Z)((0,Mo.Z)(new Date,1)),(0,Ro.Z)((0,Mo.Z)(new Date,1))]},{label:"This year",range:[(0,No.Z)(new Date),(0,Ho.Z)(new Date)]}]}},watch:{date(){this.$emit("update:filter",[this.formattedStartDate,this.formattedEndDate])}},methods:{onDateRangePicked(t){t?(this.formattedStartDate=t[0],this.formattedEndDate=t[1]):(this.formattedStartDate=null,this.formattedEndDate=null)},cleared(){this.date=["",""]}}};const tAt=(0,p.Z)(X$t,[["render",G$t]]);var eAt=tAt;const rAt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},aAt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),sAt=["value"],oAt=(0,s._)("option",{value:"all"},"All",-1),lAt=["value"];function iAt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",rAt,[aAt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[oAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,lAt)))),128))],40,sAt)])}var nAt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}},methods:{getProducts(){return la.all().then((t=>{"SUCCESS"==t.data.code&&(this.$store.dispatch("product/setProducts",t.data.data.products),this.$store.dispatch("product/setFetched",!0))}),(t=>{this.$handleApiError(t)}))}}};const dAt=(0,p.Z)(nAt,[["render",iAt]]);var wAt=dAt,cAt={components:{DateFilter:eAt,ProductFilter:wAt},props:{filters:{required:!0,default:{}}},data(){return{confirmations:Xn,deliveries:ad,dateFilter:["",""]}}};const uAt=(0,p.Z)(cAt,[["render",B$t]]);var pAt=uAt,mAt={components:{IndexStatistics:t$t,FiltersWrapper:pAt,IndexExport:w$t},props:{perPage:{type:Number},statistics:{default:null},activeStatistics:{type:Boolean,default:!1},loading:{default:!0},search:{default:""},searchByField:{default:"all"},filters:{required:!0}},data(){return{showFilters:!1,showStatistics:!1,showExport:!1,showAll:!0,showToday:!1}},methods:{handlePerPageChange(t){this.$emit("perPageChange",t.target.value)},filterToday(t){var e=null;t?(this.showAll=!1,this.showToday=!0,e=Qg()(),e=e.format("YYYY-MM-DD")):(this.showAll=!0,this.showToday=!1),this.$emit("update:filters",{...this.filters,created_from:e,created_to:e}),this.$emit("filter")}},mounted(){}};const gAt=(0,p.Z)(mAt,[["render",Nqt]]);var hAt=gAt;const fAt={class:"tw-mb-4"},yAt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},xAt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},bAt={class:"tw-flex tw-items-center tw-gap-2"},vAt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},_At=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),kAt={class:"tw-flex tw-items-center tw-gap-2"},CAt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),DAt=(0,s._)("span",null," Clear Selection ",-1),SAt=[CAt,DAt],zAt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),UAt=(0,s._)("span",null," Actions ",-1),PAt=[zAt,UAt],LAt={key:0};function qAt(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",fAt,[(0,s._)("div",yAt,[(0,s._)("div",xAt,[(0,s._)("div",bAt,[(0,s._)("div",vAt,(0,at.zw)(r.selected.length),1),_At]),(0,s._)("div",kAt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},SAt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},PAt)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",LAt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const $At={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},AAt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},WAt=(0,s._)("span",null,"Quick Actions",-1),EAt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},TAt={class:"tw-bg-white tw-p-4"},FAt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},OAt={class:"tw-col-span-2 md:tw-col-span-1"},VAt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},IAt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},jAt=(0,s._)("span",null,"Apply",-1);function RAt(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",$At,[(0,s._)("div",AAt,[WAt,(0,s._)("span",EAt,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",TAt,[(0,s._)("div",FAt,[(0,s._)("div",OAt,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",VAt,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",IAt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),jAt])])])])),_:1},8,["visible","closeable","onCancel"])])}const MAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),NAt={class:"tw-relative"},HAt=["value"],YAt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function ZAt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[MAt,(0,s._)("div",NAt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,HAt)))),128))],512),[[a.bM,i.vaction]]),YAt]),(0,s.kq)("",!0)])}var KAt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const BAt=(0,p.Z)(KAt,[["render",ZAt]]);var QAt=BAt;const JAt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),GAt={class:"tw-relative"},XAt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),tWt=["value"],eWt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function rWt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[JAt,(0,s._)("div",GAt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[XAt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,tWt)))),128))],512),[[a.bM,i.vvalue]]),eWt]),(0,s.kq)("",!0)])}var aWt={props:{value:{required:!0}},data(){return{statuses:ad}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const sWt=(0,p.Z)(aWt,[["render",rWt]]);var oWt=sWt,lWt=(t,e)=>{t.isLoading=!0,WG.execute(e).then((e=>iWt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const iWt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var nWt={components:{BulkSelectAction:QAt,BulkDeliveryAction:oWt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};lWt(this,t)}}};const dWt=(0,p.Z)(nWt,[["render",RAt]]);var wWt=dWt,cWt={components:{BulkPopup:wWt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const uWt=(0,p.Z)(cWt,[["render",qAt]]);var pWt=uWt,mWt={components:{IndexTable:gqt,IndexFilters:hAt,BulkActions:pWt},data(){return{fetching:!0,items:[],selected:[],statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",searchByField:"all",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,searchByField:this.searchByField,filters:this.filters};return this.fetching=!0,Yzt.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,product_id:"all",upsell:"all",confirmation:"all",delivery:"all"},this.handlePageChange(1)},handleNext(){},handlePrev(){},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){console.log(t),this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},handleBulkUpdate(){this.selected=[],this.paginateOrders()}},mounted(){this.paginateOrders()}};const gWt=(0,p.Z)(mWt,[["render",Nzt]]);var hWt=gWt,fWt={name:"seller",path:"/seller/list",component:ca,meta:{module:"seller"},children:[{name:"seller/list",path:"",component:hWt,meta:{module:"sellersale",subModule:"seller/list",title:"Seller List",gate:"show_seller_sales"}}]};const yWt={class:"py-5 px-2 tw-border tw-bg-white tw-w-full tw-rounded-md tw-mb-5"},xWt={class:"tw-px-3"},bWt={class:"tw-flex tw-items-center tw-justify-between tw-flex-wrap"},vWt={class:"tw-flex tw-items-center tw-gap-x-3"},_Wt=(0,s._)("h2",{class:"tw-text-lg tw-font-medium tw-text-gray-800 darkx:tw-text-white"}," Orders ",-1),kWt={class:"tw-px-3 tw-py-1 tw-text-xs tw-text-emerald-600 tw-bg-emerald-100 tw-rounded-full darkx:tw-bg-gray-800 darkx:tw-text-orange-400"},CWt=(0,s._)("p",{class:"tw-mt-1 tw-text-sm tw-text-gray-500 darkx:tw-text-gray-300"}," These orders have needs to reconfirmed. ",-1),DWt={class:"tw-flex tw-items-center tw-mt-4 tw-gap-x-3"},SWt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",width:"16",height:"16",stroke:"currentColor",class:"tw-w-5 tw-h-5"},[(0,s._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),zWt=(0,s._)("span",null,"Create",-1),UWt=[SWt,zWt],PWt={key:1};function LWt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=((0,s.up)("BulkActions"),(0,s.up)("IndexTable")),d=(0,s.up)("CreatePopup");return(0,s.wg)(),(0,s.iD)("div",yWt,[(0,s._)("section",xWt,[(0,s._)("div",bWt,[(0,s._)("div",null,[(0,s._)("div",vWt,[_Wt,(0,s._)("span",kWt,(0,at.zw)(o.totalOrders)+" order",1)]),CWt]),(0,s._)("div",DWt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.create_popup=!0),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},UWt)])]),(0,s.Wm)(i,{search:o.search,"onUpdate:search":e[1]||(e[1]=t=>o.search=t),filters:o.filters,"onUpdate:filters":e[2]||(e[2]=t=>o.filters=t),onFilter:e[3]||(e[3]=t=>l.handlePerPageChange(o.per_page)),onClear:l.handleClearFilters,onPerPageChange:l.handlePerPageChange,onFresh:l.paginateOrders,loading:o.fetching,statistics:o.statistics,"per-page":o.per_page,"active-statistics":""},null,8,["search","filters","onClear","onPerPageChange","onFresh","loading","statistics","per-page"]),(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(n,{selected:o.selected,"onUpdate:selected":e[5]||(e[5]=t=>o.selected=t),onUpdate:l.handleItemUpdate,onPageChange:l.handlePageChange,onSortOrder:l.handleSortOrderChange,loading:o.fetching,from:o.from,to:o.to,"last-page":o.last_page,"per-page":o.per_page,total:o.total,"current-page":o.current_page,items:o.items,deliveries:o.deliveries},null,8,["selected","onUpdate","onPageChange","onSortOrder","loading","from","to","last-page","per-page","total","current-page","items","deliveries"])]),o.create_popup?((0,s.wg)(),(0,s.iD)("div",PWt,[(0,s.Wm)(d,{visible:o.create_popup,"onUpdate:visible":e[6]||(e[6]=t=>o.create_popup=t)},null,8,["visible"])])):(0,s.kq)("",!0)])])}const qWt={class:"tw-mb-4"},$Wt={class:"tw-w-full tw-p-3 tw-py-2 tw-rounded-lg tw-bg-gray-50 tw-border tw-border-solid"},AWt={class:"tw-flex tw-items-center tw-gap-2 tw-justify-between"},WWt={class:"tw-flex tw-items-center tw-gap-2"},EWt={class:"tw-text-sm tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},TWt=(0,s._)("p",{class:"tw-font-bold tw-text-sm"}," Selected",-1),FWt={class:"tw-flex tw-items-center tw-gap-2"},OWt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),VWt=(0,s._)("span",null," Clear Selection ",-1),IWt=[OWt,VWt],jWt=(0,s._)("svg",{class:"tw-stroke-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 20 20"},[(0,s._)("g",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd"},[(0,s._)("path",{d:"M8.232 11.768A2.493 2.493 0 0 0 10 12.5c.672 0 1.302-.267 1.768-.732A2.493 2.493 0 0 0 12.5 10c0-.672-.267-1.302-.732-1.768A2.493 2.493 0 0 0 10 7.5c-.672 0-1.302.267-1.768.732A2.493 2.493 0 0 0 7.5 10c0 .672.267 1.302.732 1.768Zm2.829-.707c-.28.28-.657.439-1.061.439c-.404 0-.78-.16-1.06-.44S8.5 10.405 8.5 10s.16-.78.44-1.06s.656-.44 1.06-.44s.78.16 1.06.44s.44.656.44 1.06s-.16.78-.44 1.06Z"}),(0,s._)("path",{d:"m14.216 3.773l-1.27.714a6.213 6.213 0 0 0-1.166-.48l-.47-1.414a.5.5 0 0 0-.474-.343H9.06a.5.5 0 0 0-.481.365l-.392 1.403a6.214 6.214 0 0 0-1.164.486L5.69 3.835a.5.5 0 0 0-.578.094L3.855 5.185a.5.5 0 0 0-.082.599l.714 1.27c-.199.37-.36.76-.48 1.166l-1.414.47a.5.5 0 0 0-.343.474v1.777a.5.5 0 0 0 .365.481l1.403.392c.122.405.285.794.486 1.164l-.669 1.333a.5.5 0 0 0 .094.578l1.256 1.256a.5.5 0 0 0 .599.082l1.27-.714c.37.199.76.36 1.166.48l.47 1.414a.5.5 0 0 0 .474.343h1.777a.5.5 0 0 0 .481-.365l.392-1.403a6.21 6.21 0 0 0 1.164-.486l1.333.669a.5.5 0 0 0 .578-.093l1.256-1.257a.5.5 0 0 0 .082-.599l-.714-1.27c.199-.37.36-.76.48-1.166l1.414-.47a.5.5 0 0 0 .343-.474V9.06a.5.5 0 0 0-.365-.481l-1.403-.392a6.208 6.208 0 0 0-.486-1.164l.669-1.333a.5.5 0 0 0-.093-.578l-1.257-1.256a.5.5 0 0 0-.599-.082Zm-1.024 1.724l1.184-.667l.733.733l-.627 1.25a.5.5 0 0 0 .019.482c.265.44.464.918.59 1.418a.5.5 0 0 0 .35.36l1.309.366v1.037l-1.327.44a.5.5 0 0 0-.328.354a5.216 5.216 0 0 1-.585 1.42a.5.5 0 0 0-.007.502l.667 1.184l-.733.733l-1.25-.627a.5.5 0 0 0-.482.019c-.44.265-.918.464-1.418.59a.5.5 0 0 0-.36.35l-.366 1.309H9.525l-.44-1.327a.5.5 0 0 0-.355-.328a5.217 5.217 0 0 1-1.42-.585a.5.5 0 0 0-.502-.007l-1.184.667l-.733-.733l.627-1.25a.5.5 0 0 0-.019-.482a5.216 5.216 0 0 1-.59-1.418a.5.5 0 0 0-.35-.36l-1.309-.366V9.525l1.327-.44a.5.5 0 0 0 .327-.355c.125-.5.323-.979.586-1.42a.5.5 0 0 0 .007-.502L4.83 5.624l.733-.733l1.25.627a.5.5 0 0 0 .482-.019c.44-.265.918-.464 1.418-.59a.5.5 0 0 0 .36-.35l.366-1.309h1.037l.44 1.327a.5.5 0 0 0 .354.327c.5.125.979.323 1.42.586a.5.5 0 0 0 .502.007Z"})])],-1),RWt=(0,s._)("span",null," Actions ",-1),MWt=[jWt,RWt],NWt={key:0};function HWt(t,e,r,a,o,l){const i=(0,s.up)("BulkPopup");return(0,s.wg)(),(0,s.iD)("div",qWt,[(0,s._)("div",$Wt,[(0,s._)("div",AWt,[(0,s._)("div",WWt,[(0,s._)("div",EWt,(0,at.zw)(r.selected.length),1),TWt]),(0,s._)("div",FWt,[(0,s._)("button",{onClick:e[0]||(e[0]=e=>t.$emit("update:selected",[])),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},IWt),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.popup=!0),class:"tw-bg-white tw-flex tw-items-center tw-gap-1 tw-py-1.5 hover:tw-shadow-none tw-duration-200 tw-px-3 tw-text-sm tw-rounded tw-border tw-border-solid tw-border-gray-300 tw-shadow-sm"},MWt)])])]),o.popup?((0,s.wg)(),(0,s.iD)("div",NWt,[(0,s.Wm)(i,{selected:r.selected,onUpdate:l.handleUpdate,visible:o.popup,"onUpdate:visible":e[2]||(e[2]=t=>o.popup=t)},null,8,["selected","onUpdate","visible"])])):(0,s.kq)("",!0)])}const YWt={class:"tw-mx-auto tw-w-[95%] md:tw-max-w-[800px] tw-overflow-hidden tw-h-fit dark:tw-bg-neutral-900 tw-bg-white tw-border tw-border-solid dark:tw-border-neutral-700 tw-border-neutral-300 tw-shadow-md tw-my-5 tw-rounded-lg"},ZWt={class:"tw-p-4 tw-text-lg tw-border-b tw-border-solid tw-font-medium tw-flex dark:tw-text-neutral-400 tw-text-neutral-500 tw-items-center tw-gap-4 dark:tw-bg-neutral-800 tw-bg-gray-50"},KWt=(0,s._)("span",null,"Quick Actions",-1),BWt={class:"tw-px-2 tw-w-fit tw-bg-orange-500 tw-aspect-auto tw-text-white tw-rounded"},QWt={class:"tw-bg-white tw-p-4"},JWt={class:"tw-grid tw-gap-6 tw-gap-y-5 tw-grid-cols-1 md:tw-grid-cols-2"},GWt={class:"tw-col-span-2 md:tw-col-span-1"},XWt={key:0,class:"tw-col-span-2 md:tw-col-span-1"},tEt={class:"tw-flex tw-justify-end tw-items-center tw-p-4 tw-gap-3 dark:tw-bg-neutral-900 tw-bg-gray-50 tw-border-t tw-border-solid"},eEt=(0,s._)("span",null,"Apply",-1);function rEt(t,e,r,a,o,l){const i=(0,s.up)("BulkSelectAction"),n=(0,s.up)("BulkDeliveryAction"),d=(0,s.up)("popup-new");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(d,{visible:r.visible,closeable:!o.isLoading,onCancel:l.cancel},{default:(0,s.w5)((()=>[(0,s._)("div",YWt,[(0,s._)("div",ZWt,[KWt,(0,s._)("span",BWt,(0,at.zw)(r.selected.length),1)]),(0,s._)("div",QWt,[(0,s._)("div",JWt,[(0,s._)("div",GWt,[(0,s.Wm)(i,{action:o.action,"onUpdate:action":e[0]||(e[0]=t=>o.action=t)},null,8,["action"])]),2==o.action?((0,s.wg)(),(0,s.iD)("div",XWt,[(0,s.Wm)(n,{value:o.value,"onUpdate:value":e[1]||(e[1]=t=>o.value=t)},null,8,["value"])])):(0,s.kq)("",!0)])]),(0,s._)("div",tEt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.cancel&&l.cancel(...t)),class:"tw-py-2 tw-px-7 tw-rounded tw-text-sm tw-border tw-border-solid tw-border-tansparent dark:tw-border-neutral-900 hover:tw-border-neutral-400 dark:hover:tw-border-neutral-500 hover:tw-bg-gray-300 tw-bg-gray-200 dark:tw-bg-neutral-600 tw-duration-300 tw-text-neutral-900 dark:tw-text-neutral-300"}," Cancel "),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.execute&&l.execute(...t)),class:"tw-py-2 tw-px-7 tw-flex tw-items-center tw-rounded tw-text-sm tw-bg-orange-400 tw-border tw-border-solid tw-border-tansparent hover:tw-border-orange-600 dark:tw-border-neutral-900 dark:hover:tw-border-orange-500 hover:tw-bg-orange-500/80 dark:hover:tw-bg-orange-400 tw-duration-300 tw-text-white"},[(0,s.Wm)(lt.t,{size:"small",class:(0,at.C_)(["tw-duration-300 tw-animate-spin tw-overflow-hidden tw-max-w-0 tw-mr-0",[o.isLoading&&"!tw-max-w-[50px] !tw-mr-3"]])},{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-loading")])),_:1},8,["class"]),eEt])])])])),_:1},8,["visible","closeable","onCancel"])])}const aEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Action",-1),sEt={class:"tw-relative"},oEt=["value"],lEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function iEt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[aEt,(0,s._)("div",sEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vaction=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.actions,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,key:t.id},(0,at.zw)(t.name),9,oEt)))),128))],512),[[a.bM,i.vaction]]),lEt]),(0,s.kq)("",!0)])}var nEt={props:{action:{required:!0}},data(){return{actions:[{id:1,name:"Select Action"},{id:2,name:"Delivery Status"}]}},computed:{vaction:{get(){return this.action},set(t){this.$emit("update:action",t)}}}};const dEt=(0,p.Z)(nEt,[["render",iEt]]);var wEt=dEt;const cEt=(0,s._)("label",{class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Value",-1),uEt={class:"tw-relative"},pEt=(0,s._)("option",{disabled:"",value:"not-selected"},"Select a value",-1),mEt=["value"],gEt=(0,s._)("div",{class:"tw-pointer-events-none tw-absolute tw-inset-y-0 tw-right-0 tw-flex tw-items-center tw-px-2 tw-text-gray-700"},[(0,s._)("svg",{class:"tw-fill-current tw-h-4 tw-w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1);function hEt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",null,[cEt,(0,s._)("div",uEt,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.vvalue=t),class:(0,at.C_)([[!1],"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5 tw-pr-7"])},[pEt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.statuses,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([t.text]),value:t.value,key:t.id},(0,at.zw)(t.name),11,mEt)))),128))],512),[[a.bM,i.vvalue]]),gEt]),(0,s.kq)("",!0)])}var fEt={props:{value:{required:!0}},data(){return{statuses:ad}},computed:{vvalue:{get(){return this.value},set(t){this.$emit("update:value",t)}}}};const yEt=(0,p.Z)(fEt,[["render",hEt]]);var xEt=yEt,bEt=(t,e)=>{t.isLoading=!0,WG.execute(e).then((e=>vEt(t,e.data))).catch(t.$handleApiError).finally((()=>{t.isLoading=!1}))};const vEt=(t,e)=>{"SUCCESS"==e.code&&(t.$alert({title:"Updated Successfully",type:"success"}),t.$emit("update:visible",!1),t.$emit("update"))};var _Et={components:{BulkSelectAction:wEt,BulkDeliveryAction:xEt},props:{visible:{required:!0},selected:{required:!0}},data(){return{isLoading:!1,action:1,value:"not-selected"}},watch:{action(){this.value="not-selected"}},methods:{cancel(){this.$emit("update:visible",!1)},execute(){if(1==this.action)return this.$alert({title:"Select action",type:"info"}),!1;if("not-selected"==this.value)return this.$alert({title:"Select value",type:"info"}),!1;const t={action:this.action,value:this.value,selected:this.selected};bEt(this,t)}}};const kEt=(0,p.Z)(_Et,[["render",rEt]]);var CEt=kEt,DEt={components:{BulkPopup:CEt},props:{selected:{required:!0}},data(){return{popup:!1}},methods:{handleUpdate(){this.$emit("update")}}};const SEt=(0,p.Z)(DEt,[["render",HWt]]);var zEt=SEt,UEt={components:{IndexTable:_4,IndexFilters:d6,CreatePopup:d7,BulkActions:zEt},data(){return{fetching:!0,create_popup:!1,items:[],selected:[],deliveries:{fetched:!1,items:[]},statistics:null,first_page_url:null,lase_page_url:null,next_page_url:null,prev_page_url:null,last_page:1,from:1,to:1,total:0,totalOrders:0,links:null,search:"",sort_by:"created_at",sort_order:"desc",per_page:10,current_page:1,filters:{created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1}}},methods:{paginateOrders(){const t="?page="+this.current_page,e={sort_by:this.sort_by,sort_order:this.sort_order,per_page:this.per_page,current_page:this.current_page,search:this.search,filters:this.filters};return this.fetching=!0,ei.paginate(t,e).then((({data:t})=>{const e=t.data.orders;this.setOptions(e),this.statistics=this.search?this.statistics:t.data.statistics})).then((()=>{this.fetching=!1}))},setOptions(t){this.items=t.data,this.first_page_url=Xo(t.first_page_url),this.lase_page_url=Xo(t.last_page_url),this.next_page_url=Xo(t.next_page_url),this.prev_page_url=Xo(t.prev_page_url),this.last_page=parseInt(t.last_page),this.from=parseInt(t.from),this.to=parseInt(t.to),this.per_page=parseInt(t.per_page),this.total=parseInt(t.total),this.totalOrders=this.search?this.totalOrders:parseInt(t.total),this.links=t.links},handleClearFilters(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",product_id:"all",delivery:"all",reported_first:!1},this.handlePageChange(1)},handleBulkUpdate(){this.selected=[],this.paginateOrders()},handleItemUpdate(t){this.items=this.items.map((e=>e.id==t.id?t:e))},handlePageChange(t){this.current_page=t,this.paginateOrders()},handlePerPageChange(t){this.per_page=parseInt(t),this.handlePageChange(1)},handleSortOrderChange(){this.sort_order="asc"==this.sort_order?"desc":"asc",this.paginateOrders()},getDeliveries(){this.deliveries.fetched=!1,et.allDeliveries().then((t=>{"SUCCESS"==t?.data.code&&(this.deliveries.items=t.data.data.deliveries,this.deliveries.fetched=!0)})).catch(this.$handleApiError)}},mounted(){this.paginateOrders(),this.getDeliveries()}};const PEt=(0,p.Z)(UEt,[["render",LWt]]);var LEt=PEt,qEt={path:"/followup",name:"followup",component:ca,meta:{module:"dashboard"},children:[{name:"followup/index",path:"",component:LEt,meta:{module:"followup",title:"Follow Up Orders",gate:"follow_up_orders"}}]};const $Et={class:"tw-pb-40"},AEt={class:"tw-space-y-3"};function WEt(t,e,r,a,o,l){const i=(0,s.up)("OnlineUsers"),n=(0,s.up)("IndexFilters"),d=(0,s.up)("IndexRevenue"),w=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",$Et,[(0,s._)("div",AEt,[(0,s.Wm)(i),(0,s.Wm)(n,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(d,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(w,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])])}const EEt={class:"tw-bg-white tw-p-5"},TEt={class:"tw-flex tw-items-center tw-justify-between"},FEt=(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Users",-1),OEt={class:"tw-relative tw-flex tw-items-center"},VEt=(0,s._)("span",{class:"tw-text-xs tw-absolute tw-right-0 tw-top-0 -tw-translate-y-full tw-whitespace-nowrap"},"Show All",-1),IEt={class:"tw-relative tw-inline-flex tw-items-center tw-cursor-pointer tw-scale-75"},jEt=(0,s._)("div",{class:"tw-w-11 tw-h-6 tw-bg-gray-200 peer-focus:tw-outline-none peer-focus:tw-ring-4 peer-focus:tw-ring-orange-200 dark:peer-focus:tw-ring-orange-500 tw-rounded-full tw-peer dark:tw-bg-neutral-600 peer-checked:after:tw-translate-x-full peer-checked:after:tw-border-white after:tw-content-[''] after:tw-absolute after:tw-top-[2px] after:tw-left-[2px] after:tw-bg-white after:tw-border-gray-300 after:tw-border after:tw-rounded-full after:tw-h-5 after:tw-w-5 after:tw-transition-all dark:tw-border-gray-600 peer-checked:tw-bg-orange-500"},null,-1),REt={key:0,class:""},MEt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},NEt=(0,s._)("div",{class:"tw-w-[120px] tw-h-[55px] tw-bg-neutral-300/10 tw-animate-pulse tw-rounded tw-border tw-grid tw-grid-cols-12"},null,-1),HEt=[NEt],YEt={key:1,class:"tw-min-h-[50px]"},ZEt={class:"tw-flex tw-items-center tw-flex-wrap tw-gap-2"},KEt={class:"py-2 px-3 tw-rounded tw-bg-white tw-shadow-sm tw-grid tw-grid-cols-12 tw-relative tw-overflow-hidden"},BEt={class:"tw-col-span-12 tw-flex tw-items-center tw-gap-2 tw-font-medium tw-capitalize tw-text-sm tw-text-neutral-600 tw-whitespace-nowrap"},QEt={key:0,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-red-400 tw-absolute tw-top-0 tw-right-0"},JEt={key:1,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-green-500 tw-absolute tw-top-0 tw-right-0"},GEt={key:2,class:"tw-w-full tw-pt-1 tw-rounded-full tw-bg-yellow-400 tw-absolute tw-top-0 tw-right-0"},XEt={class:"tw-font-bold"},tTt={class:"tw-col-span-12 tw-whitespace-nowrap tw-text-xs tw-mt-1"},eTt={key:0,class:"tw-text-red-500 tw-flex tw-items-center tw-gap-2"},rTt={key:1},aTt={key:0,class:"tw-text-green-500 tw-flex tw-items-center tw-gap-2"},sTt={key:1,class:"tw-flex tw-items-center tw-gap-2"};function oTt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)("div",EEt,[(0,s._)("div",TEt,[FEt,(0,s._)("div",OEt,[VEt,(0,s._)("label",IEt,[(0,s.wy)((0,s._)("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>l.showAll=t),class:"tw-sr-only tw-peer"},null,512),[[a.e8,l.showAll]]),jEt])])]),l.isLoaded?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",REt,[(0,s._)("div",MEt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t},HEt))),64))])])),l.isLoaded?((0,s.wg)(),(0,s.iD)("div",YEt,[(0,s._)("div",ZEt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.users,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[(0,s._)("div",KEt,[(0,s._)("div",BEt,[t.last_action?1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",JEt)):((0,s.wg)(),(0,s.iD)("div",GEt)):((0,s.wg)(),(0,s.iD)("div",QEt)),(0,s._)("span",XEt,(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),1)]),(0,s._)("div",tTt,[t.last_action?((0,s.wg)(),(0,s.iD)("div",rTt,[1==i.isOnline(i.lastSeen(t.last_action))?((0,s.wg)(),(0,s.iD)("div",aTt," Online ")):((0,s.wg)(),(0,s.iD)("div",sTt,(0,at.zw)(i.lastSeen(t.last_action)),1))])):((0,s.wg)(),(0,s.iD)("div",eTt," Never Connected "))])])])))),128))])])):(0,s.kq)("",!0)])}var lTt={components:{},data(){return{isLoaded:!1,showAll:!1}},computed:{users(){return this.showAll?this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?Qg()(t.last_action).isAfter(e.last_action)?-1:1:-1)):this.$store.getters["user/users"].filter((t=>"admin"!=t.role_name)).sort(((t,e)=>e.last_action?Qg()(t.last_action).isAfter(e.last_action)?-1:1:-1)).slice(0,8)}},methods:{getUsers(){et.all().then((t=>{if("SHOW_ALL_USERS"==t?.data.code){const e=t.data.data.users;this.$store.dispatch("user/setUsers",e),this.isLoaded=!0}})).catch(this.$handleApiError)},lastSeen(t){let e=Date.parse(t.replace("-","/"))/1e3;return(0,es.x)(e)},isOnline(t){let e=["Just Now","1 minute ago","2 minute ago"];return e.includes(t)}},mounted(){this.getUsers()}};const iTt=(0,p.Z)(lTt,[["render",oTt]]);var nTt=iTt;const dTt={class:"tw-bg-white"},wTt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},cTt={class:"tw-p-5"};function uTt(t,e,r,a,o,l){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",dTt,[(0,s._)("div",wTt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.active=1),class:(0,at.C_)([[1==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.active=2),class:(0,at.C_)([[2==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",cTt,[1==o.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==o.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const pTt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},mTt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),gTt=[mTt],hTt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function fTt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",pTt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},gTt))),64))])):((0,s.wg)(),(0,s.iD)("div",hTt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const yTt={class:"tw-flex tw-justify-between"},xTt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},bTt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},vTt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},_Tt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function kTt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",yTt,[(0,s._)("div",null,[(0,s._)("div",xTt,[(0,s._)("p",bTt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",vTt,[(0,s._)("span",_Tt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var CTt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const DTt=(0,p.Z)(CTt,[["render",kTt]]);var STt=DTt,zTt={components:{DashboardCard:STt},props:{statistics:{required:!0},fetching:{required:!0}}};const UTt=(0,p.Z)(zTt,[["render",fTt]]);var PTt=UTt;const LTt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},qTt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),$Tt=[qTt],ATt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function WTt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",LTt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},$Tt))),64))])):((0,s.wg)(),(0,s.iD)("div",ATt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var ETt={components:{DashboardCard:STt},props:{statistics:{required:!0},fetching:{required:!0}}};const TTt=(0,p.Z)(ETt,[["render",WTt]]);var FTt=TTt,OTt={components:{ConfirmationTab:PTt,DeliveryTab:FTt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const VTt=(0,p.Z)(OTt,[["render",uTt]]);var ITt=VTt;const jTt={class:"tw-bg-white tw-p-5"},RTt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),MTt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},NTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},HTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),YTt=(0,s._)("option",{value:"all",selected:""},"All",-1),ZTt=["value"],KTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},BTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),QTt=(0,s._)("option",{value:"all",selected:""},"All",-1),JTt=["value"],GTt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},XTt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),tFt=(0,s._)("option",{value:"all",selected:""},"All",-1),eFt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),rFt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),aFt=[tFt,eFt,rFt],sFt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},oFt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),lFt=(0,s._)("span",null,"Clear",-1),iFt=[oFt,lFt],nFt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),dFt=(0,s._)("span",null,"Filter",-1),wFt=[nFt,dFt];function cFt(t,e,r,o,l,i){const n=(0,s.up)("DateFilter"),d=(0,s.up)("AgentFilter"),w=(0,s.up)("SellerFilter"),c=(0,s.up)("AffectationFilter"),u=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",jTt,[RTt,(0,s._)("div",MTt,[(0,s.Wm)(n,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(d,{filters:l.filters,onUpdate:e[4]||(e[4]=t=>l.filters=t)},null,8,["filters"]),(0,s.Wm)(w,{filters:l.filters,onUpdate:e[5]||(e[5]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",NTt,[HTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[YTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,ZTt)))),128))],512),[[a.bM,l.filters.confirmation]])]),(0,s.Wm)(c,{filters:l.filters,onUpdate:e[7]||(e[7]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",KTt,[BTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[QTt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,JTt)))),128))],512),[[a.bM,l.filters.delivery]])]),(0,s.Wm)(u,{filters:l.filters,onUpdate:e[9]||(e[9]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",GTt,[XTt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},aFt,512),[[a.bM,l.filters.upsell]])]),(0,s._)("div",sFt,[(0,s._)("button",{onClick:e[11]||(e[11]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},iFt),(0,s._)("button",{onClick:e[12]||(e[12]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},wFt)])])])}const uFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},pFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Affectation",-1),mFt=["value"],gFt=(0,s._)("option",{value:"all"},"All",-1),hFt=(0,s._)("option",{value:""},"No Delivery",-1),fFt=["value"];function yFt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",uFt,[pFt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,affectation:e.target.value})),value:r.filters.affectation,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[gFt,hFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,fFt)))),128))],40,mFt)])}var xFt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},deliveries(){return this.fetched?this.users.filter((t=>"delivery"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const bFt=(0,p.Z)(xFt,[["render",yFt]]);var vFt=bFt;const _Ft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},kFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Agent",-1),CFt=["value"],DFt=(0,s._)("option",{value:"all"},"All",-1),SFt=(0,s._)("option",{value:""},"No Agent",-1),zFt=["value"];function UFt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",_Ft,[kFt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,agente_id:e.target.value})),value:r.filters.agente_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[DFt,SFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.agents,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,zFt)))),128))],40,CFt)])}var PFt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},agents(){return this.fetched?this.users.filter((t=>"agente"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const LFt=(0,p.Z)(PFt,[["render",UFt]]);var qFt=LFt;const $Ft={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},AFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),WFt=["value"],EFt=(0,s._)("option",{value:"all"},"All",-1),TFt=["value"];function FFt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",$Ft,[AFt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[EFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,TFt)))),128))],40,WFt)])}var OFt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const VFt=(0,p.Z)(OFt,[["render",FFt]]);var IFt=VFt;const jFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},RFt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),MFt=["value"],NFt=(0,s._)("option",{value:"all"},"All",-1),HFt=["value"];function YFt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",jFt,[RFt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[NFt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,HFt)))),128))],40,MFt)])}var ZFt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const KFt=(0,p.Z)(ZFt,[["render",YFt]]);var BFt=KFt;const QFt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},JFt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},GFt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),XFt=[GFt],tOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},rOt=["value"],aOt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},sOt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},oOt=["value"];function lOt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",QFt,[(0,s._)("label",JFt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},XFt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",tOt,[(0,s._)("label",eOt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,rOt)]),(0,s._)("div",aOt,[(0,s._)("label",sOt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,oOt)])],64)):(0,s.kq)("",!0)],64)}var iOt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Qg()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Qg()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Qg()().startOf("month").format("YYYY-MM-DD"),a=Qg()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Qg()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Qg()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const nOt=(0,p.Z)(iOt,[["render",lOt]]);var dOt=nOt,wOt={components:{AffectationFilter:vFt,AgentFilter:qFt,ProductFilter:BFt,DateFilter:dOt,SellerFilter:IFt},props:{},data(){return{confirmations:Xn,deliveries:ad,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",user_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const cOt=(0,p.Z)(wOt,[["render",cFt]]);var uOt=cOt;const pOt={key:0},mOt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function gOt(t,e,r,a,o,l){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",pOt,[(0,s._)("div",mOt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const hOt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},fOt={class:"tw-flex tw-justify-between"},yOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},xOt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},bOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},vOt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function _Ot(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",hOt,[(0,s._)("div",fOt,[(0,s._)("div",null,[(0,s._)("div",yOt,[(0,s._)("p",xOt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",bOt,[(0,s._)("span",vOt,(0,at.zw)(l.format(r.value)),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var kOt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const COt=(0,p.Z)(kOt,[["render",_Ot]]);var DOt=COt,SOt={components:{RevenueCard:DOt},props:{statistics:{required:!0},fetching:{required:!0}}};const zOt=(0,p.Z)(SOt,[["render",gOt]]);var UOt=zOt,POt={components:{OnlineUsers:nTt,IndexStatistics:ITt,IndexFilters:uOt,IndexRevenue:UOt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Yh.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const LOt=(0,p.Z)(POt,[["render",WEt]]);var qOt=LOt;const $Ot={class:"tw-pb-40"},AOt={class:"tw-space-y-3"};function WOt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexRevenue"),d=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",$Ot,[(0,s._)("div",AOt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"]),(0,s.Wm)(d,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])])}const EOt={class:"tw-bg-white"},TOt={class:"tw-flex tw-items-center tw-gap-2 tw-bg-gray-50 tw-p-2 tw-pt-0 tw-rounded-b tw-w-fit"},FOt={class:"tw-p-5"};function OOt(t,e,r,a,o,l){const i=(0,s.up)("ConfirmationTab"),n=(0,s.up)("DeliveryTab");return(0,s.wg)(),(0,s.iD)("div",EOt,[(0,s._)("div",TOt,[(0,s._)("button",{onClick:e[0]||(e[0]=t=>o.active=1),class:(0,at.C_)([[1==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Confirmations ",2),(0,s._)("button",{onClick:e[1]||(e[1]=t=>o.active=2),class:(0,at.C_)([[2==o.active?"tw-bg-white tw-shadow-orange-300":"tw-bg-gray-100 hover:tw-bg-white"],"tw-px-5 tw-py-2.5 tw-duration-300 tw-font-medium tw-shadow tw-rounded tw-text-gray-600"])}," Delivery ",2)]),(0,s._)("div",FOt,[1==o.active?((0,s.wg)(),(0,s.j4)(i,{key:0,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0),2==o.active?((0,s.wg)(),(0,s.j4)(n,{key:1,statistics:r.statistics,fetching:r.fetching},null,8,["statistics","fetching"])):(0,s.kq)("",!0)])])}const VOt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},IOt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),jOt=[IOt],ROt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function MOt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",VOt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},jOt))),64))])):((0,s.wg)(),(0,s.iD)("div",ROt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.confirmations,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}const NOt={class:"tw-flex tw-justify-between"},HOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},YOt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},ZOt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},KOt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function BOt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",NOt,[(0,s._)("div",null,[(0,s._)("div",HOt,[(0,s._)("p",YOt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",ZOt,[(0,s._)("span",KOt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var QOt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const JOt=(0,p.Z)(QOt,[["render",BOt]]);var GOt=JOt,XOt={components:{DashboardCard:GOt},props:{statistics:{required:!0},fetching:{required:!0}}};const tVt=(0,p.Z)(XOt,[["render",MOt]]);var eVt=tVt;const rVt={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},aVt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),sVt=[aVt],oVt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function lVt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return(0,s.wg)(),(0,s.iD)("div",null,[r.fetching?((0,s.wg)(),(0,s.iD)("div",rVt,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},sVt))),64))])):((0,s.wg)(),(0,s.iD)("div",oVt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.delivery,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))])}var iVt={components:{DashboardCard:GOt},props:{statistics:{required:!0},fetching:{required:!0}}};const nVt=(0,p.Z)(iVt,[["render",lVt]]);var dVt=nVt,wVt={components:{ConfirmationTab:eVt,DeliveryTab:dVt},props:{statistics:{required:!0},fetching:{required:!0}},data(){return{active:1}}};const cVt=(0,p.Z)(wVt,[["render",OOt]]);var uVt=cVt;const pVt={class:"tw-bg-white tw-p-5"},mVt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),gVt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},hVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},fVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Confirmation",-1),yVt=(0,s._)("option",{value:"all",selected:""},"All",-1),xVt=["value"],bVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},vVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Delivery",-1),_Vt=(0,s._)("option",{value:"all",selected:""},"All",-1),kVt=["value"],CVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},DVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Upsell",-1),SVt=(0,s._)("option",{value:"all",selected:""},"All",-1),zVt=(0,s._)("option",{value:"oui",class:"tw-capitalize"},"Yes",-1),UVt=(0,s._)("option",{value:"non",class:"tw-capitalize"},"Non",-1),PVt=[SVt,zVt,UVt],LVt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},qVt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),$Vt=(0,s._)("span",null,"Clear",-1),AVt=[qVt,$Vt],WVt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),EVt=(0,s._)("span",null,"Filter",-1),TVt=[WVt,EVt];function FVt(t,e,r,o,l,i){const n=(0,s.up)("DateFilter"),d=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",pVt,[mVt,(0,s._)("div",gVt,[(0,s.Wm)(n,{from:l.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>l.filters.created_from=t),to:l.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>l.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(n,{from:l.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>l.filters.dropped_from=t),to:l.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>l.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",hVt,[fVt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.filters.confirmation=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.confirmations,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-green-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,xVt)))),128))],512),[[a.bM,l.filters.confirmation]])]),(0,s._)("div",bVt,[vVt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.filters.delivery=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[_Vt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.deliveries,(t=>((0,s.wg)(),(0,s.iD)("option",{class:(0,at.C_)([[t.text,null==t.value&&"!tw-text-gray-500"],"tw-capitalize"]),value:t.value,key:t.id},(0,at.zw)(t.name),11,kVt)))),128))],512),[[a.bM,l.filters.delivery]])]),(0,s.Wm)(d,{filters:l.filters,onUpdate:e[6]||(e[6]=t=>l.filters=t)},null,8,["filters"]),(0,s._)("div",CVt,[DVt,(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.filters.upsell=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},PVt,512),[[a.bM,l.filters.upsell]])]),(0,s._)("div",LVt,[(0,s._)("button",{onClick:e[8]||(e[8]=(...t)=>i.clear&&i.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},AVt),(0,s._)("button",{onClick:e[9]||(e[9]=(...t)=>i.filter&&i.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},TVt)])])])}const OVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},VVt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),IVt=["value"],jVt=(0,s._)("option",{value:"all"},"All",-1),RVt=["value"];function MVt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",OVt,[VVt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[jVt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,RVt)))),128))],40,IVt)])}var NVt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const HVt=(0,p.Z)(NVt,[["render",MVt]]);var YVt=HVt;const ZVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},KVt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},BVt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),QVt=[BVt],JVt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},GVt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},XVt=["value"],tIt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},eIt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},rIt=["value"];function aIt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",ZVt,[(0,s._)("label",KVt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},QVt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",JVt,[(0,s._)("label",GVt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,XVt)]),(0,s._)("div",tIt,[(0,s._)("label",eIt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,rIt)])],64)):(0,s.kq)("",!0)],64)}var sIt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Qg()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Qg()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Qg()().startOf("month").format("YYYY-MM-DD"),a=Qg()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Qg()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Qg()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const oIt=(0,p.Z)(sIt,[["render",aIt]]);var lIt=oIt,iIt={components:{ProductFilter:YVt,DateFilter:lIt},props:{},data(){return{confirmations:Xn,deliveries:ad,dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,dropped_from:null,dropped_to:null,affectation:"all",agente_id:"all",upsell:"all",confirmation:"all",delivery:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const nIt=(0,p.Z)(iIt,[["render",FVt]]);var dIt=nIt;const wIt={key:0},cIt={class:"tw-bg-white tw-p-5 tw-grid tw-grid-cols-4 tw-gap-5"};function uIt(t,e,r,a,o,l){const i=(0,s.up)("RevenueCard");return!r.fetching&&r.statistics.revenue?.length>0?((0,s.wg)(),(0,s.iD)("div",wIt,[(0,s._)("div",cIt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.statistics.revenue,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,icon:t.icon,title:t.title,value:t.value,color:t.color},null,8,["icon","title","value","color"])))),128))])])):(0,s.kq)("",!0)}const pIt={class:"tw-bg-white tw-border tw-border-solid tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},mIt={class:"tw-flex tw-justify-between"},gIt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},hIt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},fIt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},yIt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function xIt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",pIt,[(0,s._)("div",mIt,[(0,s._)("div",null,[(0,s._)("div",gIt,[(0,s._)("p",hIt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",fIt,[(0,s._)("span",yIt,(0,at.zw)(r.value)+"$ ",1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var bIt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}},methods:{format(t){return Intl.NumberFormat("en",{style:"currency",currency:"USD",notation:"compact",compactDisplay:"long"}).format(t)}}};const vIt=(0,p.Z)(bIt,[["render",xIt]]);var _It=vIt,kIt={components:{RevenueCard:_It},props:{statistics:{required:!0},fetching:{required:!0}}};const CIt=(0,p.Z)(kIt,[["render",uIt]]);var DIt=CIt,SIt={components:{IndexStatistics:uVt,IndexFilters:dIt,IndexRevenue:DIt},data(){return{filters:null,statistics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Yzt.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"seller"!=this.user.role&&this.$router.push({name:"404"})}};const zIt=(0,p.Z)(SIt,[["render",WOt]]);var UIt=zIt;const PIt={class:"tw-pb-40"},LIt={class:"tw-space-y-3"};function qIt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexAnalytics");return(0,s.wg)(),(0,s.iD)("div",PIt,[(0,s._)("div",LIt,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{analytics:o.analytics,fetching:o.fetching},null,8,["analytics","fetching"])])])}const $It={key:0,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"},AIt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),WIt=[AIt],EIt={key:1,class:"tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1"};function TIt(t,e,r,a,o,l){const i=(0,s.up)("DashboardCard");return r.fetching?((0,s.wg)(),(0,s.iD)("div",$It,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},WIt))),64))])):((0,s.wg)(),(0,s.iD)("div",EIt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.analytics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))]))}const FIt={class:"tw-flex tw-justify-between"},OIt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},VIt={class:"tw-text-gray-500 tw-uppercase tw-text-xs tw-font-bold"},IIt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},jIt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function RIt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",{style:(0,at.j5)({borderColor:r.color}),class:"tw-bg-white tw-border tw-border-dashed tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},[(0,s._)("div",FIt,[(0,s._)("div",null,[(0,s._)("div",OIt,[(0,s._)("p",VIt,(0,at.zw)(r.title),1),void 0!=r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-sm tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",IIt,[(0,s._)("span",jIt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])],4)])}var MIt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const NIt=(0,p.Z)(MIt,[["render",RIt]]);var HIt=NIt,YIt={components:{DashboardCard:HIt},props:{analytics:{required:!0},fetching:{required:!0}}};const ZIt=(0,p.Z)(YIt,[["render",TIt]]);var KIt=ZIt;const BIt={class:"tw-bg-white tw-p-5"},QIt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),JIt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},GIt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},XIt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),tjt=(0,s._)("span",null,"Clear",-1),ejt=[XIt,tjt],rjt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),ajt=(0,s._)("span",null,"Filter",-1),sjt=[rjt,ajt];function ojt(t,e,r,a,o,l){const i=(0,s.up)("DateFilter"),n=(0,s.up)("SellerFilter"),d=(0,s.up)("ProductFilter");return(0,s.wg)(),(0,s.iD)("div",BIt,[QIt,(0,s._)("div",JIt,[(0,s.Wm)(i,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Created"},null,8,["from","to"]),(0,s.Wm)(i,{from:o.filters.dropped_from,"onUpdate:from":e[2]||(e[2]=t=>o.filters.dropped_from=t),to:o.filters.dropped_to,"onUpdate:to":e[3]||(e[3]=t=>o.filters.dropped_to=t),label:"Dropped"},null,8,["from","to"]),(0,s.Wm)(n,{filters:o.filters,onUpdate:e[4]||(e[4]=t=>o.filters=t)},null,8,["filters"]),(0,s.Wm)(d,{filters:o.filters,onUpdate:e[5]||(e[5]=t=>o.filters=t)},null,8,["filters"]),(0,s._)("div",GIt,[(0,s._)("button",{onClick:e[6]||(e[6]=(...t)=>l.clear&&l.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},ejt),(0,s._)("button",{onClick:e[7]||(e[7]=(...t)=>l.filter&&l.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},sjt)])])])}const ljt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},ijt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Seller",-1),njt=["value"],djt=(0,s._)("option",{value:"all"},"All",-1),wjt=["value"];function cjt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",ljt,[ijt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,user_id:e.target.value})),value:r.filters.user_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[djt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.sellers,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.firstname)+" "+(0,at.zw)(t.lastname),9,wjt)))),128))],40,njt)])}var ujt={props:{filters:{required:!0}},data(){return{}},computed:{users(){return this.$store.getters["user/users"]},sellers(){return this.fetched?this.users.filter((t=>"seller"==t.role.name)):[]},fetched(){return this.$store.getters["user/fetched"]}}};const pjt=(0,p.Z)(ujt,[["render",cjt]]);var mjt=pjt;const gjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},hjt=(0,s._)("label",{for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},"Product",-1),fjt=["value"],yjt=(0,s._)("option",{value:"all"},"All",-1),xjt=["value"];function bjt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",gjt,[hjt,(0,s._)("select",{onChange:e[0]||(e[0]=e=>t.$emit("update",{...r.filters,product_id:e.target.value})),value:r.filters.product_id,class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},[yjt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.products,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id,class:"tw-capitalize",key:t.id},(0,at.zw)(t.name),9,xjt)))),128))],40,fjt)])}var vjt={props:{filters:{required:!0}},data(){return{}},computed:{products(){return this.$store.getters["product/products"]},fetched(){return this.$store.getters["product/fetched"]}}};const _jt=(0,p.Z)(vjt,[["render",bjt]]);var kjt=_jt;const Cjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Djt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Sjt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),zjt=[Sjt],Ujt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},Pjt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Ljt=["value"],qjt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},$jt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},Ajt=["value"];function Wjt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Cjt,[(0,s._)("label",Djt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},zjt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",Ujt,[(0,s._)("label",Pjt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ljt)]),(0,s._)("div",qjt,[(0,s._)("label",$jt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,Ajt)])],64)):(0,s.kq)("",!0)],64)}var Ejt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Qg()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Qg()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Qg()().startOf("month").format("YYYY-MM-DD"),a=Qg()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Qg()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Qg()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const Tjt=(0,p.Z)(Ejt,[["render",Wjt]]);var Fjt=Tjt,Ojt={components:{SellerFilter:mjt,ProductFilter:kjt,DateFilter:Fjt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null,user_id:"all",product_id:"all"}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const Vjt=(0,p.Z)(Ojt,[["render",ojt]]);var Ijt=Vjt,jjt={components:{IndexAnalytics:KIt,IndexFilters:Ijt},data(){return{filters:null,analytics:null,fetching:!0}},computed:{user(){return this.$store.getters["user/user"]}},methods:{handleFilter(){this.fetching=!0,Yh.analytics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.analytics=t.data.data.analytics.analytics,this.fetching=!1)})).catch(this.$handleApiError)}},mounted(){"admin"!=this.user.role&&this.$router.push({name:"404"})}};const Rjt=(0,p.Z)(jjt,[["render",qIt]]);var Mjt=Rjt;function Njt(t,e,r,a,o,l){const i=(0,s.up)("IndexFilters"),n=(0,s.up)("IndexStatistics");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(i,{onUpdate:e[0]||(e[0]=t=>o.filters=t),onFilter:l.handleFilter},null,8,["onFilter"]),(0,s.Wm)(n,{statistics:o.statistics,fetching:o.fetching},null,8,["statistics","fetching"])])}const Hjt={class:"tw-w-full tw-grid tw-gap-2 lg:tw-grid-cols-4 sm:tw-grid-cols-2 tw-grid-cols-1 tw-py-2"},Yjt=(0,s.uE)('<div class="tw-flex tw-justify-between tw-w-full"><div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-2.5 tw-bg-gray-200 tw-rounded-full tw-w-[50px] tw-mb-4"></div></div><div class="tw-flex tw-w-full tw-items-center tw-gap-2"><div class="tw-h-4 tw-bg-gray-200 tw-rounded-full tw-w-[30px] tw-mb-4"></div></div></div><div class="tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-bg-gray-200 tw-text-white"><div class="tw-bg-white tw-w-[25px] tw-h-[25px] tw-rounded"></div></div></div>',1),Zjt=[Yjt];function Kjt(t,e,r,a,o,l){const i=(0,s.up)("DashCard");return(0,s.wg)(),(0,s.iD)("div",Hjt,[r.fetching?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(4,(t=>(0,s._)("div",{key:t,class:"tw-bg-white tw-animate-pulse tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-[90px]"},Zjt))),64)):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:0},(0,s.Ko)(r.statistics,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,color:t.color,icon:t.icon,title:t.title,symbol:t.symbol,percentage:t.percentage,value:t.value},null,8,["color","icon","title","symbol","percentage","value"])))),128))])}const Bjt={class:"tw-bg-white tw-shadow-sm tw-rounded-lg tw-p-5 tw-h-fit"},Qjt={class:"tw-flex tw-justify-between"},Jjt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},Gjt={class:"tw-text-gray-400 tw-uppercase tw-text-xs tw-font-medium"},Xjt={class:"tw-flex tw-w-full tw-items-center tw-gap-2"},tRt={class:"tw-text-gray-700 tw-text-xl tw-font-bold"};function eRt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",Bjt,[(0,s._)("div",Qjt,[(0,s._)("div",null,[(0,s._)("div",Jjt,[(0,s._)("p",Gjt,(0,at.zw)(r.title),1),r.percentage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:"tw-text-xs tw-font-medium tw-rounded tw-px-1 tw-text-white",style:(0,at.j5)({background:r.color})},(0,at.zw)(r.percentage.toFixed(2))+"%",5)):(0,s.kq)("",!0)]),(0,s._)("div",Xjt,[(0,s._)("span",tRt,(0,at.zw)(r.value),1)])]),(0,s._)("div",{style:(0,at.j5)({background:r.color}),class:"tw-p-2 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-w-[50px] tw-h-[50px] tw-text-white"},[(0,s.Wm)(lt.t,{style:(0,at.j5)(["Orders"==r.title&&{color:"#2ee1ff"}]),size:"x-large"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(r.icon),1)])),_:1},8,["style"])],4)])])])}var rRt={props:{icon:{required:!0},title:{required:!0},value:{required:!0},symbol:{default:"",required:!1},percentage:{required:!1},color:{required:!0,default:"#6b7280"}}};const aRt=(0,p.Z)(rRt,[["render",eRt]]);var sRt=aRt,oRt={components:{DashCard:sRt},props:{statistics:{required:!0},fetching:{required:!0}}};const lRt=(0,p.Z)(oRt,[["render",Kjt]]);var iRt=lRt;const nRt={class:"tw-bg-white tw-p-5"},dRt=(0,s._)("div",null,[(0,s._)("h1",{class:"tw-mb-3 tw-text-xl tw-font-medium"},"Filters")],-1),wRt={class:"tw-grid tw-grid-cols-12 tw-gap-4 tw-p-1"},cRt={class:"tw-col-span-12 tw-flex tw-justify-end tw-gap-2"},uRt=(0,s._)("svg",{class:"tw-stroke-gray-500",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24"},[(0,s._)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})],-1),pRt=(0,s._)("span",null,"Clear",-1),mRt=[uRt,pRt],gRt=(0,s._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[(0,s._)("path",{fill:"#fff",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1),hRt=(0,s._)("span",null,"Filter",-1),fRt=[gRt,hRt];function yRt(t,e,r,a,o,l){const i=(0,s.up)("DateFilter");return(0,s.wg)(),(0,s.iD)("div",nRt,[dRt,(0,s._)("div",wRt,[(0,s.Wm)(i,{from:o.filters.created_from,"onUpdate:from":e[0]||(e[0]=t=>o.filters.created_from=t),to:o.filters.created_to,"onUpdate:to":e[1]||(e[1]=t=>o.filters.created_to=t),label:"Dropped"},null,8,["from","to"]),(0,s._)("div",cRt,[(0,s._)("button",{onClick:e[2]||(e[2]=(...t)=>l.clear&&l.clear(...t)),class:"tw-flex tw-items-center tw-text-gray-500 tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-transition-colors tw-duration-200 tw-bg-gray-200 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-gray-300 darkx:hover:tw-bg-gray-500 darkx:tw-bg-gray-600"},mRt),(0,s._)("button",{onClick:e[3]||(e[3]=(...t)=>l.filter&&l.filter(...t)),class:"tw-flex tw-items-center tw-justify-center tw-px-5 tw-py-2 tw-text-sm tw-tracking-wide tw-text-white tw-transition-colors tw-duration-200 tw-bg-orange-500 tw-rounded-lg shrink-0 sm:tw-w-auto tw-gap-x-2 hover:tw-bg-orange-600 darkx:hover:tw-bg-orange-500 darkx:tw-bg-orange-600"},fRt)])])])}const xRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},bRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},vRt=(0,s.uE)('<option value="all" selected>All</option><option value="today" class="tw-capitalize">Today</option><option value="yesterday" class="tw-capitalize">Yesterday</option><option value="this-month" class="tw-capitalize">This Month</option><option value="last-month" class="tw-capitalize">Last Month</option><option value="custom" class="tw-capitalize">Custom</option>',6),_Rt=[vRt],kRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},CRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},DRt=["value"],SRt={class:"md:tw-col-span-3 tw-col-span-12 tw-rounded"},zRt={for:"countries",class:"tw-block tw-mb-2 tw-text-sm tw-font-medium tw-text-gray-900"},URt=["value"];function PRt(t,e,r,o,l,i){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",xRt,[(0,s._)("label",bRt,(0,at.zw)(r.label),1),(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.filterBy=t),class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},_Rt,512),[[a.bM,l.filterBy]])]),"custom"==l.filterBy?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("div",kRt,[(0,s._)("label",CRt,(0,at.zw)(r.label)+" From",1),(0,s._)("input",{onInput:e[1]||(e[1]=t=>i.handleChange(t,"from")),value:r.from,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,DRt)]),(0,s._)("div",SRt,[(0,s._)("label",zRt,(0,at.zw)(r.label)+" To",1),(0,s._)("input",{onInput:e[2]||(e[2]=t=>i.handleChange(t,"to")),value:r.to,type:"date",class:"tw-bg-gray-50 tw-border-solid tw-outline-none tw-border tw-border-gray-300 tw-text-gray-900 tw-text-sm tw-rounded-lg focus:tw-ring-orange-500 focus:tw-border-orange-500 tw-block tw-w-full tw-p-2.5"},null,40,URt)])],64)):(0,s.kq)("",!0)],64)}var LRt={props:{from:{required:!0},to:{required:!0},label:{required:!0}},data(){return{filterBy:"all"}},watch:{filterBy(t){let e=null;switch(t){case"all":this.setFrom(null),this.setTo(null);break;case"today":e=Qg()().format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"yesterday":e=Qg()().subtract(1,"days").format("YYYY-MM-DD"),this.setFrom(e),this.setTo(e);break;case"this-month":var r=Qg()().startOf("month").format("YYYY-MM-DD"),a=Qg()().endOf("month").format("YYYY-MM-DD");this.setFrom(r),this.setTo(a);break;case"last-month":r=Qg()().subtract(1,"months").startOf("month").format("YYYY-MM-DD"),a=Qg()().subtract(1,"months").endOf("month").format("YYYY-MM-DD"),this.setFrom(r),this.setTo(a);break;default:break}}},methods:{setFrom(t){this.$emit("update:from",t)},setTo(t){this.$emit("update:to",t)},handleChange(t,e){switch(e){case"from":this.setFrom(t.target.value);break;case"to":this.setTo(t.target.value);break;default:break}}}};const qRt=(0,p.Z)(LRt,[["render",PRt]]);var $Rt=qRt,ARt={components:{DateFilter:$Rt},props:{},data(){return{dateFilter:["",""],filters:{}}},watch:{filters:{deep:!0,handler(t){console.log(t)}}},methods:{clear(){this.filters={created_from:null,created_to:null}},filter(){this.$emit("update",this.filters),this.$emit("filter")}},mounted(){this.clear(),this.filter()}};const WRt=(0,p.Z)(ARt,[["render",yRt]]);var ERt=WRt,TRt={components:{IndexStatistics:iRt,IndexFilters:ERt},data(){return{filters:null,statistics:null,fetching:!0}},methods:{handleFilter(){this.fetching=!0,E.statistics(this.filters).then((t=>{"SUCCESS"==t.data.code&&(this.statistics=t.data.data.statistics,this.fetching=!1)})).catch(this.$handleApiError)}}};const FRt=(0,p.Z)(TRt,[["render",Njt]]);var ORt=FRt,VRt={name:"dashboards",path:"/dashboards",component:ca,meta:{module:"dashboards",gate:"all"},children:[{name:"dashboards/admin",path:"admin",component:qOt,meta:{module:"dashboards",subModule:"dashboards/admin",title:"Dashboard",gate:"all"}},{name:"dashboards/seller",path:"seller",component:UIt,meta:{module:"dashboards",subModule:"dashboards/seller",title:"Dashboard",gate:"all"}},{name:"dashboards/analytics",path:"/analytics",component:Mjt,meta:{module:"dashboards",subModule:"dashboards/analytics",title:"Dashboard Analytics",gate:"show_all_ads"}},{name:"dashboards/agent",path:"agent",component:ORt,meta:{module:"dashboards",subModule:"dashboards/agent",title:"Dashboard",gate:"all"}}]};const IRt=(0,s._)("div",{class:"mb-5 tw-flex tw-justify-between tw-items-center"},[(0,s._)("div",null,[(0,s._)("h1",{class:"tw-text-gray-700 font-weight-medium tw-text-md md:tw-text-lg"},"Page not found")])],-1),jRt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-flex tw-items-center tw-justify-center tw-rounded-md tw-min-h-[500px]"},RRt={class:"tw-flex tw-items-center tw-flex-col"},MRt=(0,s._)("div",{class:"md:tw-text-6xl tw-text-4xl tw-font-black text-primary-color"},"404",-1),NRt={class:"tw-w-fit tw-flex tw-items-center md:tw-text-2xl tw-text-xl mt-md-5 mt-3 tw-gap-2"},HRt=(0,s._)("div",{class:"tw-max-w-[400px] tw-text-center md:tw-text-lg tw-text-sm mt-5"}," The page you requested was not found or you don't have the permission to access it. ",-1);function YRt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[IRt,(0,s._)("div",jRt,[(0,s._)("div",RRt,[MRt,(0,s._)("div",NRt,[(0,s.Wm)(lt.t,null,{default:(0,s.w5)((()=>[(0,s.Uk)("mdi-alert-circle")])),_:1}),(0,s.Uk)(" Oops! Page not found! ")]),HRt])])])}var ZRt={};const KRt=(0,p.Z)(ZRt,[["render",YRt]]);var BRt=KRt;const QRt={class:"py-5 px-5 tw-border bg-white tw-w-full tw-rounded-md"};function JRt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",QRt,[(0,s._)("div",null,[(0,s.Wm)(st.T,{onClick:l.sendRequest,loading:o.isLoading,variant:"flat",color:"primary-color"},{default:(0,s.w5)((()=>[(0,s.Uk)("Send Request")])),_:1},8,["onClick","loading"])])])])}const GRt="api/orders/count",XRt="get";var tMt={name:"Orders from Youcan",sheet_id:"QSDfFsqdDSQDfrsqFDSRHTRzer",sheet_name:"Youcan-Orders",auto_fetch:!0},eMt={data(){return{isLoading:!1,test:tMt}},methods:{async sendRequest(){switch(this.isLoading=!0,await A.getCookie(),XRt){case"get":q.get(GRt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"post":q.post(GRt,tMt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;case"delete":q["delete"](GRt).then((t=>{console.log("---- Success Response ----"),console.log(`---- Code ${t.status} ----`),console.log(t.data)}),(t=>{this.$handleApiError(t),console.log("---- Failed Response ----"),console.log(`---- Code ${t?.response.status} ----`),console.log(t?.response?.data)})).finally((()=>this.isLoading=!1));break;default:break}}}};const rMt=(0,p.Z)(eMt,[["render",JRt]]);var aMt=rMt;const sMt=[Ht,Ezt,Rp,VRt,bA,LF,p7,Bst,pit,jwt,lut,_pt,Ebt,Y_t,qEt,fWt,{name:"default",path:"/test",component:ca,children:[{name:"test",path:"",component:aMt,meta:{title:"Test abro m3a rasek",module:"test",gate:"all"}}]},{name:"not-found",path:"/404",component:ca,meta:{title:"Not Found"},children:[{name:"404",path:"",component:BRt}]},{name:"catch-all",path:"/:pathMatch(.*)",beforeEnter:(t,e,r)=>r({name:"404"}),meta:{title:"Not Found"}}],oMt=(0,h.p7)({history:(0,h.PO)("/"),routes:sMt});oMt.beforeEach(((t,e)=>rt(t,e,oMt)));var lMt=oMt,iMt=(r(9773),r(8957));const nMt={colors:{"primary-color":"#FF9F43","secondary-color":"#1B2850","primary-indigo":"#1B2850","primary-orange":"#FF9F43","primary-blue":"#00CFE8","primary-green":"#28C76F"}};var dMt=(0,iMt.Rd)({theme:{defaultTheme:"customTheme",themes:{customTheme:nMt}}});const wMt={install(t){t.config.globalProperties.$can=function(t){const e=this.$store.getters["user/permissions"];return e.includes(t)}}};var cMt=wMt;const uMt={install(t){t.config.globalProperties.$user=t.config.globalProperties.$store.getters["user/user"],t.config.globalProperties.$alert=function(t){this.$store.dispatch("alert/toggleAlert",t)}}};var pMt=uMt;const mMt={install(t){t.config.globalProperties.$handleApiError=function(e){const r=e?.response?.data?.code;let a="error",s="Something wrong happened. Try again",o=!0;const l=["VALIDATION_ERROR","NOT_ACTIVE_ERROR","INVALID_CREDENTIALS","PERMISSION_DENIED"];switch(l.includes(r)&&(o=!1),console.log(e),"ERR_NETWORK"==e.code&&(s="Network error. Check your connection"),r){case"NOT_ALLOWED":s="Your are not allowed to this resources";break;case"ERROR":s=e?.response?.data.message;break;case"NOT_AUTHENTICATED":s="Your session expired",setTimeout((()=>{t.config.globalProperties.$store.dispatch("user/logout"),t.config.globalProperties.$router.push("/login")}),2e3);break;case"NOT_FOUND":o=!1,t.config.globalProperties.$router.push({name:"404"});break;case"RELOAD":o=!1,console.log("reload"),location.reload(!0);break;case"HIDE_APP":o=!1,document.getElementById("app").innerHTML="";break;default:break}return o&&t.config.globalProperties.$alert({type:a,title:s}),e}}};var gMt=mMt,hMt=r(7025);const fMt=t=>((0,s.dD)("data-v-ff4afcd0"),t=t(),(0,s.Cn)(),t),yMt={class:"tw-min-h-[500px] tw-flex tw-items-center tw-justify-center tw-bg-white tw-rounded-md tw-border"},xMt=fMt((()=>(0,s._)("div",{class:"tw-w-[40px] tw-h-[40px] tw-animate-spin loading tw-border-4 tw-border-x-transparent tw-border-t-transparent tw-rounded-full"},null,-1))),bMt=[xMt];function vMt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",yMt,bMt)}var _Mt={};const kMt=(0,p.Z)(_Mt,[["render",vMt],["__scopeId","data-v-ff4afcd0"]]);var CMt=kMt;const DMt={class:"tw-flex tw-justify-center tw-items-center"},SMt=(0,s._)("div",{class:"tw-relative tw-w-8 tw-h-8 tw-animate-spin tw-rounded-full tw-bg-gradient-to-r tw-from-purple-400 tw-via-blue-500 tw-to-red-400"},[(0,s._)("div",{class:"tw-absolute tw-top-1/2 tw-left-1/2 tw-transform tw--translate-x-1/2 tw--translate-y-1/2 tw-w-7 tw-h-7 tw-bg-white tw-rounded-full tw-border-2 tw-border-white"})],-1),zMt=[SMt];function UMt(t,e,r,a,o,l){return(0,s.wg)(),(0,s.iD)("div",DMt,zMt)}var PMt={};const LMt=(0,p.Z)(PMt,[["render",UMt]]);var qMt=LMt;const $Mt={key:0},AMt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"},WMt={name:"body",class:"tw-z-[50999] tw-bg-white md:tw-min-w-[300px] md:tw-max-w-[800px] tw-flex tw-flex-col md:tw-min-h-[170px] tw-shadow-lg tw-rounded-lg tw-py-3 tw-px-5"},EMt=["innerHTML"],TMt={key:1,class:"tw-text-lg tw-text-gray-700"},FMt={class:"tw-flex tw-gap-3 tw-justify-end mt-5"};function OMt(t,e,r,a,o,l){return r.visible?((0,s.wg)(),(0,s.iD)("div",$Mt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",AMt,[(0,s._)("div",WMt,[(0,s._)("div",{class:(0,at.C_)(["tw-font-medium tw-text-lg mb-5 tw-text-start",l.currentType.class])},[(0,s.Wm)(lt.t,{size:"small",class:"mr-1"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,at.zw)(l.currentType.icon),1)])),_:1}),(0,s._)("span",null,(0,at.zw)(r.title),1)],2),r.body?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"tw-text-center tw-text-lg tw-text-gray-700",innerHTML:r.body},null,8,EMt)):((0,s.wg)(),(0,s.iD)("div",TMt,[(0,s.WI)(t.$slots,"default")])),(0,s.Wm)(nr.C),(0,s._)("div",FMt,[(0,s.Wm)(st.T,{variant:"flat",color:"grey",onClick:e[0]||(e[0]=t=>l.resolve(!1))},{default:(0,s.w5)((()=>[(0,s.Uk)("Cancel")])),_:1}),r.noConfirm?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(st.T,{key:0,loading:r.loading,variant:"flat",color:r.btnColor?r.btnColor:"red",onClick:e[1]||(e[1]=t=>l.resolve(!0))},{default:(0,s.w5)((()=>[(0,s.Uk)("Confirm")])),_:1},8,["loading","color"]))])]),(0,s._)("div",{onClick:e[2]||(e[2]=t=>l.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var VMt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("resolved",t)}},computed:{currentType(){return this.types[this.type]}}};const IMt=(0,p.Z)(VMt,[["render",OMt]]);var jMt=IMt;const RMt={key:0},MMt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function NMt(t,e,r,o,l,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",RMt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:".my-application"},[(0,s._)("div",null,[(0,s._)("div",MMt,[(0,s._)("div",{name:"body",onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] tw-overflow-y-auto tw-max-h-screen tw-flex tw-flex-col md:tw-min-h-[170px]"},[(0,s.WI)(t.$slots,"default")]),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-bg-neutral-900/50 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var HMt={props:["visible","loading","title","body","type","noConfirm","btnColor"],data(){return{show:!0,types:{warning:{class:"tw-text-orange-400",icon:"mdi-alert-circle-outline"},info:{class:"tw-text-blue-400",icon:"mdi-information-outline"}}}},watch:{visible(t){this.show=t}},methods:{resolve(t){this.$emit("cancel",t)}},computed:{currentType(){return this.types[this.type]}}};const YMt=(0,p.Z)(HMt,[["render",NMt]]);var ZMt=YMt,KMt=r(2340),BMt=r(5781),QMt=r.n(BMt);const JMt={key:0},GMt={ref:"popup",class:"tw-fixed tw-top-0 tw-left-0 tw-z-[50999] tw-right-0 tw-bottom-0 tw-flex tw-items-center tw-justify-center"};function XMt(t,e,r,o,l,i){return r.visible?((0,s.wg)(),(0,s.iD)("div",JMt,[((0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",null,[(0,s._)("div",GMt,[(0,s.Wm)(Et.Z5,null,{default:(0,s.w5)((()=>[l.showContent?((0,s.wg)(),(0,s.iD)("div",{key:0,onClick:e[0]||(e[0]=(0,a.iM)((t=>i.resolve(!1)),["self"])),class:"tw-z-[50999] tw-w-full md:tw-min-w-[300px] !tw-overflow-auto !tw-max-h-screen"},[(0,s.WI)(t.$slots,"default")])):(0,s.kq)("",!0)])),_:3}),(0,s._)("div",{onClick:e[1]||(e[1]=t=>i.resolve(!1)),class:(0,at.C_)(["tw-duration-300 tw-absolute tw-top-0 tw-left-0 tw-w-full tw-h-full tw-backdrop-blur-sm tw-bg-black/20 tw-opacity-0",{"!tw-opacity-100":r.visible}])},null,2)],512)])]))])):(0,s.kq)("",!0)}var tNt={props:{visible:{required:!0,default:!1},closeable:{required:!1,default:!0}},data(){return{showContent:!1}},watch:{visible(t){t?setTimeout((()=>{this.showContent=t}),0):this.showContent=t}},methods:{resolve(t){this.closeable&&this.$emit("cancel",t)}},computed:{},mounted(){this.showContent=this.visible},unmounted(){}};const eNt=(0,p.Z)(tNt,[["render",XMt]]);var rNt=eNt,aNt=(0,a.ri)(g).use(lMt).use(X).use(dMt).use(cMt).use(pMt).use(gMt).use(hMt.Z).component("LoadingAnimation",CMt).component("Loading",qMt).component("Popup",jMt).component("PopupFull",ZMt).component("VueDatePicker",KMt.Z).component("downloadCsv",QMt()).component("popupNew",rNt).mount("#app")}},e={};function r(a){var s=e[a];if(void 0!==s)return s.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,function(){var t=[];r.O=function(e,a,s,o){if(!a){var l=1/0;for(w=0;w<t.length;w++){a=t[w][0],s=t[w][1],o=t[w][2];for(var i=!0,n=0;n<a.length;n++)(!1&o||l>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[n])}))?a.splice(n--,1):(i=!1,o<l&&(l=o));if(i){t.splice(w--,1);var d=s();void 0!==d&&(e=d)}}return e}o=o||0;for(var w=t.length;w>0&&t[w-1][2]>o;w--)t[w]=t[w-1];t[w]=[a,s,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,o,l=a[0],i=a[1],n=a[2],d=0;if(l.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(n)var w=n(r)}for(e&&e(a);d<l.length;d++)o=l[d],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(w)},a=self["webpackChunkproduction"]=self["webpackChunkproduction"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[998],(function(){return r(2477)}));a=r.O(a)})();
//# sourceMappingURL=app.ffd99ce9.js.map